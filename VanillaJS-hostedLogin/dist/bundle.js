/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={857:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function r(e,t){try{return t in e}catch(e){return!1}}function l(e,n,s){(s=s||{}).arrayMerge=s.arrayMerge||o,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=i;var c=Array.isArray(n);return c===Array.isArray(e)?c?s.arrayMerge(e,n,s):function(e,t,n){var o={};return n.isMergeableObject(e)&&a(e).forEach((function(t){o[t]=i(e[t],n)})),a(t).forEach((function(a){(function(e,t){return r(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(r(e,a)&&n.isMergeableObject(t[a])?o[a]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(a,n)(e[a],t[a],n):o[a]=i(t[a],n))})),o}(e,n,s):i(n,s)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var s=l;e.exports=s},649:(e,t,n)=>{var i=n(114).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function y(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),l=new w(i||[]);return r(a,"_invoke",{value:P(e,n,l)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=y;var g={};function p(){}function S(){}function v(){}var m={};u(m,s,(function(){return this}));var h=Object.getPrototypeOf,b=h&&h(h(O([])));b&&b!==n&&a.call(b,s)&&(m=b);var A=v.prototype=p.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,r,l,s){var c=f(e[o],e,r);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==i(u)&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,o){n(e,i,t,o)}))}return o=o?o.then(a,a):a()}})}function P(e,t,n){var i="suspendedStart";return function(o,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var r=n.delegate;if(r){var l=I(r,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=f(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return S.prototype=v,r(A,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:S,configurable:!0}),S.displayName=u(v,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,d,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(T.prototype),u(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new T(y(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},k(A),u(A,d,"Generator"),u(A,s,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=O,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],r=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},114:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},975:(e,t,n)=>{var i=n(649)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{Delete:()=>ga,Get:()=>da,Patch:()=>ya,Post:()=>ua,PostDownload:()=>pa,Put:()=>fa,getBaseUrl:()=>sa});var t={};n.r(t),n.d(t,{getSubTenants:()=>Ja,getSubTenantsAsTree:()=>Ya,getTenants:()=>Ha,switchTenant:()=>za});var i={};n.r(i),n.d(i,{AuthStrategyEnum:()=>Ar,SocialLoginProviders:()=>br,acceptInvitation:()=>jr,activateAccount:()=>Nr,bulkCreateIPRestriction:()=>pr,changePhoneNumber:()=>Ls,changePhoneNumberWithVerification:()=>Ps,checkIfAllowToRememberMfaDevice:()=>Zl,createDomainRestriction:()=>cr,createIPRestriction:()=>gr,createOrUpdateSessionConfigrations:()=>Kl,createSSOConfiguration:()=>os,createSSOConfigurationByMetadata:()=>ls,createSSODomain:()=>cs,createSSOGroup:()=>gs,createSamlGroup:()=>Ol,deleteAllSessionsForUser:()=>ql,deleteDomainRestriction:()=>ur,deleteIPRestriction:()=>vr,deleteSSOConfiguration:()=>rs,deleteSSODomain:()=>ds,deleteSSOGroup:()=>Ss,deleteSamlGroup:()=>Dl,deleteSessionForUser:()=>Gl,deleteTenantApiToken:()=>Yl,deleteUserApiToken:()=>Ql,disableMFAAuthenticatorApp:()=>ol,disableMFASMS:()=>rl,disableMFAWebAuthn:()=>sl,disableMfa:()=>il,enrollMFAAuthenticatorApp:()=>Qr,enrollMFAAuthenticatorAppForLogin:()=>ul,enrollMFASMS:()=>Zr,enrollMFASMSForLogin:()=>gl,enrollMFAWebAuthn:()=>tl,enrollMFAWebAuthnForLogin:()=>ml,enrollMfa:()=>Jr,exchangeOAuthTokens:()=>bs,forgotPassword:()=>qr,generateLoginResponse:()=>wr,generateLoginResponseFromOAuthResponse:()=>Cr,generateLoginResponseV2:()=>Or,getActivateAccountStrategy:()=>Fr,getCaptchaPolicy:()=>ir,getCurrentUserSession:()=>Vl,getCurrentUserSessions:()=>xl,getDomainRestrictions:()=>lr,getDomainRestrictionsConfig:()=>sr,getGlobalSecurityPolicy:()=>Qa,getIPRestrictions:()=>yr,getIPRestrictionsConfig:()=>fr,getLockoutPolicy:()=>tr,getMFADevices:()=>cl,getMFAStrategiesConfig:()=>Rs,getMfaPolicy:()=>Xa,getOidcConfiguration:()=>Rl,getPasswordConfigPolicy:()=>rr,getPasswordHistoryPolicy:()=>or,getSSOConfigurations:()=>is,getSSODefaultRoles:()=>ys,getSSOGroups:()=>vs,getSSOPublicConfiguration:()=>_l,getSamlConfiguration:()=>Al,getSamlRoles:()=>Ll,getSamlRolesGroups:()=>El,getSamlVendorConfiguration:()=>Tl,getSessionConfigurations:()=>Wl,getSocialLoginProviders:()=>Ul,getSocialLoginProvidersV2:()=>Ml,getTenantApiTokensData:()=>zl,getUserApiTokensData:()=>Bl,getUserById:()=>Xl,getVendorConfig:()=>Nl,getVendorMfaPolicy:()=>Za,getVendorPublicAuthStrategiesConfig:()=>Ds,loadPasswordConfig:()=>zr,login:()=>Mr,loginViaSocialLogin:()=>$l,loginWithMfa:()=>$r,logout:()=>Gr,oidcPostLogin:()=>Ur,oidcPostLoginV2:()=>hs,passwordlessPostLogin:()=>ts,passwordlessPreLogin:()=>es,postLogin:()=>_r,preDisableMFASMS:()=>al,preDisableMFAWebAuthn:()=>ll,preEnrollMFAAuthenticatorApp:()=>Yr,preEnrollMFAAuthenticatorAppForLogin:()=>dl,preEnrollMFASMS:()=>Xr,preEnrollMFASMSForLogin:()=>fl,preEnrollMFAWebAuthn:()=>el,preEnrollMFAWebAuthnForLogin:()=>vl,preLogin:()=>Dr,preLoginV2:()=>ms,preLoginWithIdpType:()=>Rr,preVerifyMFASMSForLogin:()=>pl,preVerifyMFAWebAuthnForLogin:()=>hl,recoverMfaToken:()=>Hr,refreshToken:()=>Wr,refreshTokenV2:()=>Kr,resendActivationEmail:()=>xr,resendInvitationEmail:()=>Vr,resetPassword:()=>Br,resetPhoneNumber:()=>ks,revokeSessionsForUser:()=>jl,saveLockoutPolicy:()=>nr,saveMfaPolicy:()=>er,savePasswordHistoryPolicy:()=>ar,setSSODefaultRoles:()=>fs,signUpUser:()=>Fl,silentOAuthRefreshToken:()=>As,testCurrentIp:()=>mr,testCurrentIpInAllowList:()=>hr,updateDomainRestrictionConfig:()=>dr,updateIPRestrictionConfig:()=>Sr,updateSSOConfiguration:()=>as,updateSSOConfigurationByMetadata:()=>ss,updateSSOGroup:()=>ps,updateSamlConfiguration:()=>kl,updateSamlGroup:()=>Cl,updateSamlRoles:()=>wl,updateSamlVendorMetadata:()=>Pl,updateTenantApiTokensData:()=>Jl,updateUserApiTokensData:()=>Hl,validateSSODomain:()=>us,validateSamlDomain:()=>Il,verifyChangePhoneNumber:()=>Is,verifyInviteToken:()=>ns,verifyMFAAuthenticatorAppForLogin:()=>yl,verifyMFASMSForLogin:()=>Sl,verifyMFAWebAuthnForLogin:()=>bl,verifyMfa:()=>nl,verifyNewDeviceSession:()=>Cs,verifyResetPhoneNumber:()=>Ts,webAuthnCreateNewDeviceSession:()=>Os,webAuthnPostLogin:()=>ws,webAuthnPreLogin:()=>Es});var o={};n.r(o),n.d(o,{addUser:()=>Fs,changePassword:()=>$s,createInviteUserLink:()=>js,deleteInviteUserLink:()=>Ks,deleteUser:()=>xs,getInviteLinkConfiguration:()=>qs,getInviteUserLink:()=>Gs,getProfile:()=>_s,loadAvailablePermissions:()=>zs,loadAvailableRoles:()=>Bs,loadStats:()=>Hs,loadUsers:()=>Ns,resendActivationLink:()=>Js,resendInvitationLink:()=>Ys,resendInvitationLinkToAllTenants:()=>Qs,updateInviteUserLink:()=>Ws,updateProfile:()=>Us,updateProfileImage:()=>Ms,updateUser:()=>Vs});var a={};n.r(a),n.d(a,{getAuditsMetadata:()=>nc,getCurrentUserIpMetadata:()=>Zs,getIpAdressMetadata:()=>ic,getNotificationsMetadata:()=>ec,getSamlMetadata:()=>tc});var r={};n.r(r),n.d(r,{downloadReport:()=>uc,getReport:()=>sc,getReports:()=>lc,renderReport:()=>cc,scheduleReport:()=>dc,sendReport:()=>yc});var l={};n.r(l),n.d(l,{getNotifications:()=>fc,markAllAsRead:()=>Sc,updateNotificationIsPinned:()=>pc,updateNotificationStatus:()=>gc});var s={};n.r(s),n.d(s,{exportAudits:()=>bc,getAudits:()=>mc,getAuditsStats:()=>hc});var c={};n.r(c),n.d(c,{deleteEmailConfiguration:()=>Uc,deleteEmailSubscriptions:()=>Rc,deleteSMSConfiguration:()=>Vc,deleteSMSSubscriptions:()=>Fc,deleteSlackConfiguration:()=>Ec,deleteWebhooksConfiguration:()=>Kc,getCategories:()=>zc,getChannelMaps:()=>Hc,getEmailConfiguration:()=>Oc,getSMSConfiguration:()=>Mc,getSlackChannels:()=>Ic,getSlackConfiguration:()=>Tc,getSlackScope:()=>Pc,getWebhookLog:()=>Gc,getWebhooksConfigurations:()=>jc,patchEmailConfiguration:()=>Dc,patchSMSConfiguration:()=>Nc,postEmailConfiguration:()=>Cc,postSMSConfiguration:()=>$c,postSlackCode:()=>wc,postSlackConfiguration:()=>Lc,postWebhookRetry:()=>Bc,postWebhookTest:()=>qc,postWebhooksConfiguration:()=>Wc,putEmailSubscriptions:()=>_c,putSMSSubscriptions:()=>xc});var d={};n.r(d),n.d(d,{getSettings:()=>Yc,updateSettings:()=>Jc});var u={};n.r(u),n.d(u,{addRole:()=>td,attachPermissionToRoles:()=>rd,attachPermissionsToRole:()=>od,deleteRole:()=>nd,getPermissionCategories:()=>ld,getPermissions:()=>ad,getRoles:()=>ed,updateRole:()=>id});var y={};n.r(y),n.d(y,{ISubscriptionCancellationPolicy:()=>xd,ISubscriptionStatus:()=>Nd,PaymentMethodType:()=>Fd,ProviderType:()=>Vd,TenantCreatedAction:()=>Wd,TrialEndAction:()=>jd,cancelManagedSubscription:()=>pd,cancelSubscription:()=>dd,createStripeCustomer:()=>Od,createStripePaymentMethodSetupIntentSecret:()=>Dd,createSubscription:()=>Ed,createTenantConfiguration:()=>Ud,getManagedSubscription:()=>fd,getManagedSubscriptions:()=>gd,getPaymentMethod:()=>Id,getPaymentMethods:()=>Pd,getPaymentProviders:()=>Md,getStripeCustomer:()=>wd,getStripePaymentProviderConfiguration:()=>Cd,getSubscription:()=>cd,getSubscriptionInvoice:()=>Ad,getSubscriptionInvoicePdf:()=>kd,getSubscriptionInvoices:()=>bd,getSubscriptionPlan:()=>hd,getSubscriptionPlans:()=>md,getSubscriptionSummaries:()=>Rd,getSubscriptions:()=>sd,getTenantConfiguration:()=>_d,getVendorPublicConfigurations:()=>$d,renewManagedSubscription:()=>Sd,renewSubscription:()=>ud,updateManagedSubscription:()=>vd,updatePaymentMethodBillingDetails:()=>Ld,updateSubscription:()=>yd});var f={};n.r(f),n.d(f,{getVendorPublicInfo:()=>Hd});var g={};n.r(g),n.d(g,{addUserRolesForSubTenants:()=>Xd,addUserToTenantAndSubTenants:()=>Yd,loadAllUsers:()=>Jd,removeUserFromTenantAndSubTenants:()=>Qd,removeUserRolesFromSubTenants:()=>Zd,setUserRolesForSubTenants:()=>eu});var p={};n.r(p),n.d(p,{loadFeatureFlags:()=>tu});var S={};n.r(S),n.d(S,{countConfigurationUsers:()=>ru,createConfiguration:()=>ou,deleteConfiguration:()=>au,getConfigs:()=>nu,updateConfiguration:()=>iu});var v={};n.r(v),n.d(v,{AuthStrategyEnum:()=>Ar,ContextHolder:()=>aa,FronteggApiError:()=>la,FronteggContext:()=>ra,ISubscriptionCancellationPolicy:()=>xd,ISubscriptionStatus:()=>Nd,MFAStrategyEnum:()=>qd,PaymentMethodType:()=>Fd,ProviderType:()=>Vd,RestrictionType:()=>Hn,ScimConnectionSource:()=>yu,SecondaryAuthStrategy:()=>Kd,SocialLoginProviders:()=>br,TenantType:()=>zd,UserManagedByEnum:()=>Bd,WebAuthnDeviceType:()=>Gd,api:()=>fu,countConfigurationUsers:()=>ru,createConfiguration:()=>ou,default:()=>gu,deleteConfiguration:()=>au,fetch:()=>e,fronteggAuthApiRoutes:()=>lu,fronteggRefreshTokenUrl:()=>su,fronteggSilentRefreshTokenUrl:()=>cu,fronteggTenantsUrl:()=>uu,fronteggUsersUrl:()=>du,getConfigs:()=>nu,loadFeatureFlags:()=>tu,updateConfiguration:()=>iu});var m={};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function A(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,A(i.key),i)}}function T(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}function L(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e,t,n){return O=w()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&P(o,n.prototype),o},O.apply(null,arguments)}function C(e){var t="function"==typeof Map?new Map:void 0;return C=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return O(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),P(n,e)},C(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},D.apply(this,arguments)}function R(e,t,n,i,o,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(i,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){R(a,i,o,r,l,"next",e)}function l(e){R(a,i,o,r,l,"throw",e)}r(void 0)}))}}n.r(m),n.d(m,{AccountPageFields:()=>sT,DomainRestrictionsTabFields:()=>gT,GeneralSettingsTabFields:()=>yT,InviteUserModalFields:()=>lT,IpRestrictionsTabFields:()=>fT,Metadata:()=>eT,PrivacyPageFields:()=>rT,ProfilePageFields:()=>aT,SecurityPageTabs:()=>dT,SessionManagementTabFields:()=>uT,SsoPageTabs:()=>pT,SubscriptionsPageFields:()=>cT,fieldAppearance:()=>ST,tabAppearance:()=>vT});var U=n(975),M=n.n(U);function $(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function N(e){return!!e&&!!e[Te]}function F(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Pe}(e)||Array.isArray(e)||!!e[ke]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ke])||G(e)||q(e))}function x(e,t,n){void 0===n&&(n=!1),0===V(e)?(n?Object.keys:Ie)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function V(e){var t=e[Te];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:G(e)?2:q(e)?3:0}function j(e,t){return 2===V(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function W(e,t,n){var i=V(e);2===i?e.set(t,n):3===i?(e.delete(t),e.add(n)):e[t]=n}function K(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function G(e){return me&&e instanceof Map}function q(e){return he&&e instanceof Set}function B(e){return e.o||e.t}function z(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Le(e);delete t[Te];for(var n=Ie(t),i=0;i<n.length;i++){var o=n[i],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function H(e,t){return void 0===t&&(t=!1),Y(e)||N(e)||!F(e)||(V(e)>1&&(e.set=e.add=e.clear=e.delete=J),Object.freeze(e),t&&x(e,(function(e,t){return H(t,!0)}),!0)),e}function J(){$(2)}function Y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Q(e){var t=Ee[e];return t||$(18,e),t}function X(){return Se}function Z(e,t){t&&(Q("Patches"),e.u=[],e.s=[],e.v=t)}function ee(e){te(e),e.p.forEach(ie),e.p=null}function te(e){e===Se&&(Se=e.l)}function ne(e){return Se={p:[],l:Se,h:e,m:!0,_:0}}function ie(e){var t=e[Te];0===t.i||1===t.i?t.j():t.O=!0}function oe(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||Q("ES5").S(t,e,i),i?(n[Te].P&&(ee(t),$(4)),F(e)&&(e=ae(t,e),t.l||le(t,e)),t.u&&Q("Patches").M(n[Te].t,e,t.u,t.s)):e=ae(t,n,[]),ee(t),t.u&&t.v(t.u,t.s),e!==Ae?e:void 0}function ae(e,t,n){if(Y(t))return t;var i=t[Te];if(!i)return x(t,(function(o,a){return re(e,i,t,o,a,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return le(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=4===i.i||5===i.i?i.o=z(i.k):i.o;x(3===i.i?new Set(o):o,(function(t,a){return re(e,i,o,t,a,n)})),le(e,o,!1),n&&e.u&&Q("Patches").R(i,n,e.u,e.s)}return i.o}function re(e,t,n,i,o,a){if(N(o)){var r=ae(e,o,a&&t&&3!==t.i&&!j(t.D,i)?a.concat(i):void 0);if(W(n,i,r),!N(r))return;e.m=!1}if(F(o)&&!Y(o)){if(!e.h.F&&e._<1)return;ae(e,o),t&&t.A.l||le(e,o)}}function le(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&H(t,n)}function se(e,t){var n=e[Te];return(n?B(n):e)[t]}function ce(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function de(e){e.P||(e.P=!0,e.l&&de(e.l))}function ue(e){e.o||(e.o=z(e.t))}function ye(e,t,n){var i=G(t)?Q("MapSet").N(t,n):q(t)?Q("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:X(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=i,a=we;n&&(o=[i],a=Oe);var r=Proxy.revocable(o,a),l=r.revoke,s=r.proxy;return i.k=s,i.j=l,s}(t,n):Q("ES5").J(t,n);return(n?n.A:X()).p.push(i),i}function fe(e){return N(e)||$(22,e),function e(t){if(!F(t))return t;var n,i=t[Te],o=V(t);if(i){if(!i.P&&(i.i<4||!Q("ES5").K(i)))return i.t;i.I=!0,n=ge(t,o),i.I=!1}else n=ge(t,o);return x(n,(function(t,o){i&&function(e,t){return 2===V(e)?e.get(t):e[t]}(i.t,t)===o||W(n,t,e(o))})),3===o?new Set(n):n}(e)}function ge(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return z(e)}var pe,Se,ve="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),me="undefined"!=typeof Map,he="undefined"!=typeof Set,be="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ae=ve?Symbol.for("immer-nothing"):((pe={})["immer-nothing"]=!0,pe),ke=ve?Symbol.for("immer-draftable"):"__$immer_draftable",Te=ve?Symbol.for("immer-state"):"__$immer_state",Pe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ie="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Le=Object.getOwnPropertyDescriptors||function(e){var t={};return Ie(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Ee={},we={get:function(e,t){if(t===Te)return e;var n=B(e);if(!j(n,t))return function(e,t,n){var i,o=ce(t,n);return o?"value"in o?o.value:null===(i=o.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!F(i)?i:i===se(e.t,t)?(ue(e),e.o[t]=ye(e.A.h,i,e)):i},has:function(e,t){return t in B(e)},ownKeys:function(e){return Reflect.ownKeys(B(e))},set:function(e,t,n){var i=ce(B(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var o=se(B(e),t),a=null==o?void 0:o[Te];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(K(n,o)&&(void 0!==n||j(e.t,t)))return!0;ue(e),de(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==se(e.t,t)||t in e.t?(e.D[t]=!1,ue(e),de(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=B(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){$(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){$(12)}},Oe={};x(we,(function(e,t){Oe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Oe.deleteProperty=function(e,t){return Oe.set.call(this,e,t,void 0)},Oe.set=function(e,t,n){return we.set.call(this,e[0],t,n,e[0])};var Ce=function(){function e(e){var t=this;this.g=be,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var i=arguments.length,r=Array(i>1?i-1:0),l=1;l<i;l++)r[l-1]=arguments[l];return a.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(r))}))}}var r;if("function"!=typeof n&&$(6),void 0!==i&&"function"!=typeof i&&$(7),F(e)){var l=ne(t),s=ye(t,e,void 0),c=!0;try{r=n(s),c=!1}finally{c?ee(l):te(l)}return"undefined"!=typeof Promise&&r instanceof Promise?r.then((function(e){return Z(l,i),oe(e,l)}),(function(e){throw ee(l),e})):(Z(l,i),oe(r,l))}if(!e||"object"!=typeof e){if(void 0===(r=n(e))&&(r=e),r===Ae&&(r=void 0),t.F&&H(r,!0),i){var d=[],u=[];Q("Patches").M(e,r,d,u),i(d,u)}return r}$(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var i,o,a=t.produce(e,n,(function(e,t){i=e,o=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,i,o]})):[a,i,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){F(e)||$(8),N(e)&&(e=fe(e));var t=ne(this),n=ye(this,e,void 0);return n[Te].C=!0,te(t),n},t.finishDraft=function(e,t){var n=(e&&e[Te]).A;return Z(n,t),oe(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!be&&$(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var o=Q("Patches").$;return N(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),De=new Ce,Re=De.produce;De.produceWithPatches.bind(De),De.setAutoFreeze.bind(De),De.setUseProxies.bind(De),De.applyPatches.bind(De),De.createDraft.bind(De),De.finishDraft.bind(De);const _e=Re;function Ue(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Fe="function"==typeof Symbol&&Symbol.observable||"@@observable",xe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ve={INIT:"@@redux/INIT"+xe(),REPLACE:"@@redux/REPLACE"+xe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xe()}};function je(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function We(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ne(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ne(1));return n(We)(e,t)}if("function"!=typeof e)throw new Error(Ne(2));var o=e,a=t,r=[],l=r,s=!1;function c(){l===r&&(l=r.slice())}function d(){if(s)throw new Error(Ne(3));return a}function u(e){if("function"!=typeof e)throw new Error(Ne(4));if(s)throw new Error(Ne(5));var t=!0;return c(),l.push(e),function(){if(t){if(s)throw new Error(Ne(6));t=!1,c();var n=l.indexOf(e);l.splice(n,1),r=null}}}function y(e){if(!je(e))throw new Error(Ne(7));if(void 0===e.type)throw new Error(Ne(8));if(s)throw new Error(Ne(9));try{s=!0,a=o(a,e)}finally{s=!1}for(var t=r=l,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(Ne(10));o=e,y({type:Ve.REPLACE})}function g(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Ne(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[Fe]=function(){return this},e}return y({type:Ve.INIT}),(i={dispatch:y,subscribe:u,getState:d,replaceReducer:f})[Fe]=g,i}function Ke(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];"function"==typeof e[o]&&(n[o]=e[o])}var a,r=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Ve.INIT}))throw new Error(Ne(12));if(void 0===n(void 0,{type:Ve.PROBE_UNKNOWN_ACTION()}))throw new Error(Ne(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,o={},l=0;l<r.length;l++){var s=r[l],c=n[s],d=e[s],u=c(d,t);if(void 0===u)throw t&&t.type,new Error(Ne(14));o[s]=u,i=i||u!==d}return(i=i||r.length!==Object.keys(e).length)?o:e}}function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(Ne(15))},o={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map((function(e){return e(o)}));return i=Ge.apply(void 0,a)(n.dispatch),$e($e({},n),{},{dispatch:i})}}}function Be(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,i,e):t(o)}}}}var ze=Be();ze.withExtraArgument=Be;const He=ze;var Je,Ye=(Je=function(e,t){return Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Je(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Je(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Qe=function(e,t){for(var n=0,i=t.length,o=e.length;n<i;n++,o++)e[o]=t[n];return e},Xe=Object.defineProperty,Ze=Object.defineProperties,et=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,ot=function(e,t,n){return t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},at=function(e,t){for(var n in t||(t={}))nt.call(t,n)&&ot(e,n,t[n]);if(tt)for(var i=0,o=tt(t);i<o.length;i++)n=o[i],it.call(t,n)&&ot(e,n,t[n]);return e},rt=function(e,t){return Ze(e,et(t))},lt="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Ge:Ge.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var st=function(e){function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Ye(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Qe([void 0],e[0].concat(this)))):new(t.bind.apply(t,Qe([void 0],e.concat(this))))},t}(Array);function ct(e){return F(e)?_e(e,(function(){})):e}function dt(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,i=(e.immutableCheck,e.serializableCheck,new st);return n&&(function(e){return"boolean"==typeof e}(n)?i.push(He):i.push(He.withExtraArgument(n.extraArgument))),i}function ut(e){var t,n=function(e){return dt(e)},i=e||{},o=i.reducer,a=void 0===o?void 0:o,r=i.middleware,l=void 0===r?n():r,s=i.devTools,c=void 0===s||s,d=i.preloadedState,u=void 0===d?void 0:d,y=i.enhancers,f=void 0===y?void 0:y;if("function"==typeof a)t=a;else{if(!function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ke(a)}var g=l;"function"==typeof g&&(g=g(n));var p=qe.apply(void 0,g),S=Ge;c&&(S=lt(at({trace:!1},"object"==typeof c&&c)));var v=[p];return Array.isArray(f)?v=Qe([p],f):"function"==typeof f&&(v=f(v)),We(t,u,S.apply(void 0,v))}function yt(e,t){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return at(at({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ft(e){var t,n={},i=[],o={addCase:function(e,t){var i="string"==typeof e?e:e.type;if(i in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[i]=t,o},addMatcher:function(e,t){return i.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,i,t]}function gt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,i="function"==typeof e.initialState?e.initialState:ct(e.initialState),o=e.reducers||{},a=Object.keys(o),r={},l={},s={};function c(){var t="function"==typeof e.extraReducers?ft(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,a=t[1],r=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,d=at(at({},o),l);return function(e,t,n,i){void 0===n&&(n=[]);var o,a=ft(t),r=a[0],l=a[1],s=a[2];if(function(e){return"function"==typeof e}(e))o=function(){return ct(e())};else{var c=ct(e);o=function(){return c}}function d(e,t){void 0===e&&(e=o());var n=Qe([r[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var i;if(N(e))return void 0===(i=n(e,t))?e:i;if(F(e))return _e(e,(function(e){return n(e,t)}));if(void 0===(i=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return e}),e)}return d.getInitialState=o,d}(i,(function(e){for(var t in d)e.addCase(t,d[t]);for(var n=0,i=r;n<i.length;n++){var o=i[n];e.addMatcher(o.matcher,o.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,i,a=o[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,i=a.prepare):n=a,r[e]=n,l[c]=n,s[e]=i?yt(c,i):yt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:r,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var pt=["name","message","stack","code"],St=function(e,t){this.payload=e,this.meta=t},vt=function(e,t){this.payload=e,this.meta=t},mt=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,i=pt;n<i.length;n++){var o=i[n];"string"==typeof e[o]&&(t[o]=e[o])}return t}return{message:String(e)}};function ht(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}!function(){function e(e,t,n){var i=yt(e+"/fulfilled",(function(e,t,n,i){return{payload:e,meta:rt(at({},i||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),o=yt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:rt(at({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=yt(e+"/rejected",(function(e,t,i,o,a){return{payload:o,error:(n&&n.serializeError||mt)(e||"Rejected"),meta:rt(at({},a||{}),{arg:i,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),r="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(l,s,c){var d,u=(null==n?void 0:n.idGenerator)?n.idGenerator(e):function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}(),y=new r;function f(e){d=e,y.abort()}var g=function(){return r=this,g=null,p=function(){var r,g,p,S,v,m;return function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),null===(b=S=null==(r=null==n?void 0:n.condition)?void 0:r.call(n,e,{getState:s,extra:c}))||"object"!=typeof b||"function"!=typeof b.then?[3,2]:[4,S];case 1:S=h.sent(),h.label=2;case 2:if(!1===S||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=new Promise((function(e,t){return y.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:d||"Aborted"})}))})),l(o(u,e,null==(g=null==n?void 0:n.getPendingMeta)?void 0:g.call(n,{requestId:u,arg:e},{getState:s,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:l,getState:s,extra:c,requestId:u,signal:y.signal,abort:f,rejectWithValue:function(e,t){return new St(e,t)},fulfillWithValue:function(e,t){return new vt(e,t)}})).then((function(t){if(t instanceof St)throw t;return t instanceof vt?i(t.payload,u,e,t.meta):i(t,u,e)}))])];case 3:return p=h.sent(),[3,5];case 4:return m=h.sent(),p=m instanceof St?a(null,u,e,m.payload,m.meta):a(m,u,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(p)&&p.meta.condition||l(p),[2,p]}var b}))},new Promise((function(e,t){var n=function(e){try{o(p.next(e))}catch(e){t(e)}},i=function(e){try{o(p.throw(e))}catch(e){t(e)}},o=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,i)};o((p=p.apply(r,g)).next())}));var r,g,p}();return Object.assign(g,{abort:f,requestId:u,arg:e,unwrap:function(){return g.then(ht)}})}}),{pending:o,rejected:a,fulfilled:i,typePrefix:e})}e.withTypes=function(){return e}}(),Object.assign;var bt="listenerMiddleware";yt(bt+"/add"),yt(bt+"/removeAll"),yt(bt+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis);"undefined"!=typeof window&&window.requestAnimationFrame&&window.requestAnimationFrame,function(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Te];return we.get(t,e)},set:function(t){var n=this[Te];we.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][Te];if(!o.P)switch(o.i){case 5:i(o)&&de(o);break;case 4:n(o)&&de(o)}}}function n(e){for(var t=e.t,n=e.k,i=Ie(n),o=i.length-1;o>=0;o--){var a=i[o];if(a!==Te){var r=t[a];if(void 0===r&&!j(t,a))return!0;var l=n[a],s=l&&l[Te];if(s?s.t!==r:!K(l,r))return!0}}var c=!!t[Te];return i.length!==Ie(t).length+(c?0:1)}function i(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var i=0;i<t.length;i++)if(!t.hasOwnProperty(i))return!0;return!1}var o={};!function(e,t){Ee[e]||(Ee[e]=t)}("ES5",{J:function(t,n){var i=Array.isArray(t),o=function(t,n){if(t){for(var i=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(i,""+o,e(o,!0));return i}var a=Le(n);delete a[Te];for(var r=Ie(a),l=0;l<r.length;l++){var s=r[l];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(i,t),a={i:i?5:4,A:n?n.A:X(),P:!1,I:!1,D:{},l:n,t,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,Te,{value:a,writable:!0}),o},S:function(e,n,o){o?N(n)&&n[Te].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Te];if(n){var o=n.t,a=n.k,r=n.D,l=n.i;if(4===l)x(a,(function(t){t!==Te&&(void 0!==o[t]||j(o,t)?r[t]||e(a[t]):(r[t]=!0,de(n)))})),x(o,(function(e){void 0!==a[e]||j(a,e)||(r[e]=!1,de(n))}));else if(5===l){if(i(n)&&(de(n),r.length=!0),a.length<o.length)for(var s=a.length;s<o.length;s++)r[s]=!1;else for(var c=o.length;c<a.length;c++)r[c]=!0;for(var d=Math.min(a.length,o.length),u=0;u<d;u++)a.hasOwnProperty(u)||(r[u]=!0),void 0===r[u]&&e(a[u])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):i(e)}})}();const At=(e,t)=>n=>D({},n,{[e]:t[e]}),kt=e=>({prepare:e=>({payload:e}),reducer:(t,{payload:n})=>D({},t,{[e]:D({},t[e],n)})}),Tt=(e,t)=>({prepare:e=>({payload:e}),reducer:(n,{payload:i})=>{var o;return D({},n,{[e]:D({},n[e],{[t]:D({},null==n||null==(o=n[e])?void 0:o[t],i)})})}}),Pt=e=>({prepare:e=>({payload:e}),reducer:(t,{payload:n})=>{var i;return D({},t,{[e]:D({},t[e],{loaders:D({},t[e].loaders,{[n.key]:null==(i=n.value)||i})})})}}),It=e=>({prepare:e=>({payload:e}),reducer:(t,{payload:n})=>{var i;return D({},t,{[e]:D({},t[e],{errors:D({},t[e].errors,{[n.key]:null==(i=n.value)||i})})})}}),Lt=(e=500)=>new Promise((t=>setTimeout(t,e))),Et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",wt=new Uint8Array(256);for(let e=0;e<Et.length;e++)wt[Et.charCodeAt(e)]=e;const Ot=e=>{const t=.75*e.length,n=e.length;let i,o,a,r,l,s=0;const c=new Uint8Array(t);for(i=0;i<n;i+=4)o=wt[e.charCodeAt(i)],a=wt[e.charCodeAt(i+1)],r=wt[e.charCodeAt(i+2)],l=wt[e.charCodeAt(i+3)],c[s++]=o<<2|a>>4,c[s++]=(15&a)<<4|r>>2,c[s++]=(3&r)<<6|63&l;return c.buffer},Ct=e=>{if(e instanceof Array){const t=[];for(const n of e)t.push(Ct(n));return t}if(e instanceof ArrayBuffer)return(e=>{const t=new Uint8Array(e),n=t.length;let i,o="";for(i=0;i<n;i+=3)o+=Et[t[i]>>2],o+=Et[(3&t[i])<<4|t[i+1]>>4],o+=Et[(15&t[i+1])<<2|t[i+2]>>6],o+=Et[63&t[i+2]];return n%3==2?o=o.substring(0,o.length-1):n%3==1&&(o=o.substring(0,o.length-2)),o})(e);if(e instanceof Object){const t={};for(const n in e)t[n]=Ct(e[n]);return t}return e};let Dt,Rt,_t;!function(e){e.preLogin="preLogin",e.magicLinkPreLoginSuccess="magicLinkPreLoginSuccess",e.loginWithSmsOtc="loginWithSmsOtc",e.loginWithQuickSmsOtc="loginWithQuickSmsOtc",e.loginWithOtc="loginWithOtc",e.loginWithPassword="loginWithPassword",e.loginWithTwoFactor="loginWithTwoFactor",e.redirectToSSO="redirectToSSO",e.loginWithSSOFailed="loginWithSSOFailed",e.success="success",e.forceTwoFactor="forceTwoFactor",e.recoverTwoFactor="recoverTwoFactor"}(Dt||(Dt={})),function(e){e.Login="login",e.RegisterQuickLogin="registerQuickLogin"}(Rt||(Rt={})),function(e){e.Internal="internal",e.UsbKey="usb-key",e.Android="android",e.Sms="sms"}(_t||(_t={}));const Ut="FRONTEGG_AFTER_AUTH_REDIRECT_URL",Mt="HOSTED_LOGIN_VERIFIER_KEY",$t="auth",Nt="connectivity",Ft="auditLogs",xt="subscriptions",Vt="vendor",jt={flow:Rt.Login,step:Dt.preLogin,loading:!1,email:"",tenants:[]},Wt={setLoginState:kt("loginState"),resetLoginState:At("loginState",{loginState:jt})},Kt={requestAuthorize:yt(`${$t}/requestAuthorize`,((e=!1)=>({payload:e}))),requestAuthorizeSSR:yt(`${$t}/requestAuthorizeSSR`,(e=>({payload:e}))),requestHostedLoginAuthorize:yt(`${$t}/requestHostedLoginAuthorize`,(e=>({payload:e}))),handleHostedLoginCallback:yt(`${$t}/handleHostedLoginCallback`,(e=>({payload:e}))),afterAuthNavigation:yt(`${$t}/afterAuthNavigation`),preLogin:yt(`${$t}/preLogin`,(e=>({payload:e}))),postLogin:yt(`${$t}/postLogin`,(e=>({payload:e}))),login:yt(`${$t}/login`,(e=>({payload:e}))),loginWithMfa:yt(`${$t}/loginWithMfa`,(e=>({payload:e}))),recoverMfa:yt(`${$t}/recoverMfa`,(e=>({payload:e}))),logout:yt(`${$t}/logout`,(e=>({payload:e}))),silentLogout:yt(`${$t}/silentLogout`,(e=>({payload:e}))),checkIfAllowToRememberMfaDevice:yt(`${$t}/checkIfAllowToRememberMfaDevice`,(e=>({payload:e}))),changePhoneNumberWithVerification:yt(`${$t}/changePhoneNumberWithVerification`,(e=>({payload:e}))),verifyChangePhoneNumber:yt(`${$t}/verifyChangePhoneNumber`,(e=>({payload:e}))),quickSmsPasswordlessPreLogin:yt(`${$t}/quickSmsPasswordlessPreLogin`,(e=>({payload:e}))),passwordlessPreLogin:yt(`${$t}/passwordlessPreLogin`,(e=>({payload:e}))),passwordlessPostLogin:yt(`${$t}/passwordlessPostLogin`,(e=>({payload:e}))),verifyInviteToken:yt(`${$t}/verifyInviteToken`,(e=>({payload:e}))),webAuthnPrelogin:yt(`${$t}/webAuthnPrelogin`,(e=>({payload:e}))),webAuthnPostLogin:yt(`${$t}/webAuthnPostLogin`,(e=>({payload:e}))),webAuthnCreateNewDeviceSession:yt(`${$t}/webAuthnCreateNewDeviceSession`,(e=>({payload:e}))),webAuthnVerifyNewDeviceSession:yt(`${$t}/webAuthnVerifyNewDeviceSession`,(e=>({payload:e}))),getUserIP:yt(`${$t}/getUserIP`,(e=>({payload:e}))),preEnrollMFAWebAuthnForLogin:yt(`${$t}/preEnrollWebAuthNForLogin`,(e=>({payload:e}))),enrollMFAWebAuthnForLogin:yt(`${$t}/enrollWebAuthNForLogin`,(e=>({payload:e}))),enrollMFAAuthenticatorAppForLogin:yt(`${$t}/enrollMFAAuthenticatorAppForLogin`,(e=>({payload:e}))),preEnrollMFASMSForLogin:yt(`${$t}/preEnrollMFASMSForLogin`,(e=>({payload:e}))),enrollMFASMSForLogin:yt(`${$t}/enrollMFASMSForLogin`,(e=>({payload:e}))),preVerifyMFAWebAuthnForLogin:yt(`${$t}/preVerifyMFAWebAuthnForLogin`,(e=>({payload:e}))),verifyMFAWebAuthnForLogin:yt(`${$t}/verifyMFAWebAuthnForLogin`,(e=>({payload:e}))),preVerifyMFASMSForLogin:yt(`${$t}/preVerifyMFASMSForLogin`,(e=>({payload:e}))),verifyMFASMSForLogin:yt(`${$t}/verifyMFASMSForLogin`,(e=>({payload:e})))};let Gt;!function(e){e.activating="activating",e.success="success",e.resend="resend",e.activatingForm="activatingForm"}(Gt||(Gt={}));const qt={step:Gt.activating,loading:!1,resentEmail:!1,activationStrategy:{loading:!1}},Bt={setActivateState:kt("activateState"),resetActivateState:At("activateState",{activateState:qt}),setActivateStrategyState:Tt("activateState","activationStrategy")},zt={activateAccount:yt(`${$t}/activateAccount`,(e=>({payload:e}))),preActivateAccount:yt(`${$t}/preActivateAccount`,(e=>({payload:e}))),getActivateAccountStrategy:yt(`${$t}/getActivateAccountStrategy`,(e=>({payload:e}))),resendActivationEmail:yt(`${$t}/resendActivationEmail`,(e=>({payload:e})))};let Ht;!function(e){e.validate="validate",e.invalid="invalid",e.pending="pending",e.success="success",e.failed="failed"}(Ht||(Ht={}));const Jt={step:Ht.validate},Yt={setAcceptInvitationState:kt("acceptInvitationState"),resetAcceptInvitationState:At("acceptInvitationState",{acceptInvitationState:Jt})},Qt={acceptInvitation:yt(`${$t}/acceptInvitation`,(e=>({payload:e})))};let Xt;!function(e){e.forgotPassword="forgotPassword",e.success="success"}(Xt||(Xt={}));const Zt={step:Xt.forgotPassword,loading:!1,email:"",passwordConfig:null},en={setForgotPasswordState:kt("forgotPasswordState"),resetForgotPasswordState:At("forgotPasswordState",{forgotPasswordState:Zt})},tn={forgotPassword:yt(`${$t}/forgotPassword`,(e=>({payload:e}))),resetPassword:yt(`${$t}/resetPassword`,(e=>({payload:e}))),loadPasswordConfig:yt(`${$t}/loadPasswordConfig`,(e=>({payload:e})))};let nn;!function(e){e.ResetPhoneNumber="ResetPhoneNumber",e.VerifyResetPhoneNumber="VerifyResetPhoneNumber",e.ChangePhoneNumber="ChangePhoneNumber"}(nn||(nn={}));const on={step:nn.ResetPhoneNumber,loading:!1},an={setResetPhoneNumberState:kt("resetPhoneNumberState"),resetResetPhoneNumberState:At("resetPhoneNumberState",{resetPhoneNumberState:on})},rn={resetPhoneNumber:yt(`${$t}/resetPhoneNumber`,(e=>({payload:e}))),verifyResetPhoneNumber:yt(`${$t}/verifyResetPhoneNumber`,(e=>({payload:e}))),changePhoneNumber:yt(`${$t}/changePhoneNumber`,(e=>({payload:e})))},ln={firstLoad:!0,loading:!0,saving:!1,errors:{},loaders:{},ssoConfigurations:[]},sn={setSSOLoader:Pt("ssoState"),setSSOError:It("ssoState"),setSSOState:kt("ssoState"),resetSSOState:At("ssoState",{ssoState:ln})},cn={loadSSOConfigurationsV2:yt(`${$t}/loadSSOConfigurationsV2`),saveSSOConfigurationV2:yt(`${$t}/saveSSOConfigurationV2`,(e=>({payload:e}))),updateSSOConfiguration:yt(`${$t}/updateSSOConfiguration`,(e=>({payload:e}))),deleteSSOConfiguration:yt(`${$t}/deleteSSOConfiguration`,(e=>({payload:e}))),saveSSODomain:yt(`${$t}/saveSSODomain`,(e=>({payload:e}))),deleteSSODomain:yt(`${$t}/deleteSSODomain`,(e=>({payload:e}))),validateSSODomainV2:yt(`${$t}/validateSSODomainV2`,(e=>({payload:e}))),setSSODefaultRoles:yt(`${$t}/setSSODefaultRoles`,(e=>({payload:e}))),setSSOGroups:yt(`${$t}/setSSOGroups`,(e=>({payload:e}))),updateSSOGroups:yt(`${$t}/updateSSOGroups`,(e=>({payload:e}))),saveSSOConfigurationByMetadata:yt(`${$t}/saveSSOConfigurationByMetadata`,(e=>({payload:e}))),updateSSOConfigurationByMetadata:yt(`${$t}/updateSSOConfigurationByMetadata`,(e=>({payload:e}))),loadSSOConfigurations:yt(`${$t}/loadSSOConfigurations`),loadSSOAuthorizationRoles:yt(`${$t}/loadSSOAuthorizationRoles`),saveSSOConfigurations:yt(`${$t}/saveSSOConfigurations`,(e=>({payload:e}))),saveSSOConfigurationsFile:yt(`${$t}/saveSSOConfigurationsFile`,(e=>({payload:e}))),saveSSOConfigurationsFileWithCallback:yt(`${$t}/saveSSOConfigurationsFileWithCallback`,(e=>({payload:e}))),validateSSODomain:yt(`${$t}/validateSSODomain`,(e=>({payload:e}))),updateSSOAuthorizationRoles:yt(`${$t}/updateSSOAuthorizationRoles`,(e=>({payload:e}))),deleteSamlGroup:yt(`${$t}/deleteSamlGroup`,(e=>({payload:e}))),createSamlGroup:yt(`${$t}/createSamlGroup`,(e=>({payload:e}))),oidcPostlogin:yt(`${$t}/oidcPostlogin`,(e=>({payload:e})))},dn={loading:!1,error:null},un={setProfileState:kt("profileState"),resetProfileState:At("profileState",{profileState:dn})},yn={loadProfile:yt(`${$t}/loadProfile`),saveProfile:yt(`${$t}/saveProfile`,(e=>({payload:e}))),changePassword:yt(`${$t}/changePassword`,(e=>({payload:e})))};let fn;!function(e){e.verify="verify",e.recoveryCode="recoveryCode",e.authenticatorApp="authenticatorApp",e.smsSetPhoneNumber="smsSetPhoneNumber",e.smsVerifyCode="smsVerifyCode"}(fn||(fn={}));const gn={step:fn.verify,loading:!1,saving:!1},pn={setMfaState:kt("mfaState"),resetMfaState:At("mfaState",{mfaState:gn})},Sn={enrollMfa:yt(`${$t}/enrollMfa`),getMFADevices:yt(`${$t}/getMFADevices`),getMFAStrategies:yt(`${$t}/getMFAStrategies`),verifyMfa:yt(`${$t}/verifyMfa`,(e=>({payload:e}))),verifyMfaAfterForce:yt(`${$t}/verifyMfaAfterForce`,(e=>({payload:e}))),disableMfa:yt(`${$t}/disableMfa`,(e=>({payload:e}))),preDisableMfaSms:yt(`${$t}/preDisableMfaSms`,(e=>({payload:e}))),disableMfaSms:yt(`${$t}/disableMfaSms`,(e=>({payload:e}))),preEnrollMfaSms:yt(`${$t}/preEnrollMfaSms`,(e=>({payload:e}))),enrollMfaSms:yt(`${$t}/enrollMfaSms`,(e=>({payload:e}))),preEnrollMfaWebAuthn:yt(`${$t}/preEnrollMfaWebAuthn`,(e=>({payload:e}))),enrollMfaWebAuthn:yt(`${$t}/enrollMfaWebAuthn`,(e=>({payload:e}))),preDisableMfaWebAuthn:yt(`${$t}/preDisableMfaWebAuthn`,(e=>({payload:e}))),disableMfaWebAuthn:yt(`${$t}/disableMfaWebAuthn`,(e=>({payload:e})))},vn={loaders:{},pageOffset:0,pageSize:20,errors:{},users:[],allUsers:[],roles:[],permissions:[],totalPages:0,filter:[],sort:[],allUsersQueryParams:{_filter:null,_offset:0,_limit:20,_order:"DESC",_sortBy:"name"},addUserDialogState:{loading:!1,open:!1},deleteUserDialogState:{loading:!1,open:!1},lockUserDialogState:{loading:!1,open:!1}},mn={setTeamLoader:Pt("teamState"),setTeamError:It("teamState"),setTeamState:kt("teamState"),resetTeamState:At("teamState",{teamState:vn})},hn={loadUsers:yt(`${$t}/loadUsers`,(e=>({payload:e}))),loadAllSubTenantsUsers:yt(`${$t}/loadAllSubTenantsUsers`,(e=>({payload:e}))),loadRoles:yt(`${$t}/loadRoles`,(e=>({payload:e}))),addUser:yt(`${$t}/addUser`,(e=>({payload:e}))),addUsersBulk:yt(`${$t}/addUsersBulk`,(e=>({payload:e}))),addUserToSubTenants:yt(`${$t}/addUserToSubTenants`,(e=>({payload:e}))),updateUser:yt(`${$t}/updateUser`,(e=>({payload:e}))),deleteUser:yt(`${$t}/deleteUser`,(e=>({payload:e}))),setUserRolesForSubTenants:yt(`${$t}/setUserRolesForSubTenants`,(e=>({payload:e}))),deleteUserFromSubTenants:yt(`${$t}/deleteUserFromSubTenants`,(e=>({payload:e}))),lockUser:yt(`${$t}/lockUser`,(e=>({payload:e}))),resendActivationLink:yt(`${$t}/resendActivationLink`,(e=>({payload:e}))),resendInvitationLink:yt(`${$t}/resendInvitationLink`,(e=>({payload:e}))),resendInvitationEmail:yt(`${$t}/resendInvitationEmail`,(e=>({payload:e}))),resendInvitationLinkToAllSubTenants:yt(`${$t}/resendInvitationLinkToAllSubTenants`,(e=>({payload:e}))),getInvitationLink:yt(`${$t}/getInvitationLink`),createInvitationLink:yt(`${$t}/createInvitationLink`,(e=>({payload:e}))),updateInvitationLink:yt(`${$t}/updateInvitationLink`,(e=>({payload:e}))),deleteInvitationLink:yt(`${$t}/deleteInvitationLink`,(e=>({payload:e}))),openAddUserDialog:yt(`${$t}/openAddUserDialog`,(e=>({payload:e}))),closeAddUserDialog:yt(`${$t}/closeAddUserDialog`,(e=>({payload:e}))),openDeleteUserDialog:yt(`${$t}/openDeleteUserDialog`,(e=>({payload:e}))),closeDeleteUserDialog:yt(`${$t}/closeDeleteUserDialog`,(e=>({payload:e}))),openLockUserDialog:yt(`${$t}/openLockUserDialog`,(e=>({payload:e}))),closeLockUserDialog:yt(`${$t}/closeLockUserDialog`,(e=>({payload:e})))},bn={firstLoad:!0,loading:!1,error:""},An={setSocialLoginsState:kt("socialLoginState"),resetSocialLoginsState:At("socialLoginState",{socialLoginState:bn})},kn={loadSocialLoginsConfiguration:yt(`${$t}/loadSocialLoginsConfiguration`),loadSocialLoginsConfigurationV2:yt(`${$t}/loadSocialLoginsConfigurationV2`),loginViaSocialLogin:yt(`${$t}/loginViaSocialLogin`,(e=>({payload:e}))),setSocialLoginError:yt(`${$t}/setSocialLoginError`,(e=>({payload:e})))};let Tn;!function(e){e.SignUp="SignUp",e.SignUpSuccess="SignUpSuccess"}(Tn||(Tn={}));const Pn={loading:!1,allowSignUps:!1,allowNotVerifiedUsersLogin:!1,firstLoad:!0,stage:Tn.SignUp},In={setSignUpState:kt("signUpState"),resetSignUpState:At("signUpState",{signUpState:Pn})},Ln={signUpUser:yt(`${$t}/signUpUser`,(e=>({payload:e}))),resetSignUpStateSoft:yt(`${$t}/resetSignUpStateSoft`)},En={apiTokenType:null,searchValue:"",showAddTokenDialog:!1,createdByUserIdColumn:"show",deleteTokenDialog:{open:!1,clientId:""},successDialog:{open:!1,secret:"",clientId:""},loaders:{},apiTokensDataTenant:[],apiTokensDataUser:[],roles:[],permissions:[],errors:{}},wn={setApiTokensLoader:Pt("apiTokensState"),setApiTokensError:It("apiTokensState"),setApiTokensState:kt("apiTokensState"),resetApiTokensState:At("apiTokensState",{apiTokensState:En})},On={loadApiTokens:yt(`${$t}/loadApiTokens`,(e=>({payload:e}))),loadUserApiTokens:yt(`${$t}/loadUserApiTokens`,(e=>({payload:e}))),loadTenantApiTokens:yt(`${$t}/loadTenantApiTokens`,(e=>({payload:e}))),initApiTokensData:yt(`${$t}/initApiTokensData`,(e=>({payload:e}))),addTenantApiToken:yt(`${$t}/addTenantApiToken`,(e=>({payload:e}))),addUserApiToken:yt(`${$t}/addUserApiToken`,(e=>({payload:e}))),deleteUserApiToken:yt(`${$t}/deleteUserApiToken`,(e=>({payload:e}))),deleteTenantApiToken:yt(`${$t}/deleteTenantApiToken`,(e=>({payload:e})))},Cn={globalPolicy:{loading:!0},publicPolicy:{loading:!1},vendorMfaPolicy:{loading:!0},mfaPolicy:{loading:!0},lockoutPolicy:{loading:!0},captchaPolicy:{loading:!0},passwordHistoryPolicy:{loading:!0},passwordPolicy:{loading:!0},publicAuthStrategyPolicy:{loading:!0}},Dn={setSecurityPolicyState:kt("securityPolicyState"),setSecurityPolicyGlobalState:Tt("securityPolicyState","globalPolicy"),setSecurityPolicyPublicState:Tt("securityPolicyState","publicPolicy"),setSecurityPolicyAuthStrategyPublicState:Tt("securityPolicyState","publicAuthStrategyPolicy"),setSecurityPolicyMfaState:Tt("securityPolicyState","mfaPolicy"),setSecurityPolicyVendorMfaState:Tt("securityPolicyState","vendorMfaPolicy"),setSecurityPolicyLockoutState:Tt("securityPolicyState","lockoutPolicy"),setSecurityPolicyCaptchaState:Tt("securityPolicyState","captchaPolicy"),setSecurityPolicyPasswordHistoryState:Tt("securityPolicyState","passwordHistoryPolicy"),setSecurityPolicyPasswordState:Tt("securityPolicyState","passwordPolicy"),resetSecurityPolicyState:At("securityPolicyState",{securityPolicyState:Cn})},Rn={loadSecurityPolicy:yt(`${$t}/loadSecurityPolicy`),loadPublicSecurityPolicy:yt(`${$t}/loadPublicSecurityPolicy`),loadSecurityPolicyMfa:yt(`${$t}/loadSecurityPolicyMfa`),loadSecurityPolicyVendorMfa:yt(`${$t}/loadSecurityPolicyVendorMfa`),saveSecurityPolicyMfa:yt(`${$t}/saveSecurityPolicyMfa`,(e=>({payload:e}))),loadSecurityPolicyLockout:yt(`${$t}/loadSecurityPolicyLockout`),saveSecurityPolicyLockout:yt(`${$t}/saveSecurityPolicyLockout`,(e=>({payload:e}))),loadSecurityPolicyCaptcha:yt(`${$t}/loadSecurityPolicyCaptcha`),loadSecurityPolicyPasswordHistory:yt(`${$t}/loadSecurityPolicyPasswordHistory`),saveSecurityPolicyPasswordHistory:yt(`${$t}/saveSecurityPolicyPasswordHistory`,(e=>({payload:e}))),loadVendorPasswordConfig:yt(`${$t}/loadVendorPasswordConfig`),loadPublicAuthStrategiesPolicy:yt(`${$t}/loadPublicAuthStrategiesPolicy`)},_n={loading:!1},Un={setAccountSettingsState:kt("accountSettingsState"),resetAccountSettingsState:At("accountSettingsState",{accountSettingsState:_n})},Mn={loadAccountSettings:yt(`${$t}/loadAccountSettings`,(e=>({payload:e}))),saveAccountSettings:yt(`${$t}/saveAccountSettings`,(e=>({payload:e})))},$n={tenants:[],subTenants:[],loading:!0,tenantTree:null},Nn={setTenantsState:kt("tenantsState"),resetTenantsState:At("tenantsState",{tenantsState:$n})},Fn={switchTenant:yt(`${$t}/switchTenant`,(e=>({payload:e}))),loadTenants:yt(`${$t}/loadTenants`,(e=>({payload:e}))),loadSubTenants:yt(`${$t}/loadSubTenants`,(e=>({payload:e}))),loadSubTenantsTree:yt(`${$t}/loadSubTenantsTree`,(e=>({payload:e})))},xn={loading:!1,roles:[],permissions:[],permissionCategories:[]},Vn={setRolesState:kt("rolesState"),resetRolesState:At("rolesState",{rolesState:xn})},jn={loadRolesAndPermissions:yt(`${$t}/loadRoles`,(e=>({payload:e}))),addRole:yt(`${$t}/addRole`,(e=>({payload:e}))),updateRole:yt(`${$t}/updateRole`,(e=>({payload:e}))),deleteRole:yt(`${$t}/deleteRole`,(e=>({payload:e}))),attachPermissionsToRole:yt(`${$t}/attachPermissionsToRole`,(e=>({payload:e}))),attachPermissionToRoles:yt(`${$t}/attachPermissionToRoles`,(e=>({payload:e})))},Wn={loading:!1,sessions:[]},Kn={setSessionsState:kt("sessionsState"),resetSessionsState:At("sessionsState",{sessionsState:Wn})},Gn={loadUserSessions:yt(`${$t}/loadUserSessions`),loadCurrentUserSession:yt(`${$t}/loadCurrentUserSession`),deleteUserSession:yt(`${$t}/deleteUserSession`,(e=>({payload:e}))),deleteAllUserSessions:yt(`${$t}/deleteAllUserSessions`),revokeUserSessions:yt(`${$t}/revokeUserSessions`,(e=>({payload:e})))},qn={loading:!1,configurations:{}},Bn={setSessionsPolicyState:kt("sessionsPolicyState"),resetSessionsPolicyState:At("sessionsPolicyState",{sessionsPolicyState:qn})},zn={loadSessionsPolicy:yt(`${$t}/loadSessionsPolicy`),createOrUpdateSessionsPolicy:yt(`${$t}/createOrUpdateSessionsPolicy`,(e=>({payload:e})))};let Hn;!function(e){e.ALLOW="ALLOW",e.BLOCK="BLOCK"}(Hn||(Hn={}));const Jn={ipRestrictions:{loading:!1,pagination:{_offset:0,_limit:4,_filter:Hn.ALLOW},totalPages:1,userIpValid:!1},emailDomainRestrictions:{loading:!0}},Yn={setRestrictionsState:kt("restrictionsState"),setIpRestrictionsState:Tt("restrictionsState","ipRestrictions"),setEmailDomainRestrictionsState:Tt("restrictionsState","emailDomainRestrictions")},Qn={checkIfUserIpValid:yt(`${$t}/checkIfUserIpValid`),addCurrentUserIpAndActivate:yt(`${$t}/addCurrentUserIpAndActivate`,(e=>({payload:e}))),loadIpRestrictions:yt(`${$t}/loadIpRestrictions`),saveIpRestriction:yt(`${$t}/saveIpRestriction`,(e=>({payload:e}))),saveIpRestrictionsConfig:yt(`${$t}/saveIpRestrictionsConfig`,(e=>({payload:e}))),deleteIpRestriction:yt(`${$t}/deleteIpRestriction`,(e=>({payload:e}))),loadEmailDomainRestrictions:yt(`${$t}/loadEmailDomainRestrictions`),saveEmailDomainRestriction:yt(`${$t}/saveEmailDomainRestriction`,(e=>({payload:e}))),saveEmailDomainRestrictionsConfig:yt(`${$t}/saveEmailDomainRestrictionsConfig`,(e=>({payload:e}))),deleteEmailDomainRestriction:yt(`${$t}/deleteEmailDomainRestriction`,(e=>({payload:e})))},Xn={loading:!1},Zn={setProvisioningState:kt("provisioningState"),resetProvisioningState:At("provisioningState",{provisioningState:Xn})},ei={loadProvisionConnections:yt(`${$t}/loadProvisionConnections`),createProvisionConnection:yt(`${$t}/createProvisionConnection`,(e=>({payload:e}))),deleteProvisionConnection:yt(`${$t}/deleteProvisionConnection`,(e=>({payload:e}))),updateProvisionConnection:yt(`${$t}/updateProvisionConnection`,(e=>({payload:e})))},ti={isAuthenticated:!1,isLoading:!0,isSSOAuth:!1,user:null,signUpState:Pn,loginState:jt,activateState:qt,acceptInvitationState:Jt,forgotPasswordState:Zt,ssoState:ln,profileState:dn,mfaState:gn,teamState:vn,socialLoginState:bn,apiTokensState:En,securityPolicyState:Cn,accountSettingsState:_n,tenantsState:$n,rolesState:xn,resetPhoneNumberState:on,sessionsState:Wn,sessionsPolicyState:qn,restrictionsState:Jn,provisioningState:Xn},ni=D({routes:{authenticatedUrl:"/",loginUrl:"/account/login",logoutUrl:"/account/logout",activateUrl:"/account/activate",acceptInvitationUrl:"/account/invitation/accept",forgetPasswordUrl:"/account/forget-password",resetPhoneNumberUrl:"/account/reset-phone-number",resetPasswordUrl:"/account/reset-password",socialLoginCallbackUrl:"/account/social/success",signUpUrl:"/account/sign-up",oidcRedirectUrl:"/account/oidc/callback",samlCallbackUrl:"/account/saml/callback",magicLinkCallbackUrl:"/account/login/magic-link",hostedLoginRedirectUrl:"/oauth/callback"},onRedirectTo:()=>{}},ti),{reducer:ii,actions:oi}=gt({name:$t,initialState:ni,reducers:D({resetState:e=>D({},e,ti),setState:(e,{payload:t})=>D({},e,t),setUser:("user",(e,{payload:t})=>D({},e,{user:t}))},Wt,An,Bt,Yt,en,an,In,un,sn,pn,mn,wn,Dn,Un,Nn,Vn,Kn,Bn,Yn,Zn)});const ai=D({},oi,Kt,kn,zt,Qt,tn,rn,Ln,yn,cn,Sn,hn,On,Rn,Mn,Fn,jn,Gn,zn,Qn,ei);var ri=function(e){return"@@redux-saga/"+e},li=ri("CANCEL_PROMISE"),si=ri("CHANNEL_END"),ci=ri("IO"),di=ri("MATCH"),ui=ri("MULTICAST"),yi=ri("SAGA_ACTION"),fi=ri("SELF_CANCELLATION"),gi=ri("TASK"),pi=ri("TASK_CANCEL"),Si=ri("TERMINATE"),vi=ri("LOCATION");function mi(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var hi=function(e){return null==e},bi=function(e){return null!=e},Ai=function(e){return"function"==typeof e},ki=function(e){return"string"==typeof e},Ti=Array.isArray,Pi=function(e){return e&&Ai(e.then)},Ii=function(e){return e&&Ai(e.next)&&Ai(e.throw)},Li=function e(t){return t&&(ki(t)||Oi(t)||Ai(t)||Ti(t)&&t.every(e))},Ei=function(e){return e&&Ai(e.take)&&Ai(e.close)},wi=function(e){return Ai(e)&&e.hasOwnProperty("toString")},Oi=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};const Ci=function(e,t){var n;void 0===t&&(t=!0);var i=new Promise((function(i){n=setTimeout(i,Math.min(2147483647,e),t)}));return i[li]=function(){clearTimeout(n)},i};var Di=function(e){return function(){return e}},Ri=Di(!0),_i=function(){},Ui=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Mi=function(e,t){D(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function $i(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var Ni=function(e){throw e},Fi=function(e){return{value:e,done:!0}};function xi(e,t,n){void 0===t&&(t=Ni),void 0===n&&(n="iterator");var i={meta:{name:n},next:e,throw:t,return:Fi,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(i[Symbol.iterator]=function(){return i}),i}function Vi(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var ji=function(e){return Array.apply(null,new Array(e))},Wi=function(e){return function(t){return e(Object.defineProperty(t,yi,{value:!0}))}},Ki=function(e){return e===Si},Gi=function(e){return e===pi},qi=function(e){return Ki(e)||Gi(e)};function Bi(e,t){var n,i=Object.keys(e),o=i.length,a=0,r=Ti(e)?ji(o):{},l={};return i.forEach((function(e){var i=function(i,l){n||(l||qi(i)?(t.cancel(),t(i,l)):(r[e]=i,++a===o&&(n=!0,t(r))))};i.cancel=_i,l[e]=i})),t.cancel=function(){n||(n=!0,i.forEach((function(e){return l[e].cancel()})))},l}function zi(e){return{name:e.name||"anonymous",location:Hi(e)}}function Hi(e){return e[vi]}var Ji=function(e){return function(e,t){void 0===e&&(e=10);var n=new Array(e),i=0,o=0,a=0,r=function(t){n[o]=t,o=(o+1)%e,i++},l=function(){if(0!=i){var t=n[a];return n[a]=null,i--,a=(a+1)%e,t}},s=function(){for(var e=[];i;)e.push(l());return e};return{isEmpty:function(){return 0==i},put:function(l){var c;if(i<e)r(l);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=l,a=o=(o+1)%e;break;case 4:c=2*e,n=s(),i=n.length,o=n.length,a=0,n.length=c,e=c,r(l)}},take:l,flush:s}}(e,4)},Yi="TAKE",Qi="CALL",Xi="FORK",Zi="CANCEL",eo="SELECT",to=function(e,t){var n;return(n={})[ci]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function no(e,t){return void 0===e&&(e="*"),Li(e)?(bi(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),to(Yi,{pattern:e})):Ei(n=e)&&n[ui]&&bi(t)&&Li(t)?to(Yi,{channel:e,pattern:t}):Ei(e)?(bi(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),to(Yi,{channel:e})):void 0;var n}function io(e,t){return hi(t)&&(t=e,e=void 0),to("PUT",{channel:e,action:t})}function oo(e){var t=to("ALL",e);return t.combinator=!0,t}function ao(e,t){var n,i=null;return Ai(e)?n=e:(Ti(e)?(i=e[0],n=e[1]):(i=e.context,n=e.fn),i&&ki(n)&&Ai(i[n])&&(n=i[n])),{context:i,fn:n,args:t}}function ro(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return to(Qi,ao(e,n))}function lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return to(Xi,ao(e,n))}function so(e){return void 0===e&&(e=fi),to(Zi,e)}function co(e){void 0===e&&(e=Ui);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return to(eo,{selector:e,args:n})}var uo=ro.bind(null,Ci);const yo=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e};var fo=[],go=0;function po(e){try{mo(),e()}finally{ho()}}function So(e){fo.push(e),go||(mo(),bo())}function vo(e){try{return mo(),e()}finally{bo()}}function mo(){go++}function ho(){go--}function bo(){var e;for(ho();!go&&void 0!==(e=fo.shift());)po(e)}var Ao=function(e){return function(t){return e.some((function(e){return Lo(e)(t)}))}},ko=function(e){return function(t){return e(t)}},To=function(e){return function(t){return t.type===String(e)}},Po=function(e){return function(t){return t.type===e}},Io=function(){return Ri};function Lo(e){var t="*"===e?Io:ki(e)?To:Ti(e)?Ao:wi(e)?To:Ai(e)?ko:Oi(e)?Po:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Eo={type:si},wo=function(e){return e&&e.type===si};function Oo(){var e,t,n,i,o,a,r=(t=!1,i=n=[],o=function(){i===n&&(i=n.slice())},a=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(Eo)}))},(e={})[ui]=!0,e.put=function(e){if(!t)if(wo(e))a();else for(var o=n=i,r=0,l=o.length;r<l;r++){var s=o[r];s[di](e)&&(s.cancel(),s(e))}},e.take=function(e,n){var a;void 0===n&&(n=Io),t?e(Eo):(e[di]=n,o(),i.push(e),e.cancel=(a=!1,function(){a||(a=!0,o(),$i(i,e))}))},e.close=a,e),l=r.put;return r.put=function(e){e[yi]?l(e):So((function(){l(e)}))},r}function Co(e,t){var n=e[li];Ai(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Do,Ro=0,_o=function(){return++Ro};function Uo(e){e.isRunning()&&e.cancel()}var Mo=((Do={})[Yi]=function(e,t,n){var i=t.channel,o=void 0===i?e.channel:i,a=t.pattern,r=t.maybe,l=function(e){e instanceof Error?n(e,!0):!wo(e)||r?n(e):n(Si)};try{o.take(l,bi(a)?Lo(a):null)}catch(e){return void n(e,!0)}n.cancel=l.cancel},Do.PUT=function(e,t,n){var i=t.channel,o=t.action,a=t.resolve;So((function(){var t;try{t=(i?i.put:e.dispatch)(o)}catch(e){return void n(e,!0)}a&&Pi(t)?Co(t,n):n(t)}))},Do.ALL=function(e,t,n,i){var o=i.digestEffect,a=Ro,r=Object.keys(t);if(0!==r.length){var l=Bi(t,n);r.forEach((function(e){o(t[e],a,l[e],e)}))}else n(Ti(t)?[]:{})},Do.RACE=function(e,t,n,i){var o=i.digestEffect,a=Ro,r=Object.keys(t),l=Ti(t)?ji(r.length):{},s={},c=!1;r.forEach((function(e){var t=function(t,i){c||(i||qi(t)?(n.cancel(),n(t,i)):(n.cancel(),c=!0,l[e]=t,n(l)))};t.cancel=_i,s[e]=t})),n.cancel=function(){c||(c=!0,r.forEach((function(e){return s[e].cancel()})))},r.forEach((function(e){c||o(t[e],a,s[e],e)}))},Do[Qi]=function(e,t,n,i){var o=t.context,a=t.fn,r=t.args,l=i.task;try{var s=a.apply(o,r);if(Pi(s))return void Co(s,n);if(Ii(s))return void qo(e,s,l.context,Ro,zi(a),!1,n);n(s)}catch(e){n(e,!0)}},Do.CPS=function(e,t,n){var i=t.context,o=t.fn,a=t.args;try{var r=function(e,t){hi(e)?n(t):n(e,!0)};o.apply(i,a.concat(r)),r.cancel&&(n.cancel=r.cancel)}catch(e){n(e,!0)}},Do[Xi]=function(e,t,n,i){var o=t.context,a=t.fn,r=t.args,l=t.detached,s=i.task,c=function(e){var t=e.context,n=e.fn,i=e.args;try{var o=n.apply(t,i);if(Ii(o))return o;var a=!1;return xi((function(e){return a?{value:e,done:!0}:(a=!0,{value:o,done:!Pi(o)})}))}catch(e){return xi((function(){throw e}))}}({context:o,fn:a,args:r}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:zi(t)}(c,a);vo((function(){var t=qo(e,c,s.context,Ro,d,l,void 0);l?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},Do.JOIN=function(e,t,n,i){var o=i.task,a=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&$i(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Ti(t)){if(0===t.length)return void n([]);var r=Bi(t,n);t.forEach((function(e,t){a(e,r[t])}))}else a(t,n)},Do[Zi]=function(e,t,n,i){var o=i.task;t===fi?Uo(o):Ti(t)?t.forEach(Uo):Uo(t),n()},Do[eo]=function(e,t,n){var i=t.selector,o=t.args;try{n(i.apply(void 0,[e.getState()].concat(o)))}catch(e){n(e,!0)}},Do.ACTION_CHANNEL=function(e,t,n){var i=t.pattern,o=function(e){void 0===e&&(e=Ji());var t=!1,n=[];return{take:function(i){t&&e.isEmpty()?i(Eo):e.isEmpty()?(n.push(i),i.cancel=function(){$i(n,i)}):i(e.take())},put:function(i){if(!t){if(0===n.length)return e.put(i);n.shift()(i)}},flush:function(n){t&&e.isEmpty()?n(Eo):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var i=0,o=e.length;i<o;i++)(0,e[i])(Eo)}}}}(t.buffer),a=Lo(i),r=function t(n){wo(n)||e.channel.take(t,a),o.put(n)},l=o.close;o.close=function(){r.cancel(),l()},e.channel.take(r,a),n(o)},Do.CANCELLED=function(e,t,n,i){n(i.task.isCancelled())},Do.FLUSH=function(e,t,n){t.flush(n)},Do.GET_CONTEXT=function(e,t,n,i){n(i.task.context[t])},Do.SET_CONTEXT=function(e,t,n,i){var o=i.task;Mi(o.context,t),n()},Do);function $o(e,t){return e+"?"+t}function No(e){var t=e.name,n=e.location;return n?t+"  "+$o(n.fileName,n.lineNumber):t}function Fo(e){var t,n,i,o=(t=function(e){return e.cancelledTasks},n=e,(i=[]).concat.apply(i,n.map(t)));return o.length?["Tasks cancelled due to error:"].concat(o).join("\n"):""}var xo=null,Vo=[],jo=function(e){e.crashedEffect=xo,Vo.push(e)},Wo=function(){xo=null,Vo.length=0},Ko=function(){var e,t,n=Vo[0],i=Vo.slice(1),o=n.crashedEffect?(e=n.crashedEffect,(t=Hi(e))?t.code+"  "+$o(t.fileName,t.lineNumber):""):null;return["The above error occurred in task "+No(n.meta)+(o?" \n when executing effect "+o:"")].concat(i.map((function(e){return"    created by "+No(e.meta)})),[Fo(Vo)]).join("\n")};function Go(e,t,n,i,o,a,r){var l;void 0===r&&(r=_i);var s,c,d=0,u=null,y=[],f=Object.create(n),g=function(e,t,n){var i,o=[],a=!1;function r(e){y.push.apply(y,g.getTasks().map((function(e){return e.meta.name}))),s(),n(e,!0)}function l(t){o.push(t),t.cont=function(l,s){a||($i(o,t),t.cont=_i,s?r(l):(t===e&&(i=l),o.length||(a=!0,n(i))))}}function s(){a||(a=!0,o.forEach((function(e){e.cont=_i,e.cancel()})),o=[])}return l(e),{addTask:l,cancelAll:s,abort:r,getTasks:function(){return o}}}(t,0,p);function p(t,n){if(n){if(d=2,jo({meta:o,cancelledTasks:y}),S.isRoot){var i=Ko();Wo(),e.onError(t,{sagaStack:i})}c=t,u&&u.reject(t)}else t===pi?d=1:1!==d&&(d=3),s=t,u&&u.resolve(t);S.cont(t,n),S.joiners.forEach((function(e){e.cb(t,n)})),S.joiners=null}var S=((l={})[gi]=!0,l.id=i,l.meta=o,l.isRoot=a,l.context=f,l.joiners=[],l.queue=g,l.cancel=function(){0===d&&(d=1,g.cancelAll(),p(pi,!1))},l.cont=r,l.end=p,l.setContext=function(e){Mi(f,e)},l.toPromise=function(){return u||(u=yo(),2===d?u.reject(c):0!==d&&u.resolve(s)),u.promise},l.isRunning=function(){return 0===d},l.isCancelled=function(){return 1===d||0===d&&1===t.status},l.isAborted=function(){return 2===d},l.result=function(){return s},l.error=function(){return c},l);return S}function qo(e,t,n,i,o,a,r){var l=e.finalizeRunEffect((function(t,n,i){Pi(t)?Co(t,i):Ii(t)?qo(e,t,c.context,n,o,!1,i):t&&t[ci]?(0,Mo[t.type])(e,t.payload,i,d):i(t)}));u.cancel=_i;var s={meta:o,cancel:function(){0===s.status&&(s.status=1,u(pi))},status:0},c=Go(e,s,n,i,o,a,r),d={task:c,digestEffect:y};return r&&(r.cancel=c.cancel),u(),c;function u(e,n){try{var o;n?(o=t.throw(e),Wo()):Gi(e)?(s.status=1,u.cancel(),o=Ai(t.return)?t.return(pi):{done:!0,value:pi}):o=Ki(e)?Ai(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==s.status&&(s.status=3),s.cont(o.value)):y(o.value,i,u)}catch(e){if(1===s.status)throw e;s.status=2,s.cont(e,!0)}}function y(t,n,i,o){void 0===o&&(o="");var a,r=_o();function s(n,o){a||(a=!0,i.cancel=_i,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(r,n):e.sagaMonitor.effectResolved(r,n)),o&&function(e){xo=e}(t),i(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:r,parentEffectId:n,label:o,effect:t}),s.cancel=_i,i.cancel=function(){a||(a=!0,s.cancel(),s.cancel=_i,e.sagaMonitor&&e.sagaMonitor.effectCancelled(r))},l(t,r,s)}}function Bo(e,t){for(var n=e.channel,i=void 0===n?Oo():n,o=e.dispatch,a=e.getState,r=e.context,l=void 0===r?{}:r,s=e.sagaMonitor,c=e.effectMiddlewares,d=e.onError,u=void 0===d?Vi:d,y=arguments.length,f=new Array(y>2?y-2:0),g=2;g<y;g++)f[g-2]=arguments[g];var p,S=t.apply(void 0,f),v=_o();if(s&&(s.rootSagaStarted=s.rootSagaStarted||_i,s.effectTriggered=s.effectTriggered||_i,s.effectResolved=s.effectResolved||_i,s.effectRejected=s.effectRejected||_i,s.effectCancelled=s.effectCancelled||_i,s.actionDispatched=s.actionDispatched||_i,s.rootSagaStarted({effectId:v,saga:t,args:f})),c){var m=Ge.apply(void 0,c);p=function(e){return function(t,n,i){return m((function(t){return e(t,n,i)}))(t)}}}else p=Ui;var h={channel:i,dispatch:Wi(o),getState:a,sagaMonitor:s,onError:u,finalizeRunEffect:p};return vo((function(){var e=qo(h,S,l,v,zi(t),!0,void 0);return s&&s.effectResolved(v,e),e}))}const zo=function(e){var t,n=void 0===e?{}:e,i=n.context,o=void 0===i?{}:i,a=n.channel,r=void 0===a?Oo():a,l=n.sagaMonitor,s=mi(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,i=e.dispatch;return t=Bo.bind(null,D({},s,{context:o,channel:r,dispatch:i,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return r.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){Mi(o,e)},c};var Ho=function(e){return{done:!0,value:e}},Jo={};function Yo(e){return Ei(e)?"channel":wi(e)?String(e):Ai(e)?e.name:String(e)}function Qo(e,t,n){var i,o,a,r=t;function l(t,n){if(r===Jo)return Ho(t);if(n&&!o)throw r=Jo,n;i&&i(t);var l=n?e[o](n):e[r]();return r=l.nextState,a=l.effect,i=l.stateUpdater,o=l.errorState,r===Jo?Ho(t):a}return xi(l,(function(e){return l(null,e)}),n)}function Xo(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a,r={done:!1,value:no(e)},l=function(e){return{done:!1,value:lo.apply(void 0,[t].concat(i,[e]))}},s=function(e){return a=e};return Qo({q1:function(){return{nextState:"q2",effect:r,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:l(a)}}},"q1","takeEvery("+Yo(e)+", "+t.name+")")}function Zo(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a,r,l={done:!1,value:no(e)},s=function(e){return{done:!1,value:lo.apply(void 0,[t].concat(i,[e]))}},c=function(e){return{done:!1,value:so(e)}},d=function(e){return a=e},u=function(e){return r=e};return Qo({q1:function(){return{nextState:"q2",effect:l,stateUpdater:u}},q2:function(){return a?{nextState:"q3",effect:c(a)}:{nextState:"q1",effect:s(r),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(r),stateUpdater:d}}},"q1","takeLatest("+Yo(e)+", "+t.name+")")}function ea(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a,r={done:!1,value:no(e)},l=function(e){return{done:!1,value:ro.apply(void 0,[t].concat(i,[e]))}},s=function(e){return a=e};return Qo({q1:function(){return{nextState:"q2",effect:r,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:l(a)}}},"q1","takeLeading("+Yo(e)+", "+t.name+")")}function ta(e,t,n){for(var i=e,o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];var l={done:!1,value:ro.apply(void 0,[n].concat(a))},s={done:!1,value:uo(t)};return Qo({q1:function(){return{nextState:"q2",effect:l,errorState:"q10"}},q2:function(){return{nextState:Jo}},q10:function(e){if((i-=1)<=0)throw e;return{nextState:"q1",effect:s}}},"q1","retry("+n.name+")")}function na(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return lo.apply(void 0,[Xo,e,t].concat(i))}function ia(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return lo.apply(void 0,[Zo,e,t].concat(i))}function oa(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return lo.apply(void 0,[ea,e,t].concat(i))}class aa{constructor(){this.context=null,this.accessToken=null,this.user=null,this.onRedirectTo=e=>window.location.href=e,this.logout=()=>window.location.href="/account/logout"}static getInstance(){return aa.instance||(aa.instance=new aa),aa.instance}static setContext(e){aa.getInstance().context=e}static setAccessToken(e){aa.getInstance().accessToken=e}static setUser(e){aa.getInstance().user=e}static setOnRedirectTo(e){aa.getInstance().onRedirectTo=e}static setLogout(e,t){aa.getInstance().logout=n=>{n?e(n):aa.onRedirectTo(t)}}static getContext(){var e;return null!=(e=aa.getInstance().context)?e:{baseUrl:window.location.href,tokenResolver:()=>"my-authentication-token",logLevel:"error"}}static getAccessToken(){return aa.getInstance().accessToken}static getUser(){return aa.getInstance().user}static onRedirectTo(e,t){return aa.getInstance().onRedirectTo(e,t)}static logout(e){return aa.getInstance().logout(e)}}aa.instance=void 0;const ra={getContext:()=>aa.getContext(),getAccessToken:()=>aa.getAccessToken(),getUser:()=>aa.getUser(),onRedirectTo:(e,t)=>aa.onRedirectTo(e,t),logout:e=>aa.logout(e)};class la extends Error{constructor(e,t){super(e),this._statusCode=void 0,this._statusCode=t}get statusCode(){return this._statusCode}}function sa(e,t,n=!0){let i;i="function"==typeof e.baseUrl?e.baseUrl(t):e.baseUrl;const o=e.urlPrefix||"frontegg",a="frontegg"===o&&!n;return i.endsWith("/")||(i+="/"),i.endsWith(o)||a||(i+=o),i}const ca=async e=>{var t,n,i;const o=aa.getContext(),a=await async function(e,t){var n;const i=await(null!=(n=null==e?void 0:e.tokenResolver)?n:aa.getAccessToken)(),o={};i&&(o.Authorization=`Bearer ${i}`),t&&(o["Content-Type"]=t);for(const t of await async function(e){let t=[];return e.additionalHeadersResolver&&(t=await e.additionalHeadersResolver()),t}(e))o[`${t.key}`]=`${t.value}`;return o["x-frontegg-source"]="frontegg-react",o}(o,e.contentType),r=await async function(e,t,n){const i=sa(e,t),o=await async function(e,t){t||(t={});const n=await async function(e){let t=[];return e.additionalQueryParamsResolver&&(t=await e.additionalQueryParamsResolver()),t}(e);for(const e of n)t[e.key]=e.value;const i=Object.keys(t);for(const e of i){const n=t[e];t[e]="object"==typeof n?JSON.stringify(n):n}return t}(e,n);let a=t.startsWith("http")?t:`${i}${t}`;const r=Object.keys(o).length>0;return o&&r&&(a+=`?${new URLSearchParams(o)}`),a}(o,e.url,e.params),l=await fetch(r,{body:e.body?"application/json"===e.contentType?JSON.stringify(e.body):e.body:null,method:null!=(t=e.method)?t:"GET",headers:D({},a,e.headers),credentials:null!=(n=null!=(i=e.credentials)?i:o.requestCredentials)?n:"same-origin"});if(302===l.status)return window.location.href=await l.text(),new Promise((()=>{}));if(!l.ok){var s,c;if(413===l.status)throw new la("Error request is too large",l.status);let e;try{e=await l.text(),e=JSON.parse(e)}catch(e){}throw e.errors?e=e.errors.join(", "):"string"!=typeof e&&(e=`Error ${l.status} - ${l.statusText}`),l.status>=400&&l.status<500&&["warn"].includes(null!=(s=o.logLevel)?s:"")?console.warn(e):500===l.status&&["warn","error"].includes(null!=(c=o.logLevel)?c:"")&&console.error(e),new la(e,l.status)}if(e.responseType&&"json"!==e.responseType){if("blob"===e.responseType){const{outputFileName:t}=e.params;return await l.blob().then((e=>URL.createObjectURL(e))).then((e=>{const n=document.createElement("a");n.href=e,n.setAttribute("download",t||"output"),n.click()}))}return await l.text()}try{return await l.json()}catch(e){return{}}},da=async(e,t,n)=>ca(D({url:e,method:"GET",contentType:"application/json",params:t},n)),ua=async(e,t,n)=>ca(D({url:e,method:"POST",contentType:"application/json",body:t},n)),ya=async(e,t,n)=>ca(D({url:e,method:"PATCH",contentType:"application/json",body:t},n)),fa=async(e,t,n)=>ca(D({url:e,method:"PUT",contentType:"application/json",body:t},n)),ga=async(e,t,n)=>ca(D({url:e,method:"DELETE",contentType:"application/json",body:t},n)),pa=async(e,t,n,i)=>ca(D({url:e,method:"POST",contentType:"application/json",responseType:"blob",body:t,params:n},i)),Sa={v1:"/identity/resources/users/webauthn/v1/devices"},va={v1:"/identity/resources/auth/v1",v2:"/identity/resources/auth/v2"},ma={v1:"/identity/resources/users/v1",v2:"/identity/resources/users/v2",apiTokens:{v1:"/identity/resources/users/api-tokens/v1"},sessions:{v1:"/identity/resources/users/sessions/v1",currentUser:{v1:"/identity/resources/users/sessions/v1/me"},configurations:{v1:"/identity/resources/configurations/sessions/v1"}},invitation:{resendAll:{v1:"/identity/resources/users/v1/invitation/reset/all"}}},ha={v1:"/identity/resources/configurations/v1"},ba={emailDomain:{v1:"/identity/resources/configurations/restrictions/v1/email-domain"},ip:{v1:"/identity/resources/configurations/v1/restrictions/ip"}},Aa={v1:"/identity/resources/sso/v1",v2:"/identity/resources/sso/v2"},ka={v1:"/identity/resources/permissions/v1"},Ta={apiTokens:{v1:"/identity/resources/tenants/api-tokens/v1",v2:"/identity/resources/tenants/api-tokens/v2"},invites:{user:{v1:"/identity/resources/tenants/invites/v1/user"},verify:{v1:"/identity/resources/tenants/invites/v1/verify"},configuration:{v1:"/identity/resources/tenants/invites/v1/configuration"}}},Pa={v1:"/identity/resources/roles/v1"},Ia={v1:"/identity/resources/sub-tenants/users/v1"},La={v1:"/team/resources/sso/v1",v2:"/team/resources/sso/v2"},Ea={v1:"/team/resources/members/v1"},wa={v1:"/team/resources/roles/v1"},Oa={v1:"/team/resources/stats/v1"},Ca={v1:"/team/resources/profile"},Da={v1:"/tenants/resources/account-settings/v1"},Ra={v1:"/tenants/resources/hierarchy/v1",tree:{v1:"/tenants/resources/hierarchy/v1/tree"}},_a={v1:"/integrations/resources/configurations/v1",v2:"/integrations/resources/configurations/v2"},Ua={subscriptions:{v1:"/subscriptions/resources/billing/subscriptions/v1"},plans:{v1:"/subscriptions/resources/billing/plans/v1"},invoices:{v1:"/subscriptions/resources/billing/invoices/v1"},paymentMethods:{v1:"/subscriptions/resources/billing/payment-methods/v1"},summaries:{v1:"/subscriptions/resources/billing/summaries/v1"},tenantConfiguration:{v1:"/subscriptions/resources/billing/tenant-configurations/v1"},configurations:{vendorPublicConfigurations:{v1:"/subscriptions/resources/billing/configurations/vendor-public-configurations/v1"}},paymentProviders:{stripe:{customers:{v1:"/subscriptions/resources/billing/payment-providers/stripe/customers/v1"},publicConfigurations:{v1:"/subscriptions/resources/billing/payment-providers/stripe/public-configurations/v1"},subscriptions:{v1:"/subscriptions/resources/billing/payment-providers/stripe/subscriptions/v1"},setupIntents:{v1:"/subscriptions/resources/billing/payment-providers/stripe/setup-intents/v1"}}}},Ma={v1:"/subscriptions/resources/payment-providers/v1"},$a={v1:"/subscriptions/resources/subscriptions/v1"},Na={v1:"/reports/resources/reports/v1",v2:"/reports/resources/reports/v2"},Fa={v1:"/reports/engine/resources/triggers/v1"},xa="/notification",Va="/audits",ja={v1:"/event/resources/configurations/v1"},Wa="/webhook",Ka="/oauth",Ga="/flags",qa="/directory/resources/v1/configurations/scim2",Ba="/directory/resources/scim/temp";async function za(e){return fa(`${ma.v1}/tenant`,e)}async function Ha(){return da(`${ma.v2}/me/tenants`)}async function Ja(){return da(Ra.v1)}async function Ya(){return da(Ra.tree.v1)}async function Qa(){return da(ha.v1)}async function Xa(){return da(`${ha.v1}/mfa-policy`)}async function Za(){return da(`${ha.v1}/mfa-policy/vendor`)}async function er(e){return e.id?ya(`${ha.v1}/mfa-policy`,e):ua(`${ha.v1}/mfa-policy`,e)}async function tr(){return da(`${ha.v1}/lockout-policy`)}async function nr(e){return e.id?ya(`${ha.v1}/lockout-policy`,e):ua(`${ha.v1}/lockout-policy`,e)}async function ir(){try{return await da(`${ha.v1}/captcha-policy/public`)}catch{return null}}async function or(){return da(`${ha.v1}/password-history-policy`)}async function ar(e){return e.id?ya(`${ha.v1}/password-history-policy`,e):ua(`${ha.v1}/password-history-policy`,e)}async function rr(){return da(`${ha.v1}/password`)}async function lr(){return da(`${ba.emailDomain.v1}`)}async function sr(){return da(`${ba.emailDomain.v1}/config`)}async function cr(e){return ua(`${ba.emailDomain.v1}`,e)}async function dr(e){return ua(`${ba.emailDomain.v1}/config`,e)}async function ur(e){return ga(`${ba.emailDomain.v1}/${e}`)}async function yr(e){return da(`${ba.ip.v1}`,e)}async function fr(){return da(`${ba.ip.v1}/config`)}async function gr(e){return ua(`${ba.ip.v1}`,e)}async function pr(e){return ua(`${ba.ip.v1}/bulk`,e)}async function Sr(e){return ua(`${ba.ip.v1}/config`,e)}async function vr(e){return ga(`${ba.ip.v1}/${e}`)}async function mr(){return ua(`${ba.ip.v1}/verify`)}async function hr(){return ua(`${ba.ip.v1}/verify/allow`)}let br,Ar;!function(e){e.Microsoft="microsoft",e.Facebook="facebook",e.Google="google",e.Github="github",e.Slack="slack",e.Apple="apple"}(br||(br={})),function(e){e.EmailAndPassword="EmailAndPassword",e.MagicLink="MagicLink",e.Code="Code",e.NoLocalAuthentication="NoLocalAuthentication",e.SmsCode="SmsCode"}(Ar||(Ar={}));class kr extends Error{constructor(e){super(e)}}const Tr="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){const t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new kr("'atob' failed: The string to be decoded is not correctly encoded.");let n="";for(let e,i,o=0,a=0;i=t.charAt(a++);~i&&(e=o%4?64*e+i:i,o++%4)?n+=String.fromCharCode(255&e>>(-2*o&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return n};class Pr extends Error{constructor(e){super(e)}}const Ir=(e,t={})=>{const n=t.header?0:1;try{return JSON.parse((e=>{let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}try{return function(e){return decodeURIComponent(Tr(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return Tr(t)}})(e.split(".")[n]))}catch(e){throw new Pr("Invalid token specified: "+e.message)}},Lr=["type"],Er=["type"];async function wr(e){if(!e.accessToken)return e;aa.setAccessToken(e.accessToken);const t=await da(`${ma.v2}/me`),n=D({},e,e.accessToken?Ir(e.accessToken):{},t);return aa.setUser(n),n}async function Or(e){if(!e.accessToken)return{user:e};aa.setAccessToken(e.accessToken);const[t,n]=await Promise.all([da(`${ma.v2}/me`),Ha()]),i=D({},e,e.accessToken?Ir(e.accessToken):{},t);return aa.setUser(i),{user:i,tenants:n}}async function Cr(e){aa.setAccessToken(e.id_token);const t=await da(`${ma.v2}/me`),n=e.id_token?Ir(e.id_token):{},i=D({mfaRequired:!1,accessToken:e.id_token,refreshToken:e.refresh_token},n,t,{expiresIn:n.exp?Math.ceil(n.exp-(new Date).getTime()/1e3):300});return aa.setUser(i),i}async function Dr(e){try{const{address:t}=await ua(`${va.v1}/user/saml/prelogin`,e);return t}catch{return null}}async function Rr(e){return ua(`${va.v1}/user/saml/prelogin`,e)}async function _r(e){return wr(await ua(`${va.v1}/user/saml/postlogin`,e))}async function Ur(e){return wr(await ua(`${va.v1}/user/oidc/postlogin`,e))}async function Mr(e){return wr(await ua(`${va.v1}/user`,e))}async function $r(e){return wr(await ua(`${va.v1}/user/mfa/verify`,e))}async function Nr(e){return ua(`${ma.v1}/activate`,e)}async function Fr(e){return da(`${ma.v1}/activate/strategy`,e)}async function xr(e){return ua(`${ma.v1}/activate/reset`,e)}async function Vr(e){return ua(`${ma.v1}/invitation/reset`,e)}async function jr(e){return ua(`${ma.v1}/invitation/accept`,e)}async function Wr(){return wr(await ua(`${va.v1}/user/token/refresh`))}async function Kr(){return Or(await ua(`${va.v1}/user/token/refresh`))}async function Gr(){return ua(`${va.v1}/logout`)}async function qr(e){return ua(`${ma.v1}/passwords/reset`,e)}async function Br(e){return ua(`${ma.v1}/passwords/reset/verify`,e)}async function zr(e){return da(`${ma.v1}/passwords/config`,e)}async function Hr(e){return ua(`${va.v1}/user/mfa/recover`,e)}async function Jr(){return ua(`${ma.v1}/mfa/enroll`)}async function Yr(){return ua(`${ma.v1}/mfa/authenticator/enroll`)}async function Qr(e){return ua(`${ma.v1}/mfa/authenticator/enroll/verify`,e)}async function Xr(e){return ua(`${ma.v1}/mfa/sms/enroll`,e)}async function Zr(e){return ua(`${ma.v1}/mfa/sms/enroll/verify`,e)}async function el(){return ua(`${ma.v1}/mfa/webauthn/enroll`)}async function tl(e){return ua(`${ma.v1}/mfa/webauthn/enroll/verify`,e)}async function nl(e){return ua(`${ma.v1}/mfa/enroll/verify`,e)}async function il(e){return ua(`${ma.v1}/mfa/disable`,e)}async function ol(e,t){return ua(`${ma.v1}/mfa/authenticator/${e}/disable/verify`,t)}async function al(e){return ua(`${ma.v1}/mfa/sms/${e}/disable`)}async function rl(e,t){return ua(`${ma.v1}/mfa/sms/${e}/disable/verify`,t)}async function ll(e){return ua(`${ma.v1}/mfa/webauthn/${e}/disable`)}async function sl(e,t){return ua(`${ma.v1}/mfa/webauthn/${e}/disable/verify`,t)}async function cl(){return da(`${ma.v1}/mfa/devices`)}async function dl(e){return ua(`${va.v1}/user/mfa/authenticator/enroll`,e)}async function ul(e){return ua(`${va.v1}/user/mfa/authenticator/enroll/verify`,e)}async function yl(e,t){return ua(`${va.v1}/user/mfa/authenticator/${e}/verify`,t)}async function fl(e){return ua(`${va.v1}/user/mfa/sms/enroll`,e)}async function gl(e){return ua(`${va.v1}/user/mfa/sms/enroll/verify`,e)}async function pl(e,t){return ua(`${va.v1}/user/mfa/sms/${e}`,t)}async function Sl(e,t){return ua(`${va.v1}/user/mfa/sms/${e}/verify`,t)}async function vl(e){return ua(`${va.v1}/user/mfa/webauthn/enroll`,e)}async function ml(e){return ua(`${va.v1}/user/mfa/webauthn/enroll/verify`,e)}async function hl(e,t){return ua(`${va.v1}/user/mfa/webauthn/${e}`,t)}async function bl(e,t){return ua(`${va.v1}/user/mfa/webauthn/${e}/verify`,t)}async function Al(){return da(`${La.v1}/saml/configurations`)}async function kl(e){return ua(`${La.v1}/saml/configurations`,e)}async function Tl(){return da(`${La.v1}/saml/configurations/vendor-config`)}async function Pl(e){return fa(`${La.v1}/saml/configurations/metadata`,e)}async function Il(){return fa(`${La.v1}/saml/validations/domain`)}async function Ll(){return da(`${La.v1}/saml/configurations/roles/default`)}async function El(){return da(`${La.v2}/saml/configurations/groups`)}async function wl({roleIds:e}){return ua(`${La.v1}/saml/configurations/roles/default`,{roleIds:e})}async function Ol({roleIds:e,group:t}){return ua(`${La.v2}/saml/configurations/groups`,{group:t,roleIds:e})}async function Cl({roleIds:e,group:t,id:n}){return ya(`${La.v2}/saml/configurations/groups/${n}`,{group:t,roleIds:e})}async function Dl({id:e}){return ga(`${La.v2}/saml/configurations/groups/${e}`)}async function Rl(){return da(`${La.v1}/oidc/configurations`)}async function _l(){return da(`${La.v2}/configurations/public`)}async function Ul(){return da(Aa.v1)}async function Ml(){return da(Aa.v2)}async function $l({provider:e,code:t,redirectUri:n,codeVerifier:i,metadata:o,invitationToken:a,state:r}){const l={code:t};return n&&(l.redirectUri=n),i&&(l.code_verifier=i),r&&(l.state=r),ua(`${va.v1}/user/sso/${e}/postlogin`,{metadata:o,invitationToken:a},{params:l})}async function Nl(){return da(`${ha.v1}/public`)}async function Fl(e){const{shouldActivate:t,authResponse:n,userId:i,tenantId:o}=await ua(`${ma.v1}/signUp`,e);return{shouldActivate:t,user:!t&&n?await wr(n):void 0,userId:i,tenantId:o}}async function xl(){return da(ma.sessions.currentUser.v1)}async function Vl(){return da(`${ma.sessions.currentUser.v1}/current`)}async function jl(e){return ua(`${ma.sessions.v1}/revoke`,{userId:e})}async function Wl(){return da(ma.sessions.configurations.v1)}async function Kl(e){await ua(ma.sessions.configurations.v1,e)}async function Gl(e){await ga(`${ma.sessions.currentUser.v1}/${e}`)}async function ql(){await ga(`${ma.sessions.currentUser.v1}/all`)}async function Bl(){return da(ma.apiTokens.v1)}async function zl(){return da(Ta.apiTokens.v1)}async function Hl(e){return ua(ma.apiTokens.v1,e)}async function Jl(e){return ua(Ta.apiTokens.v2,e)}async function Yl({tokenId:e}){return ga(`${Ta.apiTokens.v1}/${e}`)}async function Ql({tokenId:e}){return ga(`${ma.apiTokens.v1}/${e}`)}async function Xl({userId:e}){return da(`${ma.v1}/${e}`)}async function Zl(e){return da(`${ha.v1}/mfa-policy/allow-remember-device`,{mfaToken:e})}async function es(e){let{type:t}=e,n=mi(e,Lr);return ua(`${va.v1}/passwordless/${t.toLocaleLowerCase()}/prelogin`,n)}async function ts(e){let{type:t}=e,n=mi(e,Er);return ua(`${va.v1}/passwordless/${t.toLocaleLowerCase()}/postlogin`,n)}async function ns({token:e}){return ua(Ta.invites.verify.v1,{token:e})}async function is(){return da(`${La.v1}/configurations`)}async function os(e){return ua(`${La.v1}/configurations`,e)}async function as(e,t){return ya(`${La.v1}/configurations/${e}`,t)}async function rs(e){return ga(`${La.v1}/configurations/${e}`)}async function ls(e){return ua(`${La.v1}/configurations/metadata`,e)}async function ss(e,t){return fa(`${La.v1}/configurations/${e}/metadata`,t)}async function cs(e,t){return ua(`${La.v1}/configurations/${e}/domains`,t)}async function ds(e,t){return ga(`${La.v1}/configurations/${e}/domains/${t}`)}async function us(e,t){return fa(`${La.v1}/configurations/${e}/domains/${t}/validate`)}async function ys(e){return da(`${La.v1}/configurations/${e}/roles`)}async function fs(e,t){return fa(`${La.v1}/configurations/${e}/roles`,t)}async function gs(e,t){return ua(`${La.v1}/configurations/${e}/groups`,t)}async function ps(e,{roleIds:t,group:n,id:i}){return ya(`${La.v1}/configurations/${e}/groups/${i}`,{group:n,roleIds:t})}async function Ss(e,t){return ga(`${La.v1}/configurations/${e}/groups/${t}`)}async function vs(e){return da(`${La.v1}/configurations/${e}/groups`)}async function ms(e){return ua(`${va.v2}/user/sso/prelogin`,e)}async function hs(e){return wr(await ua(`${va.v2}/user/oidc/postlogin`,e))}async function bs(e){return Cr(await ua(`${Ka}/token`,e))}async function As(){return Cr(await ua(`${Ka}/authorize/silent`))}async function ks(e){return ua(`${ma.v1}/phone/reset`,e)}async function Ts(e){return ua(`${ma.v1}/phone/reset/verify`,e)}async function Ps(e){return ua(`${ma.v1}/phone`,e)}async function Is(e){return ua(`${ma.v1}/phone/verify`,e)}async function Ls(e){return fa(`${ma.v1}/phone/change`,e)}async function Es(e){return ua(`${va.v1}/webauthn/prelogin`,e)}async function ws(e){return ua(`${va.v1}/webauthn/postlogin`,e)}async function Os(){return ua(Sa.v1)}async function Cs(e){return ua(`${Sa.v1}/verify`,e)}async function Ds(){return da(`${ha.v1}/auth/strategies/public`)}async function Rs(){return da(`${ha.v1}/mfa/strategies`)}async function _s(e){return da(`${ma.v2}/me`,null!=e?e:{addRoles:!0})}async function Us(e){return fa(`${ma.v2}/me`,e)}async function Ms(e){return fa(`${Ca.v1}/me/image/v1`,e,{responseType:"plain",contentType:void 0})}async function $s(e){return ua(`${ma.v1}/passwords/change`,e)}async function Ns(e){var t,n,i,o,a,r;const l=(e.filter||[]).reduce(((e,t)=>D({},e,{[t.id]:t.value})),{}),s=null!=(t=e.sort)&&t.length?{sortBy:null!=(n=null==(i=e.sort)||null==(o=i[0])?void 0:o.id)?n:"name",sortDirection:null!=(a=e.sort)&&null!=(r=a[0])&&r.desc?"desc":"asc"}:null;return da(Ea.v1,D({pageOffset:e.pageOffset,pageSize:e.pageSize},l,s))}async function Fs(e){return ua(ma.v2,D({},e,{provider:"local"}))}async function xs(e){return ga(`${Ea.v1}/${e.userId}`)}async function Vs(e){return fa(Ea.v1,e)}async function js(e){return ua(Ta.invites.user.v1,D({},e))}async function Ws(e){return ya(Ta.invites.user.v1,D({},e))}async function Ks(){return ga(Ta.invites.user.v1)}async function Gs(){return da(Ta.invites.user.v1)}async function qs(){return da(Ta.invites.configuration.v1)}async function Bs(){return da(wa.v1)}async function zs(){return da(ka.v1)}async function Hs(){return da(`${Oa.v1}/members`)}async function Js(e){return ua(`${Ea.v1}/${e.userId}/resendActivationEmail`,{})}async function Ys(e){return ua(ma.v2,D({},e,{provider:"local"}))}async function Qs(e){return ua(ma.invitation.resendAll.v1,D({},e))}async function Xs(e){var t,n;const i=await da("/metadata",e);if(null!=i&&null!=(t=i.rows)&&t[0])return null==i||null==(n=i.rows)?void 0:n[0];throw new Error(`metadata not found: ${e.entityName}`)}async function Zs(){const e=await da("/metadata/ipme");if(e)return e;throw new Error("ip metadata not found")}const ec=async()=>Xs({entityName:"notifications"}),tc=async()=>Xs({entityName:"saml"}),nc=async()=>Xs({entityName:"audits"}),ic=async e=>async function(e){const t=await da(`/metadata/ip/${e}`);if(t)return t;throw new Error("ip metadata not found")}(e),oc=["dataFilters"],ac=["templateId","dataFilters"],rc=["dataFilters"];async function lc(e){return da(`${Na.v2}/tenant-reports`,e)}async function sc(e){return da(`${Na.v2}/${e.id}/tenant-reports`)}async function cc(e){let{dataFilters:t}=e,n=mi(e,oc);return{html:await da(`${Fa.v1}/preview-report`,D({},n,{dataFilters:btoa(JSON.stringify(t||{})),responseType:"html"}),{responseType:"plain"})}}async function dc(e){let{templateId:t,dataFilters:n}=e,i=mi(e,ac);return ua(`${Na.v2}/${t}/tenant-reports`,D({},i,{dataFilters:btoa(JSON.stringify(n||{}))}))}async function uc(e){let{dataFilters:t}=e,n=mi(e,rc);const i=await da(`${Fa.v1}/preview-report`,D({},n,{dataFilters:btoa(JSON.stringify(t||{}))}),{responseType:"blob"});let o="text/html",a="html";"pdf"===n.responseType?(o="application/pdf",a="pdf"):"image"===n.responseType&&(o="image/jpeg",a="jpg");const r=new Blob([i],{type:o}),l=URL.createObjectURL(r),s=document.createElement("a");s.href=l,s.setAttribute("download",`report_${n.name||""}.${a}`),s.click(),setTimeout(s.remove.bind(s))}async function yc(e){return ua(`${Fa.v1}/tenant-reports`,e)}async function fc(e){return da(xa,{params:e})}async function gc(e){return fa(`${xa}/status`,{params:e})}async function pc(e){const{notificationId:t,pinStatus:n}=e;return fa(`${xa}/${n}`,{notificationId:t})}async function Sc(){return ua(`${xa}/status/mark-all-read`)}const vc=["endpoint","headerProps"];async function mc(e){return da(Va,e)}async function hc(e){return da(`${Va}/stats`,e)}async function bc(e){const{endpoint:t,headerProps:n}=e,i=mi(e,vc);return pa(`${Va}/export/${t}`,{properties:n},i)}const Ac=["eventKey"],kc=["eventKey"],Tc=()=>da(`${_a.v1}/slack`),Pc=()=>da(`${_a.v1}/slack/applications`),Ic=()=>da(`${_a.v1}/slack/channels`),Lc=e=>e.id?ya(`${_a.v1}/slack/subscription/${e.id}`,e):ua(`${_a.v1}/slack/subscriptions`,e),Ec=e=>ga(`${_a.v1}/slack/subscriptions/${e.id}`),wc=e=>ua(`${_a.v1}/slack/applications/registrations`,{code:e}),Oc=()=>da(`${_a.v1}/emails`),Cc=e=>{let{eventKey:t}=e,n=mi(e,Ac);return ua(`${_a.v1}/emails/${t}`,n)},Dc=({eventKey:e,enabled:t})=>ya(`${_a.v1}/emails/${e}`,{enabled:t}),Rc=(e,t)=>ga(`${_a.v1}/emails/${e}/subscriptions/${t}`),_c=(e,t,n)=>fa(`${_a.v1}/emails/${t}/subscriptions/${e}`,n),Uc=e=>ga(`${_a.v1}/emails/${e}`),Mc=()=>da(`${_a.v2}/sms`),$c=e=>{let{eventKey:t}=e,n=mi(e,kc);return ua(`${_a.v2}/sms/${t}`,n)},Nc=({eventKey:e,enabled:t})=>ya(`${_a.v2}/sms/${e}`,{enabled:t}),Fc=(e,t)=>ga(`${_a.v2}/sms/${e}/subscriptions/${t}`),xc=(e,t,n)=>fa(`${_a.v2}/sms/${t}/subscriptions/${e}`,n),Vc=e=>ga(`${_a.v2}/sms/${e}`),jc=()=>da(Wa),Wc=e=>e._id?ya(`${Wa}/${e._id}`,e):ua(`${Wa}/custom`,e),Kc=e=>ga(`${Wa}/${e}`),Gc=(e,t=0,n=10)=>{const i=new URLSearchParams({id:e,offset:`${t}`,limit:`${n}`});return da(`${Wa}/logs/?${i.toString()}`)},qc=e=>ua(`${Wa}/test`,e),Bc=e=>ua(`${Wa}/logs/${e}/retries`),zc=()=>da(`${ja.v1}/categories`),Hc=e=>da(ja.v1,{channels:e});async function Jc(e){return fa(Da.v1,e)}async function Yc(){return da(Da.v1)}const Qc=["roleId"],Xc=["roleId"],Zc=["permissionId"];async function ed(){return da(Pa.v1)}async function td(e){return ua(Pa.v1,e)}async function nd({roleId:e}){return ga(`${Pa.v1}/${e}`)}async function id(e){let{roleId:t}=e,n=mi(e,Qc);return ya(`${Pa.v1}/${t}`,n)}async function od(e){let{roleId:t}=e,n=mi(e,Xc);return fa(`${Pa.v1}/${t}/permissions`,n)}async function ad(){return da(ka.v1)}async function rd(e){let{permissionId:t}=e,n=mi(e,Zc);return fa(`${ka.v1}/${t}/roles`,n)}async function ld(){return da(`${ka.v1}/categories`)}async function sd(){return da(Ua.subscriptions.v1)}async function cd(e){return da(`${Ua.subscriptions.v1}/${e}`)}async function dd(e){return fa(`${Ua.subscriptions.v1}/${e}/cancellations/`,{})}async function ud(e){return fa(`${Ua.subscriptions.v1}/${e}/renewals/`,{})}async function yd(e,{paymentMethodId:t,planId:n}){return fa(`${Ua.subscriptions.v1}/${e}`,{paymentMethodId:t,planId:n})}async function fd(e){return da(`${$a.v1}/${e}`)}async function gd(){return da(`${$a.v1}`)}async function pd(e){return fa(`${$a.v1}/${e}/cancellations/`,{})}async function Sd(e){return fa(`${$a.v1}/${e}/renewals/`,{})}async function vd(e,{paymentMethodId:t,planId:n}){return fa(`${$a.v1}/${e}`,{paymentMethodId:t,planId:n})}async function md(){return da(Ua.plans.v1)}async function hd(e){return da(`${Ua.plans.v1}/${e}`)}async function bd(){return da(Ua.invoices.v1)}async function Ad(e){return da(`${Ua.invoices.v1}/${e}`)}async function kd(e,t){return da(`${Ua.invoices.v1}/${e}/pdf`,{outputFileName:t},{responseType:"blob"})}const Td=["email"];async function Pd(){return da(Ua.paymentMethods.v1)}async function Id(e){return da(`${Ua.paymentMethods.v1}/${e}`)}async function Ld(e,t){let{email:n}=t,i=mi(t,Td);return ya(`${Ua.paymentMethods.v1}/${e}/billing-details`,{email:n,address:i})}async function Ed(e){return ua(Ua.paymentProviders.stripe.subscriptions.v1,e)}async function wd(e){return da(`${Ua.paymentProviders.stripe.customers.v1}/${e}`)}async function Od(e){return ua(`${Ua.paymentProviders.stripe.customers.v1}`,e)}async function Cd(){return da(`${Ua.paymentProviders.stripe.publicConfigurations.v1}`)}async function Dd(e){return ua(`${Ua.paymentProviders.stripe.setupIntents.v1}`,e)}async function Rd(e){return da(`${Ua.summaries.v1}/${e}`)}async function _d(e){return da(`${Ua.tenantConfiguration.v1}/${e}`)}async function Ud(e){return ua(`${Ua.tenantConfiguration.v1}`,e)}async function Md(){return da(Ma.v1)}async function $d(){return da(`${Ua.configurations.vendorPublicConfigurations.v1}`)}let Nd,Fd,xd,Vd,jd,Wd,Kd,Gd,qd,Bd,zd;async function Hd(){return da("/vendors/public")}async function Jd(e){return da(Ia.v1,e)}async function Yd(e){return ua(Ia.v1,e)}async function Qd(e){return ga(Ia.v1,e)}async function Xd(e,t){return ua(`${Ia.v1}/${e}/roles`,t)}async function Zd(e,t){return ga(`${Ia.v1}/${e}/roles`,t)}async function eu(e,t){return ya(`${Ia.v1}/${e}/roles`,t)}async function tu(){return da(Ga)}async function nu(){return da(`${qa}`)}async function iu(e,t){return ya(`${qa}/${e}`,t)}async function ou(e){return ua(`${qa}`,e)}async function au(e){return ga(`${qa}/${e}`)}async function ru(e){return da(`${Ba}/${e}/Users/count`)}!function(e){e.ACTIVE="active",e.CANCELED="canceled",e.INCOMPLETE="incomplete",e.EXPIRED="expired",e.TRIALING="trialing",e.TRIAL_ENDED="trialEnded"}(Nd||(Nd={})),function(e){e.UNKNWON="unknown",e.CARD="card"}(Fd||(Fd={})),function(e){e.AT_PERIOD_END="atPeriodEnd"}(xd||(xd={})),(Vd||(Vd={})).Stripe="Stripe",function(e){e.CHANGE_TO_DEFAULT="change_to_default",e.RETAIN_TRIAL="retain_trial"}(jd||(jd={})),function(e){e.CREATE="create_customer"}(Wd||(Wd={})),function(e){e.WebAuthnPlatform="WebAuthnPlatform",e.WebAuthnCrossPlatform="WebAuthnCrossPlatform",e.SmsCode="SmsCode"}(Kd||(Kd={})),function(e){e.Android="Android",e.USBKey="USBKey",e.TouchID="TouchID"}(Gd||(Gd={})),function(e){e.AuthenticatorApp="AuthenticatorApp",e.WebAuthn="WebAuthn",e.SMS="SMS"}(qd||(qd={})),function(e){e.FRONTEGG="frontegg",e.SCIM2="scim2"}(Bd||(Bd={})),function(e){e.CUSTOMER="customer",e.SPAM="spam",e.TEST="test",e.RESELLER="reseller",e.HEADQUARTER="headquarter"}(zd||(zd={}));const lu=[`${va.v1}/logout`,`${va.v1}/user/saml/postlogin`,`${va.v2}/user/oidc/postlogin`,`${va.v1}/user`,`${va.v1}/user/mfa/verify`,`${va.v1}/user/token/refresh`,`${ma.v1}`,`${ma.v1}/signUp`,`${va.v1}/passwordless/magiclink/postlogin`,`${va.v1}/passwordless/code/postlogin`,`${va.v1}/passwordless/smscode/postlogin`,`${ma.v1}/activate`,`${ma.v1}/invitation/accept`,`${Ka}/token`,`${Ka}/authorize/silent`],su=`${va.v1}/user/token/refresh`,cu=`${Ka}/authorize/silent`,du=`${ma.v2}/me`,uu=`${ma.v2}/me/tenants`;let yu;!function(e){e.FRONTEGG="frontegg",e.OKTA="okta",e.AZURE_AD="azure-ad",e.OTHER="other"}(yu||(yu={}));const fu={auth:i,teams:o,metadata:a,reports:r,connectivity:c,notifications:l,audits:s,tenants:t,accountSettings:d,roles:u,subscriptions:y,vendor:f,subTenants:g,featureFlags:p,directory:S},gu={fetch:e,ContextHolder:aa,FronteggContext:ra,api:fu,FronteggApiError:la,AuthStrategyEnum:Ar,SocialLoginProviders:br,ISubscriptionCancellationPolicy:xd,ISubscriptionStatus:Nd,PaymentMethodType:Fd,ProviderType:Vd};let pu,Su;function vu(e,t){const n=D({},e);return t.forEach((e=>{delete n[e]})),n}async function mu(e){const t=await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e));return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hu(e=16){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}!function(e){e.LOAD_SSO_CONFIGURATIONS="LOAD_SSO_CONFIGURATIONS",e.SAVE_SSO_CONFIGURATION="SAVE_SSO_CONFIGURATION",e.UPDATE_SSO_CONFIGURATION="UPDATE_SSO_CONFIGURATION",e.SAVE_SSO_CONFIGURATION_BY_METADATA="SAVE_SSO_CONFIGURATION_BY_METADATA",e.UPDATE_SSO_CONFIGURATION_BY_METADATA="UPDATE_SSO_CONFIGURATION",e.DELETE_SSO_CONFIGURATION="DELETE_SSO_CONFIGURATION",e.SAVE_SSO_DOMAIN="SAVE_SSO_DOMAIN",e.DELETE_SSO_DOMAIN="DELETE_SSO_DOMAIN",e.VALIDATE_SSO_DOMAIN="VALIDATE_SSO_DOMAIN",e.UPDATE_SSO_DEFAULT_ROLES="UPDATE_SSO_DEFAULT_ROLES",e.DELETE_SSO_GROUPS="DELETE_SSO_GROUPS",e.SAVE_SSO_GROUPS="SAVE_SSO_GROUPS",e.GET_SSO_AUTHORIZATION_ROLES="GET_SSO_AUTHORIZATION_ROLES"}(pu||(pu={})),function(e){e.Saml="saml",e.Okta="okta",e.Azure="azure",e.Google="google",e.Oidc="oidc"}(Su||(Su={}));const bu=e=>new Promise(((t,n)=>{const i=new FileReader;i.readAsText(e),i.onload=()=>t(i.result),i.onerror=n})),Au={clientId:"CLIENT_ID_16806d3d-8fc3-4450-be97-abdaf66b723e",secret:"SECRET_16806d3d-8fc3-4450-be97-abdaf66b723e",createdAt:"createdAt",description:"Demo API Token (preview only)"},ku=D({},Au,{roleIds:[],tenantId:"my-tenant-id",createdByUserId:"createdByUserId"}),Tu={id:"testId",name:"Demo User Name",email:"demo-user@frontegg.com",mfaEnrolled:!0,profileImage:void 0,profilePictureUrl:"https://www.gravatar.com/avatar/42b2ad2bad6fc9b9db5086dfcf8072ac?d=https://ui-avatars.com/api/fe/128/random?t=1617261890875?t=1617261917434",roles:[{id:"roleId",key:"admin",isDefault:!1,name:"Admin",description:null,permissions:["adminPermissionId"],tenantId:"tenantId",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date}],permissions:[{id:"adminPermissionId",key:"fe.*",name:"General Admin",description:void 0,categoryId:"category",fePermission:!0,createdAt:new Date,updatedAt:new Date}],tenantId:"my-tenant-id",tenantIds:["my-tenant-id"],activatedForTenant:!0,metadata:JSON.stringify({phoneNumber:"+972-54123456",jobTitle:"Developer",address:{city:"Tel Aviv",country:"Israel"}}),roleIds:void 0,verified:void 0},Pu=D({},Tu,{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MTY5YmY0Zi02YmI5LTQ5NGMtOGNkZS05MDc4NDQ0NWY4MDciLCJuYW1lIjoiRHVtbXkgVXNlciIsImVtYWlsIjoiZHVtbXlAZnJvbnRlZ2cuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm1ldGFkYXRhIjp7fSwicm9sZXMiOlsiYWRtaW4iXSwicGVybWlzc2lvbnMiOlsiZmUuKiJdLCJ0ZW5hbnRJZCI6Im15LXRlbmFudC1pZCIsInRlbmFudElkcyI6WyJteS10ZW5hbnQtaWQiXSwicHJvZmlsZVBpY3R1cmVVcmwiOiJodHRwczovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyLzQyYjJhZDJiYWQ2ZmM5YjlkYjUwODZkZmNmODA3MmFjP2Q9aHR0cHM6Ly91aS1hdmF0YXJzLmNvbS9hcGkvZmUvMTI4L3JhbmRvbT90PTE2MTcyNjE4OTA4NzU_dD0xNjE3MjYxOTE3NDM0IiwidHlwZSI6InVzZXJUb2tlbiIsImlhdCI6MTYxNzkwNjMyNCwiZXhwIjoxNjE3OTkyNzI0LCJpc3MiOiJmcm9udGVnZyJ9.paaXLkpWEWbQmUtoK2P8IwXCxK4WJp7XhXonvzF8g1I",expiresIn:86400,mfaRequired:!1,refreshToken:"refresh-token-dummy-de39dc9c-9d22-4852-b7f5-c3c0aa613b58",type:"userToken",iat:1617906324,exp:1617992724,iss:"frontegg",email_verified:!0}),Iu={loading:!1,error:void 0,saving:!0,profile:Tu},Lu={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date,allowOverrideEnforcePasswordHistory:!0,allowOverridePasswordComplexity:!1,allowOverridePasswordExpiration:!1,allowSignups:!0,apiTokensEnabled:!0,cookieSameSite:"cookieSameSite",defaultRefreshTokenExpiration:0,defaultTokenExpiration:1,publicKey:"publicKey"},Eu={allowSignups:!0,allowNotVerifiedUsersLogin:!1,apiTokensEnabled:!0,forcePermissions:!1,authStrategy:Ar.EmailAndPassword},wu={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date},Ou={id:"id",enabled:!0,maxAttempts:1,createdAt:new Date,updatedAt:new Date},Cu={id:"id",enabled:!0,historySize:1,createdAt:new Date,updatedAt:new Date},Du={enabled:!0,domain:"domain",validated:!0,generatedVerification:"generatedVerification",ssoEndpoint:"ssoEndpoint",publicCertificate:"publicCertificate",signRequest:!0,createdAt:new Date,updatedAt:new Date,acsUrl:void 0,spEntityId:void 0,oidcClientId:void 0,oidcSecret:void 0,type:void 0},Ru={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",properties:[],vendorId:"vendorId",entityName:"saml",isActive:!0,configuration:{acsUrl:"acsUrl",spEntityId:"spEntityId"}},_u=[{id:"id",description:"description",key:"key",name:"name",permissions:[],permissionLevel:1}],Uu={firstLoad:!1,loading:!1,error:void 0,saving:!1,samlConfiguration:Du,roles:_u,authorizationRoles:[],errors:{},loaders:{},ssoConfigurations:[]},Mu=[{description:"string",fePermission:!0,id:"id",key:"key",name:"name",roleIds:[],createdAt:new Date,updatedAt:new Date,categoryId:"categoryId"}],$u={id:"id2",email:"demo-user2@frontegg.com",name:"Demo User Name2",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,verified:!1,createdAt:(new Date).toISOString(),customData:void 0,lastLogin:void 0,mfaEnabled:void 0,roles:[]},Nu={id:"id",email:"demo-user@frontegg.com",name:"Demo User Name",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,createdAt:new Date(2022,4,1).toISOString(),verified:!0,customData:void 0,lastLogin:new Date(2022,5,25).toISOString(),mfaEnabled:void 0,roles:[]},Fu={metadata:"",mfaEnrolled:!1,provider:"",sub:"",tenantIds:[],tenants:[],verified:!1,id:"id",email:"email",name:"name",tenantId:"tenantId",createdAt:new Date},xu=[Nu,$u],Vu=[Fu],ju=[{id:"my-tenant-id",isReseller:!1,name:"Frontegg demo",deletedAt:null,metadata:void 0,tenantId:"my-tenant-id",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date,address:void 0,timezone:void 0,dateFormat:void 0,timeFormat:void 0,currency:void 0,logo:void 0}],Wu=[{id:"laptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date,ipAddress:"190.194.88.251",current:!0},{id:"iphone",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_2_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1",createdAt:new Date(Date.now()-1e4),ipAddress:"191.49.203.21"},{id:"tablet",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; SGP771 Build/32.2.A.0.253; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36",createdAt:new Date(Date.now()-3e4),ipAddress:"130.19.196.136"},{id:"anotherlaptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date(Date.now()-1002232300),ipAddress:"2.228.163.92"}],Ku={sessionConcurrentConfiguration:{isActive:!0,maxSessions:10},sessionIdleTimeoutConfiguration:{isActive:!0,timeout:3600},sessionTimeoutConfiguration:{isActive:!0,timeout:7776e3}},Gu={isActive:!0,strategy:Hn.ALLOW},qu=[{updatedAt:new Date,createdAt:new Date,id:"1",ip:"255.255.255.255",isActive:!0,strategy:Hn.ALLOW,description:"My IP"},{updatedAt:new Date,createdAt:new Date,id:"2",ip:"255.255.255.254",isActive:!0,strategy:Hn.ALLOW,description:"IP 2"},{updatedAt:new Date,createdAt:new Date,id:"3",ip:"255.255.255.253",isActive:!0,strategy:Hn.BLOCK,description:"IP 3"},{updatedAt:new Date,createdAt:new Date,id:"4",ip:"255.255.255.253",isActive:!0,strategy:Hn.BLOCK,description:"IP 4"}];let Bu,zu,Hu;!function(e){e.SOCIAL_LOGIN="SOCIAL_LOGIN",e.PASSWORDLESS="PASSWORDLESS",e.ACTIVATION_LINK="ACTIVATION_LINK"}(Bu||(Bu={})),function(e){e.SOCIAL_LOGIN="SOCIAL_LOGIN",e.PASSWORD="PASSWORD"}(zu||(zu={})),function(e){e.profile="profile",e.privacy="privacy",e.personalApiTokens="personalApiTokens",e.account="account",e.users="users",e.security="security",e.sso="sso",e.audits="audits",e.webhooks="webhooks",e.apiTokens="apiTokens",e.roles="roles",e.subscriptions="subscription"}(Hu||(Hu={})),Hu.profile,Hu.privacy,Hu.personalApiTokens,Hu.account,Hu.users,Hu.security,Hu.sso,Hu.audits,Hu.webhooks,Hu.apiTokens,Hu.roles,Hu.subscriptions;const Ju=["events","url"];function*Yu(){yield io(ai.setSignUpState({loading:!0}));try{const e=yield ro(fu.auth.getVendorConfig),{allowSignups:t,allowNotVerifiedUsersLogin:n}=e;yield io(ai.setSignUpState({loading:!1,allowSignUps:t,allowNotVerifiedUsersLogin:n,firstLoad:!1})),yield io(ai.setSecurityPolicyPublicState({policy:e,loading:!1}))}catch(e){yield io(ai.setSignUpState({loading:!1,error:e.message,firstLoad:!1}))}}function*Qu(e){let{payload:{events:t,url:n}}=e,i=mi(e.payload,Ju);yield io(ai.setSignUpState({loading:!0}));try{const{routes:e,onRedirectTo:a}=yield co((e=>e.auth)),{shouldActivate:r,user:l,tenantId:s,userId:c}=yield ro(fu.auth.signUpUser,i);if(!i.invitationToken){var o;const{email:e,name:a,companyName:r}=i;null==t||null==(o=t.signUpComplete)||o.call(t,{email:e,name:a,companyName:r,url:n,authenticationType:zu.PASSWORD,id:c,tenantId:s,createdAt:new Date})}if(aa.setAccessToken(null==l?void 0:l.accessToken),aa.setUser(l),!r&&l&&rf(l)){const t=yield cf(l);yield io(ai.setState(t)),a(e.loginUrl)}else yield io(ai.setSignUpState({loading:!1,shouldActivate:r,stage:Tn.SignUpSuccess})),yield io(ai.setState({user:l,isAuthenticated:!(null==l||!l.accessToken)})),r||(yield io(ai.loadTenants()))}catch(e){aa.setAccessToken(null),aa.setUser(null),yield io(ai.setSignUpState({loading:!1,error:e.message}))}yield io(ai.setSignUpState({loading:!1}))}function*Xu(){const{allowSignUps:e,allowNotVerifiedUsersLogin:t}=yield co((e=>e.auth.signUpState));yield io(ai.resetSignUpState()),yield io(ai.setSignUpState({allowSignUps:e,allowNotVerifiedUsersLogin:t}))}function*Zu(){yield oa(ai.signUpUser,Qu),yield oa(ai.resetSignUpStateSoft,Xu)}const ey={setVendorState:(e,{payload:t})=>D({},e,t)},ty={loadVendorPublicInfo:yt(`${Vt}/loadVendorPublicInfo`)},ny={loading:!1},{reducer:iy,actions:oy}=gt({name:Vt,initialState:ny,reducers:D({},ey)}),ay=D({},oy,ty);function*ry(){yield io(ay.setVendorState({loading:!0}));try{const{whiteLabelMode:e=!1}=yield fu.vendor.getVendorPublicInfo();yield io(ay.setVendorState({whiteLabelMode:e,loading:!1}))}catch(e){yield io(ay.setVendorState({loading:!1})),console.error("failed to getVendorPublicInfo - ",e)}}const ly=["callback"],sy=["callback"],cy=["callback"],dy=["callback"],uy=["callback"],yy=["callback"];function*fy(){yield io(ai.setSecurityPolicyGlobalState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getGlobalSecurityPolicy);yield io(ai.setSecurityPolicyGlobalState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyGlobalState({error:e.message,loading:!1}))}yield io(ai.loadSecurityPolicyMfa()),yield io(ai.loadSecurityPolicyVendorMfa()),yield io(ai.loadSecurityPolicyLockout()),yield io(ai.loadSecurityPolicyCaptcha()),yield io(ai.loadPublicAuthStrategiesPolicy())}function*gy(){yield io(ai.setSecurityPolicyPublicState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getVendorConfig);yield io(ai.setSecurityPolicyPublicState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyPublicState({error:e.message,loading:!1}))}}function*py(){yield io(ai.setSecurityPolicyAuthStrategyPublicState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getVendorPublicAuthStrategiesConfig);yield io(ai.setSecurityPolicyAuthStrategyPublicState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyAuthStrategyPublicState({error:e.message,loading:!1}))}}function*Sy(){yield io(ai.setSecurityPolicyMfaState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getMfaPolicy);yield io(ai.setSecurityPolicyMfaState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyMfaState({error:e.message,loading:!1}))}}function*vy(){yield io(ai.setSecurityPolicyMfaState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getVendorMfaPolicy);yield io(ai.setSecurityPolicyVendorMfaState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyVendorMfaState({error:e.message,loading:!1}))}}function*my(e){let{payload:{callback:t}}=e,n=mi(e.payload,ly);yield io(ai.setSecurityPolicyMfaState({saving:!0,error:null}));try{const e=yield ro(fu.auth.saveMfaPolicy,n);yield io(ai.setSecurityPolicyMfaState({policy:e,saving:!1})),null==t||t(e)}catch(e){yield io(ai.setSecurityPolicyMfaState({saving:!1,error:e.message})),null==t||t(null,e)}}function*hy(){yield io(ai.setSecurityPolicyLockoutState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getLockoutPolicy);yield io(ai.setSecurityPolicyLockoutState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyLockoutState({error:e.message,loading:!1}))}}function*by(e){let{payload:{callback:t}}=e,n=mi(e.payload,sy);yield io(ai.setSecurityPolicyLockoutState({saving:!0,error:null}));try{const e=yield ro(fu.auth.saveLockoutPolicy,n);yield io(ai.setSecurityPolicyLockoutState({policy:e,saving:!1})),null==t||t(e)}catch(e){yield io(ai.setSecurityPolicyLockoutState({saving:!1,error:e.message})),null==t||t(null,e)}}function*Ay(){yield io(ai.setSecurityPolicyLockoutState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getCaptchaPolicy);yield io(ai.setSecurityPolicyCaptchaState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyCaptchaState({error:e.message,loading:!1}))}}function*ky(){yield io(ai.setSecurityPolicyPasswordHistoryState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getPasswordHistoryPolicy);yield io(ai.setSecurityPolicyPasswordHistoryState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyPasswordHistoryState({error:e.message,loading:!1}))}}function*Ty(e){let{payload:{callback:t}}=e,n=mi(e.payload,cy);yield io(ai.setSecurityPolicyPasswordHistoryState({saving:!0,error:null}));try{const e=yield ro(fu.auth.savePasswordHistoryPolicy,n);yield io(ai.setSecurityPolicyPasswordHistoryState({policy:e,saving:!1})),null==t||t(e)}catch(e){yield io(ai.setSecurityPolicyPasswordHistoryState({saving:!1,error:e.message})),null==t||t(null,e)}}function*Py(){yield io(ai.setSecurityPolicyPasswordState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getPasswordConfigPolicy);yield io(ai.setSecurityPolicyPasswordState({policy:e,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyPasswordState({error:e.message,loading:!1}))}}function*Iy(){yield oa(ai.loadSecurityPolicy,fy),yield na(ai.saveSecurityPolicyMfa,my),yield na(ai.loadSecurityPolicyMfa,Sy),yield na(ai.loadSecurityPolicyVendorMfa,vy),yield na(ai.saveSecurityPolicyLockout,by),yield na(ai.loadSecurityPolicyLockout,hy),yield na(ai.loadSecurityPolicyCaptcha,Ay),yield na(ai.saveSecurityPolicyPasswordHistory,Ty),yield na(ai.loadSecurityPolicyPasswordHistory,ky),yield na(ai.loadVendorPasswordConfig,Py),yield na(ai.loadPublicSecurityPolicy,gy),yield na(ai.loadPublicAuthStrategiesPolicy,py)}function*Ly(){yield io(ai.setSecurityPolicyPublicState({loading:!0,error:null}));try{yield io(ai.setSecurityPolicyPublicState({policy:Eu,loading:!1}))}catch(e){yield io(ai.setSecurityPolicyPublicState({error:e.message,loading:!1}))}}function*Ey(){yield io(ai.setSecurityPolicyGlobalState({loading:!0,error:null})),yield Lt(),yield io(ai.setSecurityPolicyGlobalState({policy:Lu,loading:!1})),yield io(ai.loadSecurityPolicyMfa()),yield io(ai.loadSecurityPolicyVendorMfa()),yield io(ai.loadSecurityPolicyLockout()),yield io(ai.loadSecurityPolicyCaptcha())}function*wy(){yield io(ai.setSecurityPolicyMfaState({loading:!0,error:null})),yield Lt(),yield io(ai.setSecurityPolicyMfaState({policy:wu,loading:!1}))}function*Oy(){yield io(ai.setSecurityPolicyVendorMfaState({loading:!0,error:null})),yield Lt(),yield io(ai.setSecurityPolicyVendorMfaState({policy:wu,loading:!1}))}function*Cy(e){var t;let{payload:{callback:n}}=e,i=mi(e.payload,dy);yield io(ai.setSecurityPolicyMfaState({saving:!0,error:null}));const o=D({},Ou,{id:null!=(t=i.id)?t:Ou.id,enforceMFAType:i.enforceMFAType});yield Lt(),yield io(ai.setSecurityPolicyMfaState({policy:o,saving:!1})),null==n||n(o)}function*Dy(){yield io(ai.setSecurityPolicyLockoutState({loading:!0,error:null})),yield Lt(),yield io(ai.setSecurityPolicyLockoutState({policy:Ou,loading:!1}))}function*Ry(e){let{payload:{callback:t}}=e,n=mi(e.payload,uy);yield io(ai.setSecurityPolicyLockoutState({saving:!0,error:null})),yield Lt();const i=D({},n,Ou,{id:n.id?n.id:Ou.id});null==t||t(i),yield io(ai.setSecurityPolicyLockoutState({policy:i,saving:!1}))}function*_y(){yield io(ai.setSecurityPolicyLockoutState({loading:!0,error:null})),yield Lt(),yield io(ai.setSecurityPolicyLockoutState({policy:Ou,loading:!1}))}function*Uy(){yield io(ai.setSecurityPolicyPasswordHistoryState({loading:!0,error:null})),yield Lt(),yield io(ai.setSecurityPolicyPasswordHistoryState({policy:Cu,loading:!1}))}function*My(e){let{payload:{callback:t}}=e,n=mi(e.payload,yy);yield io(ai.setSecurityPolicyPasswordHistoryState({saving:!0,error:null})),yield Lt();const i=D({},n,Cu,{id:n.id?n.id:Cu.id});null==t||t(i),yield io(ai.setSecurityPolicyPasswordHistoryState({policy:i,saving:!1}))}function*$y(){yield oa(ai.loadSecurityPolicy,Ey),yield na(ai.loadPublicSecurityPolicy,Ly),yield na(ai.saveSecurityPolicyMfa,Cy),yield na(ai.loadSecurityPolicyMfa,wy),yield na(ai.loadSecurityPolicyVendorMfa,Oy),yield na(ai.saveSecurityPolicyLockout,Ry),yield na(ai.loadSecurityPolicyLockout,Dy),yield na(ai.loadSecurityPolicyCaptcha,_y),yield na(ai.saveSecurityPolicyPasswordHistory,My),yield na(ai.loadSecurityPolicyPasswordHistory,Uy)}const Ny=["callback"],Fy=["callback"],xy=["callback"],Vy=["callback"],jy=["callback","events"],Wy=["callback"],Ky=["callback"],Gy=["callback"],qy=["callback"],By=["callback"],zy=["callback"],Hy=["callback"],Jy=["callback"],Yy=["callback"],Qy=["callback","deviceId"],Xy=["callback","deviceId"],Zy=["callback","deviceId"],ef=["callback","deviceId"],tf={[Ar.Code]:Dt.loginWithOtc,[Ar.EmailAndPassword]:Dt.loginWithPassword,[Ar.MagicLink]:Dt.magicLinkPreLoginSuccess,[Ar.SmsCode]:Dt.loginWithSmsOtc};function*nf(){var e;const t=aa.onRedirectTo,{routes:n,includeQueryParam:i}=yield co((e=>e.auth)),{loginUrl:o,logoutUrl:a,socialLoginCallbackUrl:r,activateUrl:l}=n;let{authenticatedUrl:s}=n;const c=window.localStorage.getItem(Ut);c&&![o,a,r,l].includes(c)&&(s=c),window.localStorage.removeItem(Ut),yield uo(200),io(ai.resetLoginState());const d=new URL(null==(e=window)?void 0:e.location.href);let u=s;var y;d.searchParams.get("redirectUrl")?u=null!=(y=d.searchParams.get("redirectUrl"))?y:s:i&&(u+=window.location.search),t(u,{refresh:u.startsWith("http")})}function*of(){let e;try{var t;const n=yield ro(fu.metadata.getSamlMetadata);e=null==n||null==(t=n.configuration)?void 0:t.acsUrl}catch(e){console.error(e)}yield io(ai.setState({ssoACS:e}))}function*af(){try{const{isActive:e}=yield ro(fu.auth.getSSOPublicConfiguration);yield io(ai.setState({isSSOAuth:e}))}catch(e){console.error(e)}}const rf=e=>e.mfaRequired&&e.mfaToken?(aa.setAccessToken(null),aa.setUser(null),!0):(aa.setAccessToken(e.accessToken),aa.setUser(e),!1),lf=e=>{const{numberOfPhoneDevices:t,numberOfAuthenticators:n,totalDevices:i}=(e=>{const t=+Boolean(e.webauthn.length),n=+Boolean(e.phones.length),i=+Boolean(e.authenticators.length);return{numberOfWebAuthnDevices:t,numberOfPhoneDevices:n,numberOfAuthenticators:i,totalDevices:t+n+i}})(e);if(1===i){if(n)return fn.authenticatorApp;if(t)return fn.smsVerifyCode}return fn.verify},sf=e=>{if(1===e.length){const[t]=e;if(t===qd.AuthenticatorApp)return fn.authenticatorApp;if(t===qd.SMS)return fn.smsSetPhoneNumber}return fn.verify};function*cf(e){let t=Dt.loginWithTwoFactor,n={};const{loginState:i}=yield co((e=>e.auth)),{isAllowedToRemember:o,mfaDeviceExpiration:a}=yield ro(fu.auth.checkIfAllowToRememberMfaDevice,e.mfaToken);!e.hasOwnProperty("mfaEnrolled")||e.mfaEnrolled?n={mfaDevices:e.mfaDevices,step:lf(e.mfaDevices)}:(n={step:sf(e.mfaStrategies),qrCode:e.qrCode,recoveryCode:e.recoveryCode,loading:!1,mfaToken:e.mfaToken,mfaStrategies:e.mfaStrategies},t=Dt.forceTwoFactor);let r={};const l=localStorage.getItem("register-quick-login");return l&&(r={quickLoginToRegister:l,flow:Rt.RegisterQuickLogin}),{user:void 0,isAuthenticated:!1,mfaState:n,loginState:D({},i,r,{mfaToken:e.mfaToken,mfaRequired:e.mfaRequired,loading:!1,error:void 0,step:t,tenantsLoading:!0,email:e.userEmail,tenants:[],allowRememberMfaDevice:o,mfaDeviceExpiration:a})}}function*df(){const{hostedLoginBox:e}=yield co((e=>e.auth));e?yield ro(uf):yield ro(yf)}function*uf(){const{user:e}=yield co((e=>e.auth));if(null==e||!e.refreshToken)return aa.setAccessToken(null),aa.setUser(null),void(yield io(ai.setState({user:null,isAuthenticated:!1})));try{const t={grant_type:"refresh_token",refresh_token:null==e?void 0:e.refreshToken},n=yield ro(fu.auth.exchangeOAuthTokens,t);yield io(ai.setState({user:n,isAuthenticated:!0})),yield io(ai.loadTenants())}catch(e){aa.setAccessToken(null),aa.setUser(null),yield io(ai.setState({user:null,isAuthenticated:!1}))}}function*yf(){try{const n=aa.onRedirectTo,{routes:i,loginState:o}=yield co((e=>e.auth)),{user:a,tenants:r}=yield ro(fu.auth.refreshTokenV2);if(rf(a)){const e=yield cf(a);yield io(ai.setState(e)),n(i.loginUrl,{preserveQueryParams:!0})}else{var e,t;a.id&&localStorage.setItem("userId",a.id);const l=null!=(e=localStorage.getItem("register-quick-login"))?e:o.quickLoginToRegister,s=l&&"true"!==localStorage.getItem(`${a.id}-${l}`)&&!window.location.pathname.endsWith(i.logoutUrl);yield io(ai.setTenantsState({tenants:r,loading:!1})),yield io(ai.setState({user:a,isAuthenticated:!0,loginState:D({},o,{quickLoginToRegister:l,flow:s?Rt.RegisterQuickLogin:Rt.Login})}));const c=new URL(null==(t=window)?void 0:t.location.href).searchParams.get("invitationToken"),d=[i.socialLoginCallbackUrl,i.oidcRedirectUrl,i.samlCallbackUrl];c||d.push(i.loginUrl,i.signUpUrl),s?n(i.loginUrl):d.some((e=>e&&window.location.pathname.endsWith(e)))&&(o.isNewUser&&i.signUpSuccessUrl&&i.socialLoginCallbackUrl===window.location.pathname?n(i.signUpSuccessUrl,{refresh:i.signUpSuccessUrl.startsWith("http")}):yield nf())}}catch(e){aa.setAccessToken(null),aa.setUser(null),yield io(ai.setState({user:void 0,isAuthenticated:!1}))}}function*ff({payload:{callback:e}}){try{const{ip:t}=yield ro(fu.metadata.getCurrentUserIpMetadata);yield io(ai.setState({userIp:t})),null==e||e(!0)}catch(t){null==e||e(!1)}}function*gf({payload:e}){const t=[];e&&(yield io(ai.setState({isLoading:!0})),yield io(ai.loadSocialLoginsConfigurationV2()),t.push(ro(Yu)),t.push(ro(py)),t.push(ro(af)),t.push(ro(ry)),t.push(ro(of))),t.push(ro(df)),yield oo(t),yield io(ai.setState({isLoading:!1}))}function*pf({accessToken:e,user:t}){if(!e)return void(yield io(ai.setState({user:void 0,isAuthenticated:!1})));const n=aa.onRedirectTo,{routes:i}=yield co((e=>e.auth));if(rf(t)){const e=yield cf(t);yield io(ai.setState(e)),n(i.loginUrl,{preserveQueryParams:!0})}}function*Sf({payload:e}){const t=[];yield io(ai.loadSocialLoginsConfigurationV2()),t.push(ro(Yu)),t.push(ro(af)),t.push(ro(ry)),t.push(ro(of)),t.push(ro(pf,e)),yield oo(t)}function*vf({payload:e}){const{disableSilentRefresh:t}=yield co((e=>({disableSilentRefresh:e.auth.disableSilentRefresh})));try{if(t)throw new Error("silent refresh is disabled");yield function*(){const e=yield ro(fu.auth.silentOAuthRefreshToken);if(!e)throw new Error("couldn't refresh user token with oauth service");yield io(ai.setState({user:e,isAuthenticated:!0})),yield io(ai.loadTenants()),yield io(ai.setState({isLoading:!1}))}()}catch(t){yield function*(e){const{routes:t,context:n,onRedirectTo:i,urlStrategy:o}=yield co((e=>({routes:e.auth.routes,onRedirectTo:e.auth.onRedirectTo,context:e.root.context,urlStrategy:e.root.urlStrategy})));if((e=>{var t;if("path"===e)return(null!=(t=window)?t:document).location.pathname;{var n;let e=((null!=(n=window)?n:document).location.hash||"#").substring(1);return-1!==e.indexOf("?")?e.substring(0,e.indexOf("?")):e}})(o)===t.hostedLoginRedirectUrl)return void console.debug("Calling loginWithRedirect while in hostedLoginCallback route");yield io(ai.setState({isLoading:!0}));const a=hu(),r=hu(),l=yield ro(mu,r);localStorage.setItem(Mt,r);const s=`${window.location.origin}${"path"===o?"":"#"}${t.hostedLoginRedirectUrl}`,c=`${sa(n,"/oauth/authorize")}/oauth/authorize`,d=D({response_type:"code",client_id:n.clientId||"INVALID-CLIENT-ID",scope:"openid email profile",redirect_uri:s,code_challenge:l,code_challenge_method:"S256",nonce:a},e);i(`${c}?${new URLSearchParams(d).toString()}`,{refresh:!0})}(e)}}function*mf({payload:e}){const t=localStorage.getItem(Mt)||"INVALID-CODE-VERIFIER",{routes:n,urlStrategy:i}=yield co((e=>({routes:e.auth.routes,urlStrategy:e.root.urlStrategy}))),o=`${window.location.origin}${"path"===i?"":"#"}${n.hostedLoginRedirectUrl}`,a={code:e.code,redirect_uri:o,code_verifier:t,grant_type:"authorization_code"};try{const e=yield ro(fu.auth.exchangeOAuthTokens,a);yield io(ai.setState({user:e,isAuthenticated:!0})),yield io(ai.loadTenants())}catch(e){console.error("Failed to exchangeOAuthTokens",e)}finally{yield nf()}}function*hf(e){let{payload:{callback:t}}=e,n=mi(e.payload,Ny);try{yield io(ai.setLoginState({loading:!0}));const e=yield ro(fu.auth.changePhoneNumberWithVerification,n);yield io(ai.setLoginState({phoneNumber:n.phoneNumber,loading:!1,changePhoneId:e.changePhoneId,step:Dt.loginWithQuickSmsOtc,error:void 0})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({error:e.message,loading:!1}))}}function*bf(e){let{payload:{callback:t}}=e,n=mi(e.payload,Fy);try{yield io(ai.setLoginState({loading:!0})),yield ro(fu.auth.verifyChangePhoneNumber,n),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({error:e.message,loading:!1}))}}function*Af(e){let{payload:{callback:t}}=e,n=mi(e.payload,xy);try{yield io(ai.setLoginState({loading:!0}));const e=yield ro(fu.auth.passwordlessPreLogin,D({},n,{type:Ar.SmsCode}));yield io(ai.setLoginState({step:Dt.loginWithQuickSmsOtc,loading:!1,phoneNumber:null==e?void 0:e.phoneNumber,error:void 0})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({error:e.message,loading:!1})),null==t||t(e)}}function*kf(e){let{payload:{callback:t}}=e,n=mi(e.payload,Vy);try{const{onRedirectTo:e,routes:i}=yield co((({auth:{onRedirectTo:e,routes:t}})=>({onRedirectTo:e,routes:t})));yield io(ai.setLoginState({loading:!0}));const o=yield ro(fu.auth.passwordlessPreLogin,n),a=tf[n.type];if(a===Dt.loginWithSmsOtc&&o.resetPhoneNumberToken)return yield io(ai.setResetPhoneNumberState({resetPhoneNumberToken:o.resetPhoneNumberToken,step:nn.VerifyResetPhoneNumber})),void e(i.resetPhoneNumberUrl);yield io(ai.setLoginState({step:a,loading:!1,phoneNumber:null==o?void 0:o.phoneNumber,email:n.email,error:void 0})),null==t||t()}catch(e){yield io(ai.setLoginState({error:e.message,loading:!1})),null==t||t()}}function*Tf(e){let{payload:{callback:t,events:n}}=e,i=mi(e.payload,jy);try{yield io(ai.setLoginState({loading:!0}));const e=yield ro(fu.auth.passwordlessPostLogin,i),a=aa.onRedirectTo,{routes:r}=yield co((e=>e.auth));if(rf(e)){const t=yield cf(e);yield io(ai.setState(t)),a(r.loginUrl,{preserveQueryParams:!0})}else{const{loginState:i}=yield co((e=>e.auth)),l=yield ro(fu.auth.generateLoginResponse,e);var o;e.emailVerified&&(null==n||null==(o=n.userVerified)||o.call(n,{email:l.email,origin:Bu.PASSWORDLESS,id:l.id,tenantId:l.tenantId,createdAt:new Date,name:l.name})),l.id&&localStorage.setItem("userId",l.id),yield io(ai.setState({user:l,isAuthenticated:!0})),yield io(ai.setLoginState({error:void 0})),yield io(ai.loadTenants()),i.flow===Rt.Login?yield nf():a(r.loginUrl,{preserveQueryParams:!0}),localStorage.removeItem("register-quick-login"),null==t||t(!0)}}catch(e){var a;yield io(ai.setLoginState({error:null!=(a=e.message)?a:"Failed to authenticate"}))}finally{yield io(ai.setLoginState({loading:!1}))}}function*Pf({payload:e}){try{yield io(ai.setLoginState({loading:!0}));const{name:t}=yield ro(fu.auth.verifyInviteToken,e);yield io(ai.setLoginState({inviteTokenTenantName:t}))}catch(e){var t;console.error(e),yield io(ai.setLoginState({inviteTokenError:null!=(t=e.message)?t:"We couldn't verify your invitation"}))}finally{yield io(ai.setLoginState({loading:!1}))}}function*If({payload:{email:e,recaptchaToken:t,invitationToken:n,callback:i}}){yield io(ai.setLoginState({loading:!0}));try{const o=yield co((({auth:{onRedirectTo:e}})=>e));let{address:a,idpType:r}=yield ro(fu.auth.preLoginV2,{email:e});if(a){if(r===Su.Oidc&&!a.includes("redirect_uri")){const{routes:{oidcRedirectUrl:e}}=yield co((({auth:{routes:e}})=>({routes:e})));a+=`&redirect_uri=${window.location.origin}${e}`}yield io(ai.setLoginState({step:Dt.redirectToSSO,loading:!1,ssoRedirectUrl:a})),setTimeout((()=>{o(a,{refresh:!0})}),2e3)}else yield Lf({email:e,recaptchaToken:t,callback:i,invitationToken:n})}catch(o){yield Lf({email:e,recaptchaToken:t,callback:i,invitationToken:n})}}function*Lf(e){let{callback:t}=e,n=mi(e,Wy);const i=yield co((({auth:{securityPolicyState:{publicPolicy:{policy:e}}}})=>e));if(null==i||!i.authStrategy)return yield io(ai.setLoginState({step:Dt.loginWithPassword,loading:!1})),void(null==t||t());(null==i?void 0:i.authStrategy)===Ar.EmailAndPassword?(yield io(ai.setLoginState({step:Dt.loginWithPassword,loading:!1})),null==t||t()):[Ar.MagicLink,Ar.Code,Ar.SmsCode].includes(null==i?void 0:i.authStrategy)?yield io(ai.passwordlessPreLogin(D({},n,{type:null==i?void 0:i.authStrategy,callback:t}))):(yield io(ai.setLoginState({step:Dt.loginWithPassword,loading:!1})),null==t||t())}function*Ef({payload:{callback:e}}){try{yield io(ai.setLoginState({loading:!0}));const{options:t}=yield ro(fu.auth.webAuthnCreateNewDeviceSession);t.user.id=Ot(t.user.id),t.challenge=Ot(t.challenge),t.excludeCredentials=[],null==e||e(t)}catch(t){yield io(ai.setLoginState({error:t.message})),null==e||e(null)}finally{yield io(ai.setLoginState({loading:!1}))}}function*wf(e){let{payload:{callback:t}}=e,n=mi(e.payload,Ky);try{yield io(ai.setLoginState({loading:!0}));const e=Ct(n.publicKey);yield ro(fu.auth.verifyNewDeviceSession,{id:e.id,response:e.response}),null==t||t(!0)}catch(e){yield io(ai.setLoginState({error:e.message})),null==t||t(null)}finally{yield io(ai.setLoginState({loading:!1}))}}function*Of(e){let{payload:{callback:t}}=e,n=mi(e.payload,Gy);try{var i;yield io(ai.setLoginState({loading:!0}));const{options:e}=yield ro(fu.auth.webAuthnPreLogin,n);e.challenge=Ot(e.challenge),e.allowCredentials=null==(i=e.allowCredentials)?void 0:i.map((e=>D({},e,{id:Ot(e.id)}))),yield io(ai.setLoginState({error:void 0})),null==t||t(e)}catch(e){yield io(ai.setLoginState({error:e.message})),null==t||t(null)}finally{yield io(ai.setLoginState({loading:!1}))}}function*Cf(e){let{payload:{callback:t}}=e,n=mi(e.payload,qy);try{var i;yield io(ai.setLoginState({loading:!0}));const e=Ct(n.publicKey),o=yield ro(fu.auth.webAuthnPostLogin,D({},e,{response:D({},e.response,{userHandle:null!=(i=e.response.userHandle)?i:void 0}),recaptchaToken:n.recaptchaToken,invitationToken:n.invitationToken}));if(rf(o)){const e=aa.onRedirectTo,{routes:t}=yield co((e=>e.auth)),n=yield cf(o);yield io(ai.setState(n)),e(t.loginUrl,{preserveQueryParams:!0})}else{const e=yield ro(fu.auth.generateLoginResponse,o);e.id&&localStorage.setItem("userId",e.id),yield io(ai.loadTenants()),yield io(ai.setState({user:e,isAuthenticated:!0})),yield io(ai.setLoginState({error:void 0})),yield nf(),null==t||t(!0)}}catch(e){yield io(ai.setLoginState({error:e.message})),null==t||t(null)}finally{yield io(ai.setLoginState({loading:!1}))}}function*Df({payload:e}){const{onRedirectTo:t,routes:n}=yield co((({auth:{onRedirectTo:e,routes:t}})=>({onRedirectTo:e,routes:t})));yield io(ai.setLoginState({loading:!0}));try{const t=yield ro(fu.auth.postLogin,e);aa.setAccessToken(t.accessToken),aa.setUser(t),yield io(ai.setState({user:t.accessToken?t:void 0,isAuthenticated:!!t.accessToken})),yield nf()}catch(e){setTimeout((()=>{t(n.authenticatedUrl)}),1e3),yield io(ai.setLoginState({step:Dt.loginWithSSOFailed,loading:!1}))}}function*Rf({payload:{email:e,password:t,recaptchaToken:n,invitationToken:i,callback:o}}){yield io(ai.setLoginState({loading:!0}));try{const a=yield ro(fu.auth.login,{email:e,password:t,recaptchaToken:n,invitationToken:i});aa.setAccessToken(a.accessToken),aa.setUser(a);const r=aa.onRedirectTo,{routes:l}=yield co((e=>e.auth));if(rf(a)){const e=yield cf(a);yield io(ai.setState(e)),r(l.loginUrl,{preserveQueryParams:!0})}else{const{loginState:t}=yield co((e=>e.auth)),n=!!a.accessToken;a.id&&localStorage.setItem("userId",a.id),yield io(ai.setState({user:a,isAuthenticated:n,loginState:{flow:t.flow,quickLoginToRegister:t.quickLoginToRegister,email:e,loading:!1,error:void 0,mfaToken:a.mfaToken,step:t.flow===Rt.Login?Dt.success:t.step,tenants:[],tenantsLoading:!0}})),yield io(ai.loadTenants()),n&&t.flow===Rt.Login&&(yield nf())}localStorage.removeItem("register-quick-login"),null==o||o(!0)}catch(t){aa.setAccessToken(null),aa.setUser(null),yield io(ai.setLoginState({email:e,error:t.message,loading:!1}))}}function*_f({payload:{mfaToken:e,value:t,rememberDevice:n,callback:i}}){yield io(ai.setLoginState({loading:!0}));try{const o=yield ro(fu.auth.loginWithMfa,{mfaToken:e,value:t,rememberDevice:n}),{loginState:a}=yield co((e=>e.auth)),r=a.flow===Rt.Login?Dt.success:a.step;yield io(ai.setState({loginState:{flow:a.flow,quickLoginToRegister:a.quickLoginToRegister,loading:!1,step:r,error:void 0,tenantsLoading:!0,tenants:[]},user:o,isAuthenticated:!0})),o.id&&localStorage.setItem("userId",o.id),yield io(ai.loadTenants()),yield io(ai.setLoginState({error:void 0,loading:!1})),a.flow===Rt.Login&&(yield nf()),null==i||i(!0)}catch(e){yield io(ai.setLoginState({error:e.message,loading:!1})),null==i||i(!1,e)}}function*Uf({payload:e}){yield io(ai.setLoginState({loading:!0}));try{yield ro(fu.auth.recoverMfaToken,e),yield io(ai.setLoginState({loading:!1,error:void 0,step:Dt.preLogin})),yield io(ai.setState({user:void 0,isAuthenticated:!1}))}catch(e){yield io(ai.setLoginState({error:e.message,loading:!1}))}}function*Mf({payload:e}){yield io(ai.setState({isLoading:!0}));try{yield ro(fu.auth.logout)}catch{}yield io(ai.resetState()),yield io(ai.requestAuthorize(!0)),null==e||e()}function*$f({payload:e}){var t;try{yield ro(fu.auth.logout)}catch{}setTimeout((()=>{var t;return null==e||null==(t=e.callback)?void 0:t.call(e,!0)}),null!=(t=null==e?void 0:e.callbackTimeout)?t:500)}function*Nf({user:e,tenants:t}){const n={step:fn.recoveryCode,loading:!1,error:void 0,saving:!1};null!=e&&e.recoveryCode&&(n.recoveryCode=e.recoveryCode),yield io(ai.setMfaState(n)),yield io(ai.setUser(e)),yield io(ai.setTenantsState({tenants:t,loading:!1})),e.id&&localStorage.setItem("userId",e.id)}function*Ff({user:e,tenants:t}){const{loginState:n}=yield co((e=>e.auth));yield io(ai.setUser(e)),yield io(ai.setTenantsState({tenants:t,loading:!1})),e.id&&localStorage.setItem("userId",e.id),n.flow===Rt.Login&&(yield nf()),yield io(ai.setState({isAuthenticated:!0}))}function*xf(e){let{payload:{callback:t}}=e,n=mi(e.payload,By);yield io(ai.setLoginState({loading:!0}));try{const e=yield ro(fu.auth.preEnrollMFASMSForLogin,n);yield io(ai.setMfaState({otcToken:e.otcToken,step:fn.smsVerifyCode,phoneNumber:e.phoneNumber})),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*Vf(e){let{payload:{callback:t}}=e,n=mi(e.payload,zy);yield io(ai.setLoginState({loading:!0}));try{const e=yield ro(fu.auth.enrollMFASMSForLogin,n),i=yield ro(fu.auth.generateLoginResponseV2,e);yield Nf(i),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*jf(e){let{payload:{callback:t}}=e,n=mi(e.payload,Hy);yield io(ai.setLoginState({loading:!0}));try{var i;const e=yield ro(fu.auth.preEnrollMFAWebAuthnForLogin,n),o=D({},e.options,{challenge:Ot(e.options.challenge),user:D({},e.options.user,{id:Ot(e.options.user.id)}),excludeCredentials:null==(i=e.options.excludeCredentials)?void 0:i.map((e=>D({},e,{id:Ot(e.id)})))});yield io(ai.setLoginState({loading:!1})),null==t||t({options:o,webauthnToken:e.webauthnToken})}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*Wf(e){let{payload:{callback:t}}=e,n=mi(e.payload,Jy);yield io(ai.setLoginState({loading:!0}));try{const e=Ct(n.publicKey),i=yield ro(fu.auth.enrollMFAWebAuthnForLogin,D({},n,{options:e})),o=yield ro(fu.auth.generateLoginResponseV2,i);yield Nf(o),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*Kf(e){let{payload:{callback:t}}=e,n=mi(e.payload,Yy);yield io(ai.setLoginState({loading:!0}));try{const e=yield ro(fu.auth.enrollMFAAuthenticatorAppForLogin,n),i=yield ro(fu.auth.generateLoginResponseV2,e);yield Nf(i),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*Gf(e){let{payload:{callback:t,deviceId:n}}=e,i=mi(e.payload,Qy);yield io(ai.setLoginState({loading:!0}));try{const e=yield ro(fu.auth.preVerifyMFASMSForLogin,n,i);yield io(ai.setMfaState({otcToken:e.otcToken,step:fn.smsVerifyCode,phoneNumber:e.phoneNumber})),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*qf(e){let{payload:{callback:t,deviceId:n}}=e,i=mi(e.payload,Xy);yield io(ai.setLoginState({loading:!0}));try{const e=yield ro(fu.auth.verifyMFASMSForLogin,n,i),o=yield ro(fu.auth.generateLoginResponseV2,e);yield Ff(o),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*Bf(e){let{payload:{callback:t,deviceId:n}}=e,i=mi(e.payload,Zy);yield io(ai.setLoginState({loading:!0}));try{var o;const e=yield ro(fu.auth.preVerifyMFAWebAuthnForLogin,n,i),a=D({},e.options,{challenge:Ot(e.options.challenge),allowCredentials:null==(o=e.options.allowCredentials)?void 0:o.map((e=>D({},e,{id:Ot(e.id)})))});yield io(ai.setLoginState({loading:!1})),null==t||t({options:a,webauthnToken:e.webauthnToken})}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*zf(e){let{payload:{callback:t,deviceId:n}}=e,i=mi(e.payload,ef);yield io(ai.setLoginState({loading:!0}));try{const e=Ct(i.publicKey),o=yield ro(fu.auth.verifyMFAWebAuthnForLogin,n,D({},i,{options:e})),a=yield ro(fu.auth.generateLoginResponseV2,o);yield Ff(a),yield io(ai.setLoginState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setLoginState({loading:!1,error:e.message})),null==t||t(null)}}function*Hf(){yield oa(ai.requestAuthorize,gf),yield oa(ai.requestAuthorizeSSR,Sf),yield oa(ai.requestHostedLoginAuthorize,vf),yield oa(ai.handleHostedLoginCallback,mf),yield oa(ai.preLogin,If),yield oa(ai.postLogin,Df),yield oa(ai.login,Rf),yield oa(ai.logout,Mf),yield oa(ai.silentLogout,$f),yield oa(ai.loginWithMfa,_f),yield oa(ai.recoverMfa,Uf),yield oa(ai.quickSmsPasswordlessPreLogin,Af),yield oa(ai.changePhoneNumberWithVerification,hf),yield oa(ai.verifyChangePhoneNumber,bf),yield oa(ai.passwordlessPreLogin,kf),yield oa(ai.passwordlessPostLogin,Tf),yield oa(ai.verifyInviteToken,Pf),yield oa(ai.webAuthnPrelogin,Of),yield oa(ai.webAuthnPostLogin,Cf),yield oa(ai.webAuthnCreateNewDeviceSession,Ef),yield oa(ai.webAuthnVerifyNewDeviceSession,wf),yield oa(ai.afterAuthNavigation,nf),yield oa(ai.getUserIP,ff),yield oa(ai.preEnrollMFASMSForLogin,xf),yield oa(ai.enrollMFASMSForLogin,Vf),yield oa(ai.preEnrollMFAWebAuthnForLogin,jf),yield oa(ai.enrollMFAWebAuthnForLogin,Wf),yield oa(ai.enrollMFAAuthenticatorAppForLogin,Kf),yield oa(ai.preVerifyMFASMSForLogin,Gf),yield oa(ai.verifyMFASMSForLogin,qf),yield oa(ai.preVerifyMFAWebAuthnForLogin,Bf),yield oa(ai.verifyMFAWebAuthnForLogin,zf)}function*Jf({payload:e}){e&&(yield io(ai.setState({isLoading:!0})));const t=Pu;yield io(ai.loadTenants()),yield io(ai.setState({user:t,isAuthenticated:!0,isLoading:!1}))}function*Yf({payload:{callback:e}}){try{const{ip:t}=qu[0];yield io(ai.setState({userIp:t})),null==e||e(!0,t)}catch(t){null==e||e(!1,t)}}function*Qf(){yield oa(ai.requestAuthorize,Jf),yield oa(ai.afterAuthNavigation,nf),yield oa(ai.getUserIP,Yf)}const Xf=["callback","samlVendor"],Zf=["callback","samlVendor"];function*eg(){try{var e,t;yield io(ai.setSSOState({loading:!0}));const n=yield ro(fu.auth.getSamlConfiguration),i=yield ro(fu.auth.getOidcConfiguration),o=yield ro(fu.metadata.getSamlMetadata);n.acsUrl=null==o||null==(e=o.configuration)?void 0:e.acsUrl,n.spEntityId=null==o||null==(t=o.configuration)?void 0:t.spEntityId,n.isSamlActive=null==o?void 0:o.isActive,yield io(ai.setSSOState({samlConfiguration:n,oidcConfiguration:i,loading:!1,firstLoad:!1}))}catch(e){yield io(ai.setSSOState({error:e.message,loading:!1}))}}function*tg({payload:e}){const t=yield co((e=>e.auth.ssoState.samlConfiguration)),n="saving";yield io(ai.setSSOState({error:void 0,[n]:!0}));try{const i=yield bu(e[0]),o=yield ro(fu.auth.updateSamlVendorMetadata,{metadata:i});o.isSamlActive=null==t?void 0:t.isSamlActive,yield io(ai.setSSOState({samlConfiguration:o,error:void 0,[n]:!1}))}catch(e){yield io(ai.setSSOState({samlConfiguration:t,error:e.message,[n]:!1}))}}function*ng({payload:e}){const{configFile:t,callback:n}=e,i=yield co((e=>e.auth.ssoState.samlConfiguration)),o="saving";yield io(ai.setSSOState({error:void 0,[o]:!0}));try{const e=yield bu(t),a=yield ro(fu.auth.updateSamlVendorMetadata,{metadata:e});a.isSamlActive=null==i?void 0:i.isSamlActive,yield io(ai.setSSOState({samlConfiguration:a,error:void 0,[o]:!1})),null==n||n(!0)}catch(e){yield io(ai.setSSOState({samlConfiguration:i,error:e.message,[o]:!1})),null==n||n(null,e)}}function*ig({payload:e}){const{callback:t,samlVendor:n}=e,i=mi(e,Xf),o=yield co((e=>e.auth.ssoState.samlConfiguration)),a=D({},o,i);let r="saving";(null==a?void 0:a.enabled)!==o.enabled&&(r="loading");try{if(null==a||!a.domain)return void(yield io(ai.setSSOState({samlConfiguration:D({},o,a)})));if(yield io(ai.setSSOState({error:void 0,[r]:!0})),e.type===Su.Saml){var l,s;const e=yield ro(fu.metadata.getSamlMetadata);a.acsUrl=null==e||null==(l=e.configuration)?void 0:l.acsUrl,a.spEntityId=null==e||null==(s=e.configuration)?void 0:s.spEntityId}const i=vu(a,["validated","generatedVerification","createdAt","updatedAt"]);(null==o?void 0:o.domain)!==(null==i?void 0:i.domain)&&(i.ssoEndpoint="",i.publicCertificate="",i.signRequest=!1),i.type=null==n?void 0:n.toLowerCase();const c=yield ro(fu.auth.updateSamlConfiguration,i);c.isSamlActive=null==o?void 0:o.isSamlActive,yield io(ai.setSSOState({samlConfiguration:c,error:void 0,[r]:!1})),null==t||t(!0)}catch(e){yield io(ai.setSSOState({samlConfiguration:o,error:e.message,[r]:!1})),null==t||t(null,e)}}function*og({payload:{callback:e}={}}){const t=yield co((e=>e.auth.ssoState.samlConfiguration));try{yield io(ai.setSSOState({error:void 0,saving:!0})),yield ro(fu.auth.validateSamlDomain),yield io(ai.setSSOState({samlConfiguration:D({},t,{validated:!0}),error:void 0,saving:!1})),null==e||e(!0)}catch(n){yield io(ai.setSSOState({samlConfiguration:D({},t,{validated:!1}),error:n.message,saving:!1})),null==e||e(null,n)}}function*ag(){try{const e=yield ro(fu.auth.getSamlRoles),t=yield ro(fu.auth.getSamlRolesGroups);yield io(ai.setSSOState({authorizationRoles:e.roleIds,rolesGroups:t,error:void 0}))}catch(e){yield io(ai.setSSOState({error:e.message}))}}function*rg({payload:{callback:e,authorizationRoles:t,groups:n}}){try{yield io(ai.setSSOState({error:void 0,saving:!0})),yield ro(fu.auth.updateSamlRoles,{roleIds:t}),n&&(yield function*(e){try{yield oo(e.map((e=>ro(fu.auth.updateSamlGroup,{id:e.id,roleIds:e.roleIds,group:e.group}))))}catch(e){yield io(ai.setSSOState({error:e.message}))}}(n)),yield ag(),yield io(ai.setSSOState({error:void 0,saving:!1})),null==e||e(!0)}catch(t){yield io(ai.setSSOState({error:t.message,saving:!1})),null==e||e(null,t)}}function*lg({payload:{callback:e,id:t}}){try{yield io(ai.setSSOState({error:void 0,saving:!0})),yield ro(fu.auth.deleteSamlGroup,{id:t}),yield ag(),yield io(ai.setSSOState({error:void 0,saving:!1})),null==e||e(!0)}catch(t){yield io(ai.setSSOState({error:t.message,saving:!1})),null==e||e(null,t)}}function*sg({payload:{group:e,roleIds:t,callback:n}}){try{yield io(ai.setSSOState({error:void 0,saving:!0})),yield ro(fu.auth.createSamlGroup,{group:e,roleIds:t}),yield ag(),yield io(ai.setSSOState({error:void 0,saving:!1})),null==n||n(!0)}catch(e){yield io(ai.setSSOState({error:e.message,saving:!1})),null==n||n(null,e)}}function*cg({payload:e}){const t={code:e.code,redirectUri:e.redirectUri,RelayState:e.state};try{yield io(ai.setSSOState({loading:!0})),yield ro(fu.auth.oidcPostLoginV2,t),yield ro(df),yield io(ai.setSSOState({loading:!1}))}catch(e){var n;yield io(ai.setSSOState({loading:!1,error:null!=(n=e.message)?n:"Failed to authenticate",firstLoad:!1}))}}function*dg(){yield na(ai.loadSSOConfigurations,eg),yield na(ai.saveSSOConfigurations,ig),yield na(ai.saveSSOConfigurationsFile,tg),yield na(ai.saveSSOConfigurationsFileWithCallback,ng),yield na(ai.validateSSODomain,og),yield na(ai.loadSSOAuthorizationRoles,ag),yield na(ai.updateSSOAuthorizationRoles,rg),yield na(ai.deleteSamlGroup,lg),yield na(ai.createSamlGroup,sg),yield na(ai.oidcPostlogin,cg)}function*ug(){yield io(ai.setSSOState({loading:!0})),yield Lt(),yield io(ai.setSSOState({samlConfiguration:Du,loading:!1,firstLoad:!1}))}function*yg({payload:e}){const t="saving";yield io(ai.setSSOState({error:void 0,[t]:!0}));const n=D({},yield co((e=>e.auth.ssoState.samlConfiguration)),{enabled:!0},e[0]);yield io(ai.setSSOState({samlConfiguration:n,error:void 0,[t]:!1}))}function*fg({payload:e}){var t,n;const{callback:i,samlVendor:o}=e,a=mi(e,Zf),r=Uu.samlConfiguration,l=D({},r,a);let s="saving";if((null==l?void 0:l.enabled)!==r.enabled&&(s="loading"),null==l||!l.domain)return void(yield io(ai.setSSOState({samlConfiguration:D({},r,l)})));yield io(ai.setSSOState({error:void 0,[s]:!0})),yield Lt(),l.acsUrl=null==Ru||null==(t=Ru.configuration)?void 0:t.acsUrl,l.spEntityId=null==Ru||null==(n=Ru.configuration)?void 0:n.spEntityId;const c=vu(l,["validated","generatedVerification","createdAt","updatedAt"]);(null==r?void 0:r.domain)!==(null==c?void 0:c.domain)&&(c.ssoEndpoint="",c.publicCertificate="",c.signRequest=!1),c.type=null==o?void 0:o.toLowerCase(),yield Lt(),yield io(ai.setSSOState({samlConfiguration:c,error:void 0,[s]:!1})),null==i||i(!0)}function*gg({payload:{callback:e}={}}){const t=Uu.samlConfiguration;yield io(ai.setSSOState({error:void 0,saving:!0})),yield Lt(),yield io(ai.setSSOState({samlConfiguration:D({},t,{validated:!0}),error:void 0,saving:!1})),null==e||e(!0)}function*pg(){yield Lt(),yield io(ai.setSSOState({authorizationRoles:["1","2","3"],error:void 0}))}function*Sg({payload:{callback:e,authorizationRoles:t}}){yield io(ai.setSSOState({error:void 0,saving:!0})),yield Lt(),yield io(ai.setSSOState({authorizationRoles:t,error:void 0,saving:!1})),null==e||e(!0)}function*vg(){yield na(ai.loadSSOConfigurations,ug),yield na(ai.saveSSOConfigurations,fg),yield na(ai.saveSSOConfigurationsFile,yg),yield na(ai.validateSSODomain,gg),yield na(ai.loadSSOAuthorizationRoles,pg),yield na(ai.updateSSOAuthorizationRoles,Sg)}const mg=["callback"],hg=["callback","ssoConfigId"],bg=["callback","ssoConfigId"];function*Ag(){try{return yield ro(fu.auth.getOidcConfiguration)}catch(e){return null}}function*kg(){try{return yield ro(fu.metadata.getSamlMetadata)}catch(e){return null}}function*Tg(){try{yield io(ai.setSSOLoader({key:pu.LOAD_SSO_CONFIGURATIONS,value:!0}));const[e,t]=yield oo([ro(Ag),ro(kg)]),n=yield ro(fu.auth.getSSOConfigurations);yield io(ai.setSSOState({ssoConfigurations:n,oidcConfiguration:e,samlMetadata:t}))}catch(e){yield io(ai.setSSOError({key:pu.LOAD_SSO_CONFIGURATIONS,value:e.message}))}finally{yield io(ai.setSSOLoader({key:pu.LOAD_SSO_CONFIGURATIONS,value:!1}))}}function*Pg({payload:e}){yield io(ai.setSSOLoader({key:pu.SAVE_SSO_CONFIGURATION,value:!0}));const{callback:t}=e,n=mi(e,mg),i=yield co((e=>e.auth.ssoState.ssoConfigurations));try{var o;const e=yield ro(fu.auth.createSSOConfiguration,D({},n,{enabled:null!=(o=n.enabled)&&o}));yield io(ai.setSSOState({ssoConfigurations:[...i,e]})),null==t||t(e)}catch(e){yield io(ai.setSSOError({key:pu.SAVE_SSO_CONFIGURATION,value:e.message})),null==t||t(null,e)}finally{yield io(ai.setSSOLoader({key:pu.SAVE_SSO_CONFIGURATION,value:!1}))}}function*Ig({payload:e}){yield io(ai.setSSOLoader({key:pu.SAVE_SSO_CONFIGURATION_BY_METADATA,value:!0}));const{configFile:t,callback:n}=e,i=yield co((e=>e.auth.ssoState.ssoConfigurations));try{const e=yield bu(t),o=yield ro(fu.auth.createSSOConfigurationByMetadata,{metadata:e});yield io(ai.setSSOState({ssoConfigurations:[...i,o]})),null==n||n(o)}catch(e){yield io(ai.setSSOError({key:pu.SAVE_SSO_CONFIGURATION_BY_METADATA,value:e.message})),null==n||n(null,e)}finally{yield io(ai.setSSOLoader({key:pu.SAVE_SSO_CONFIGURATION_BY_METADATA,value:!1}))}}function*Lg({payload:e}){yield io(ai.setSSOLoader({key:pu.UPDATE_SSO_CONFIGURATION,value:!0}));const{callback:t,ssoConfigId:n}=e,i=mi(e,hg),o=yield co((e=>e.auth.ssoState.ssoConfigurations));try{const e=yield ro(fu.auth.updateSSOConfiguration,n,i),a=o.map((t=>t.id===n?e:t));yield io(ai.setSSOState({ssoConfigurations:a})),null==t||t(e)}catch(e){yield io(ai.setSSOError({key:pu.UPDATE_SSO_CONFIGURATION,value:e.message})),null==t||t(null,e)}finally{yield io(ai.setSSOLoader({key:pu.UPDATE_SSO_CONFIGURATION,value:!1}))}}function*Eg({payload:e}){yield io(ai.setSSOLoader({key:pu.UPDATE_SSO_CONFIGURATION_BY_METADATA,value:!0}));const{callback:t,ssoConfigId:n,configFile:i}=e,o=yield co((e=>e.auth.ssoState.ssoConfigurations));try{const e=yield bu(i),a=yield ro(fu.auth.updateSSOConfigurationByMetadata,n,{metadata:e}),r=o.map((e=>e.id===n?a:e));yield io(ai.setSSOState({ssoConfigurations:r})),null==t||t(a)}catch(e){yield io(ai.setSSOError({key:pu.UPDATE_SSO_CONFIGURATION,value:e.message})),null==t||t(null,e)}finally{yield io(ai.setSSOLoader({key:pu.UPDATE_SSO_CONFIGURATION,value:!1}))}}function*wg({payload:e}){yield io(ai.setSSOLoader({key:pu.DELETE_SSO_CONFIGURATION,value:!0}));const{ssoConfigId:t,callback:n}=e,i=yield co((e=>e.auth.ssoState.ssoConfigurations));try{yield ro(fu.auth.deleteSSOConfiguration,t),yield io(ai.setSSOState({ssoConfigurations:i.filter((({id:e})=>e!==t))})),null==n||n(!0)}catch(e){yield io(ai.setSSOError({key:pu.DELETE_SSO_CONFIGURATION,value:e.message})),null==n||n(null,e)}finally{yield io(ai.setSSOLoader({key:pu.DELETE_SSO_CONFIGURATION,value:!1}))}}function*Og({payload:e}){const{callback:t,ssoConfigId:n}=e,i=mi(e,bg);yield io(ai.setSSOLoader({key:pu.SAVE_SSO_DOMAIN,value:!0}));const o=yield co((e=>e.auth.ssoState.ssoConfigurations));try{const e=yield ro(fu.auth.createSSODomain,n,i),a=o.map((t=>t.id===n?D({},t,{domains:[...t.domains,e]}):t));yield io(ai.setSSOState({ssoConfigurations:a})),null==t||t(e)}catch(e){yield io(ai.setSSOError({key:pu.SAVE_SSO_DOMAIN,value:e.message})),null==t||t(null,e)}finally{yield io(ai.setSSOLoader({key:pu.SAVE_SSO_DOMAIN,value:!1}))}}function*Cg({payload:e}){const{ssoConfigId:t,domainId:n,callback:i}=e;yield io(ai.setSSOLoader({key:pu.DELETE_SSO_DOMAIN,value:!0}));const o=yield co((e=>e.auth.ssoState.ssoConfigurations));try{yield ro(fu.auth.deleteSSODomain,t,n);const e=o.map((e=>e.id===t?D({},e,{domains:e.domains.filter((({id:e})=>e!==n))}):e));yield io(ai.setSSOState({ssoConfigurations:e})),null==i||i(!0)}catch(e){yield io(ai.setSSOError({key:pu.DELETE_SSO_DOMAIN,value:e.message})),null==i||i(null,e)}finally{yield io(ai.setSSOLoader({key:pu.DELETE_SSO_DOMAIN,value:!1}))}}function*Dg({payload:e}){const{callback:t,domainId:n,ssoConfigId:i}=e;yield io(ai.setSSOLoader({key:pu.VALIDATE_SSO_DOMAIN,value:!0}));const o=yield co((e=>e.auth.ssoState.ssoConfigurations));try{yield ro(fu.auth.validateSSODomain,i,n);const e=o.map((e=>e.id===i?D({},e,{domains:e.domains.map((e=>e.id===n?D({},e,{validated:!0}):e))}):e));yield io(ai.setSSOState({ssoConfigurations:e})),null==t||t(!0)}catch(e){yield io(ai.setSSOError({key:pu.VALIDATE_SSO_DOMAIN,value:e.message})),null==t||t(null,e)}finally{yield io(ai.setSSOLoader({key:pu.VALIDATE_SSO_DOMAIN,value:!1}))}}function*Rg({payload:{callback:e,ssoConfigId:t,roleIds:n}}){yield io(ai.setSSOLoader({key:pu.UPDATE_SSO_DEFAULT_ROLES,value:!0}));const i=yield co((e=>e.auth.ssoState.ssoConfigurations));try{yield ro(fu.auth.setSSODefaultRoles,t,{roleIds:n});const o=i.map((e=>e.id===t?D({},e,{roleIds:n}):e));yield io(ai.setSSOState({ssoConfigurations:o})),null==e||e(!0)}catch(t){yield io(ai.setSSOError({key:pu.UPDATE_SSO_DEFAULT_ROLES,value:t.message})),null==e||e(null,t)}finally{yield io(ai.setSSOLoader({key:pu.UPDATE_SSO_DEFAULT_ROLES,value:!1}))}}function*_g({payload:{groupsToAdd:e,groupsToDelete:t,ssoConfigId:n,callback:i}}){yield io(ai.setSSOLoader({key:pu.SAVE_SSO_GROUPS,value:!0}));const o=yield co((e=>e.auth.ssoState.ssoConfigurations));try{yield oo(t.map((e=>ro(fu.auth.deleteSSOGroup,n,e)))),yield oo(e.map((e=>ro(fu.auth.createSSOGroup,n,e))));const a=yield ro(fu.auth.getSSOGroups,n),r=o.map((e=>e.id===n?D({},e,{groups:a}):e));yield io(ai.setSSOState({ssoConfigurations:r})),null==i||i(!0)}catch(e){yield io(ai.setSSOError({key:pu.SAVE_SSO_GROUPS,value:e.message})),null==i||i(null,e)}finally{yield io(ai.setSSOLoader({key:pu.SAVE_SSO_GROUPS,value:!1}))}}function*Ug({payload:{ssoConfigId:e,changedGroups:t,callback:n}}){try{yield oo(t.map((t=>ro(fu.auth.updateSSOGroup,e,t)))),null==n||n(!0)}catch(e){yield io(ai.setSSOError({key:pu.SAVE_SSO_GROUPS,value:e.message})),null==n||n(null,e)}finally{yield io(ai.setSSOLoader({key:pu.SAVE_SSO_GROUPS,value:!1}))}}function*Mg(){yield na(ai.loadSSOConfigurationsV2,Tg),yield na(ai.saveSSOConfigurationV2,Pg),yield na(ai.saveSSODomain,Og),yield na(ai.deleteSSODomain,Cg),yield na(ai.validateSSODomainV2,Dg),yield na(ai.updateSSOConfiguration,Lg),yield na(ai.deleteSSOConfiguration,wg),yield na(ai.setSSOGroups,_g),yield na(ai.updateSSOGroups,Ug),yield na(ai.setSSODefaultRoles,Rg),yield na(ai.saveSSOConfigurationByMetadata,Ig),yield na(ai.updateSSOConfigurationByMetadata,Eg)}const $g=["callback","profilePictureUrl"],Ng=["callback","profilePictureUrl"];function*Fg(){yield io(ai.setProfileState({loading:!0}));try{const e=yield function(e,t,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return ro.apply(void 0,[ta,e,t,n].concat(o))}(3,2e3,fu.teams.getProfile),t=yield co((e=>e.auth.user));ai.setUser(D({},t,e)),yield io(ai.setProfileState({profile:e,loading:!1}))}catch(e){yield io(ai.setProfileState({loading:!1,error:e.message}))}}function*xg(e){let{payload:{callback:t,profilePictureUrl:n}}=e,i=mi(e.payload,$g);yield io(ai.setProfileState({saving:!0,error:null}));try{const e=yield co((e=>e.auth.profileState.profile));let o=e.profilePictureUrl;if(n!==e.profilePictureUrl&&n&&(n||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)){const e=function(e,t="file"){const n=e.match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/);if(null==n)return null;const i=`image/${n[1]}`,o=function(e,t){const n=atob(e),i=[];for(let e=0;e<n.length;e+=512){const t=n.slice(e,e+512),o=new Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);i.push(new Uint8Array(o))}return new Blob(i,{type:t})}(n[2],i),a=new FormData;return a.append(t,new File([o],t,{type:i})),a}(n,"image");if(e){o=yield ro(fu.teams.updateProfileImage,e);const t=Date.now().toString(),n=new URL(o);n.searchParams.set("t",t),o=n.href}}const a=D({},e,i,{profilePictureUrl:o}),r=yield ro(fu.teams.updateProfile,a),l=yield co((e=>e.auth.user));yield io(ai.setUser(D({},l,r))),yield io(ai.setProfileState({profile:r,saving:!1})),null==t||t(a)}catch(e){yield io(ai.setProfileState({saving:!1,error:e.message})),null==t||t(null,e)}}function*Vg({payload:e}){yield io(ai.setProfileState({loading:!0}));try{var t;yield ro(fu.teams.changePassword,e),yield io(ai.setProfileState({loading:!1,error:void 0})),null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setProfileState({loading:!1,error:t.message})),null==(n=e.callback)||n.call(e,null,t)}}function*jg(){yield oa(ai.loadProfile,Fg),yield na(ai.saveProfile,xg),yield na(ai.changePassword,Vg)}function*Wg(){yield io(ai.setProfileState({loading:!0})),yield Lt(),yield io(ai.setUser(D({},Pu,Tu))),yield io(ai.setProfileState({loading:!1,profile:Tu}))}function*Kg(e){let{payload:{callback:t,profilePictureUrl:n}}=e,i=mi(e.payload,Ng);yield io(ai.setProfileState({saving:!0,error:null}));const o=Iu;let a=o.profile.profilePictureUrl;n!==o.profile.profilePictureUrl&&n&&(n||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)&&(a=n);const r=D({},o.profile,i,{profilePictureUrl:a}),l=Pu;yield Lt(),yield io(ai.setUser(D({},l,r))),yield io(ai.setProfileState({loading:!1,error:null,saving:!1,profile:r})),null==t||t(r)}function*Gg({payload:e}){var t;yield io(ai.setProfileState({loading:!0})),yield Lt(),yield io(ai.setProfileState({loading:!1,error:void 0})),null==(t=e.callback)||t.call(e,!0)}function*qg(){yield oa(ai.loadProfile,Wg),yield na(ai.saveProfile,Kg),yield na(ai.changePassword,Gg)}const Bg=["callback"],zg=["callback"],Hg=["callback"],Jg=["deviceId","callback"],Yg=["deviceId","callback"],Qg=["callback"],Xg=["deviceId"],Zg=["deviceId"],ep=["callback"],tp=["deviceId"],np=["callback"];function*ip(e){const{step:t}=yield co((e=>e.auth.mfaState));return{step:e.recoveryCode?fn.recoveryCode:t,loading:!1,saving:!1,error:void 0,recoveryCode:null==e?void 0:e.recoveryCode}}function*op(){yield io(ai.setMfaState({saving:!0}));try{const{qrCode:e}=yield ro(fu.auth.enrollMfa);yield io(ai.setMfaState({saving:!1,error:void 0,qrCode:e}))}catch(e){yield io(ai.setMfaState({saving:!1,error:e.message}))}}function*ap(e){let{payload:{callback:t}}=e,n=mi(e.payload,Bg);yield io(ai.setMfaState({saving:!0}));try{const e=yield co((e=>e.auth.user)),i=yield ro(fu.auth.verifyMfa,n),o=yield ro(fu.auth.getMFADevices),a=yield ip(i);yield io(ai.setMfaState(D({},a,{mfaDevices:o}))),yield io(ai.setUser(D({},e,{mfaEnrolled:!0}))),null==t||t(a.recoveryCode)}catch(e){yield io(ai.setMfaState({saving:!1,error:e.message})),null==t||t(null,e)}}function*rp(e){let{payload:{callback:t}}=e,n=mi(e.payload,zg);yield io(ai.setMfaState({loading:!0}));try{const e=yield ro(fu.auth.loginWithMfa,n),i={step:fn.recoveryCode,loading:!1,saving:!1,error:void 0};null!=e&&e.recoveryCode&&(i.recoveryCode=e.recoveryCode),yield io(ai.setMfaState(i)),yield io(ai.setState({user:e})),yield io(ai.loadTenants()),null==t||t(i.recoveryCode)}catch(e){yield io(ai.setMfaState({loading:!1,error:e.message})),null==t||t(null,e)}}function*lp({payload:e}){yield io(ai.setMfaState({saving:!0}));try{var t;yield ro(fu.auth.disableMfa,e);const n=yield ro(fu.auth.getMFADevices);yield io(ai.setMfaState({saving:!1,error:void 0,mfaDevices:n})),null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setMfaState({saving:!1,error:t.message})),null==(n=e.callback)||n.call(e,!1,t)}}function*sp({payload:e}){yield io(ai.setMfaState({saving:!0}));try{var t,n;const i=yield ro(fu.auth.preEnrollMFAWebAuthn),o=D({},i.options,{challenge:Ot(i.options.challenge),user:D({},i.options.user,{id:Ot(i.options.user.id)}),excludeCredentials:null==(t=i.options.excludeCredentials)?void 0:t.map((e=>D({},e,{id:Ot(e.id)})))});yield io(ai.setMfaState({saving:!1})),null==(n=e.callback)||n.call(e,{options:o,webauthnToken:i.webauthnToken})}catch(t){var i;yield io(ai.setMfaState({saving:!1,error:t.message})),null==(i=e.callback)||i.call(e,null,t)}}function*cp(e){let{payload:{callback:t}}=e,n=mi(e.payload,Hg);yield io(ai.setMfaState({saving:!0}));try{const e=Ct(n.publicKey),i=yield ro(fu.auth.enrollMFAWebAuthn,D({},n,{options:e})),o=yield ro(fu.auth.getMFADevices),a=yield ip(i);yield io(ai.setMfaState(D({},a,{mfaDevices:o}))),null==t||t(a.recoveryCode)}catch(e){yield io(ai.setMfaState({saving:!1,error:e.message})),null==t||t(null,e)}}function*dp(e){let{payload:{deviceId:t,callback:n}}=e;mi(e.payload,Jg),yield io(ai.setMfaState({saving:!0}));try{var i;const e=yield ro(fu.auth.preDisableMFAWebAuthn,t),o=D({},e.options,{challenge:Ot(e.options.challenge),allowCredentials:null==(i=e.options.allowCredentials)?void 0:i.map((e=>D({},e,{id:Ot(e.id)})))});yield io(ai.setMfaState({saving:!1})),null==n||n({options:o,webauthnToken:e.webauthnToken})}catch(e){yield io(ai.setMfaState({saving:!1,error:e.message})),null==n||n(null,e)}}function*up(e){let{payload:{deviceId:t,callback:n}}=e,i=mi(e.payload,Yg);yield io(ai.setMfaState({saving:!0}));try{const e=Ct(i.publicKey);yield ro(fu.auth.disableMFAWebAuthn,t,D({},i,{options:e}));const o=yield ro(fu.auth.getMFADevices);yield io(ai.setMfaState({saving:!1,error:void 0,mfaDevices:o})),null==n||n(!0)}catch(e){yield io(ai.setMfaState({saving:!1,error:e.message})),null==n||n(!1,e)}}function*yp({payload:e}){yield io(ai.setMfaState({saving:!0}));try{var t;const n=yield ro(fu.auth.preEnrollMFASMS,e);yield io(ai.setMfaState({saving:!1,error:void 0,otcToken:n.otcToken,phoneNumber:n.phoneNumber})),null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setMfaState({saving:!1,error:t.message})),null==(n=e.callback)||n.call(e,!1,t)}}function*fp(e){let{payload:{callback:t}}=e,n=mi(e.payload,Qg);yield io(ai.setMfaState({saving:!0}));try{const e=yield ro(fu.auth.enrollMFASMS,n),i=yield ro(fu.auth.getMFADevices),o=yield ip(e);yield io(ai.setMfaState(D({},o,{mfaDevices:i}))),null==t||t(o.recoveryCode)}catch(e){yield io(ai.setMfaState({saving:!1,error:e.message})),null==t||t(null,e)}}function*gp(e){let{payload:{deviceId:t}}=e,n=mi(e.payload,Xg);yield io(ai.setMfaState({saving:!0}));try{var i;const e=yield ro(fu.auth.preDisableMFASMS,t);yield io(ai.setMfaState({saving:!1,error:void 0,otcToken:e.otcToken,phoneNumber:e.phoneNumber})),null==(i=n.callback)||i.call(n,!0)}catch(e){var o;yield io(ai.setMfaState({saving:!1,error:e.message})),null==(o=n.callback)||o.call(n,!1,e)}}function*pp(e){let{payload:{deviceId:t}}=e,n=mi(e.payload,Zg);yield io(ai.setMfaState({saving:!0}));try{var i;yield ro(fu.auth.disableMFASMS,t,n);const e=yield ro(fu.auth.getMFADevices);yield io(ai.setMfaState({saving:!1,error:void 0,mfaDevices:e})),null==(i=n.callback)||i.call(n,!0)}catch(e){var o;yield io(ai.setMfaState({saving:!1,error:e.message})),null==(o=n.callback)||o.call(n,!1,e)}}function*Sp(){yield io(ai.setMfaState({loading:!0}));try{yield co((e=>e.auth.user));const e=yield ro(fu.auth.getMFADevices);yield io(ai.setMfaState({loading:!1,error:void 0,mfaDevices:e}))}catch(e){yield io(ai.setMfaState({loading:!1,error:e.message}))}}function*vp(){yield io(ai.setMfaState({loading:!0}));try{const e=(yield ro(fu.auth.getMFAStrategiesConfig)).strategies.filter((({isActive:e})=>e)).map((({strategy:e})=>e));yield io(ai.setMfaState({loading:!1,error:void 0,mfaStrategies:e}))}catch(e){yield io(ai.setMfaState({loading:!1,error:e.message}))}}function*mp(){yield na(ai.enrollMfa,op),yield na(ai.getMFADevices,Sp),yield na(ai.getMFAStrategies,vp),yield na(ai.verifyMfa,ap),yield na(ai.disableMfa,lp),yield na(ai.verifyMfaAfterForce,rp),yield na(ai.preDisableMfaSms,gp),yield na(ai.disableMfaSms,pp),yield na(ai.preEnrollMfaSms,yp),yield na(ai.enrollMfaSms,fp),yield na(ai.preEnrollMfaWebAuthn,sp),yield na(ai.enrollMfaWebAuthn,cp),yield na(ai.preDisableMfaWebAuthn,dp),yield na(ai.disableMfaWebAuthn,up)}function*hp(){yield io(ai.setMfaState({saving:!0})),yield io(ai.setMfaState({saving:!1,error:void 0,qrCode:"test"}))}function*bp({payload:{callback:e}}){const{mfaDevices:t={webauthn:[],phones:[],authenticators:[]}}=yield co((e=>e.auth.mfaState));yield io(ai.setMfaState({saving:!0})),yield Lt();const n={token:"token",recoveryCode:"recoveryCode"},i={step:fn.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:D({},t,{authenticators:[{id:"authenticator-id"}]})};null!=n&&n.recoveryCode&&(i.recoveryCode=n.recoveryCode),yield io(ai.setMfaState(i)),yield io(ai.setUser(D({},Pu,{mfaEnrolled:!0}))),null==e||e(i.recoveryCode)}function*Ap(e){let{payload:{callback:t}}=e,n=mi(e.payload,ep);yield io(ai.setMfaState({loading:!0})),yield Lt();const i=D({},n,{recoveryCode:"recoveryCode"}),o={step:fn.recoveryCode,loading:!1,error:void 0,saving:!1};null!=i&&i.recoveryCode&&(o.recoveryCode=i.recoveryCode),yield io(ai.setMfaState(o)),yield Lt(),yield io(ai.setUser(D({},Pu,{mfaEnrolled:!0}))),null==t||t(o.recoveryCode)}function*kp({payload:e}){var t;const{mfaDevices:n={webauthn:[],phones:[],authenticators:[]}}=yield co((e=>e.auth.mfaState));yield io(ai.setMfaState({saving:!0})),yield Lt(),yield io(ai.setMfaState({saving:!1,error:void 0,mfaDevices:D({},n,{authenticators:[]})})),yield io(ai.setUser(D({},Pu))),null==(t=e.callback)||t.call(e,!0)}function*Tp(e){let{}=e,t=mi(e.payload,tp);yield io(ai.setMfaState({saving:!0}));try{var n;yield io(ai.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"})),null==(n=t.callback)||n.call(t,!0)}catch(e){var i;yield io(ai.setMfaState({saving:!1,error:e.message})),null==(i=t.callback)||i.call(t,!1,e)}}function*Pp({payload:e}){var t;const{mfaDevices:n={webauthn:[],phones:[],authenticators:[]}}=yield co((e=>e.auth.mfaState));yield io(ai.setMfaState({saving:!0})),yield Lt(),yield io(ai.setMfaState({loading:!1,error:void 0,mfaDevices:D({},n,{phones:[]})})),yield io(ai.setUser(D({},Pu))),null==(t=e.callback)||t.call(e,!0)}function*Ip({payload:e}){var t;yield io(ai.setMfaState({saving:!0})),yield Lt(),yield io(ai.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"})),null==(t=e.callback)||t.call(e,!0)}function*Lp(e){let{payload:{callback:t}}=e;mi(e.payload,np);const{mfaDevices:n={webauthn:[],phones:[],authenticators:[]}}=yield co((e=>e.auth.mfaState));yield io(ai.setMfaState({saving:!0})),yield Lt();const i={token:"token",recoveryCode:"recoveryCode"},o={step:fn.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:D({},n,{phones:[{id:"phone-id",phoneNumber:"+972504589346"}]})};null!=i&&i.recoveryCode&&(o.recoveryCode=i.recoveryCode),yield io(ai.setMfaState(o)),yield io(ai.setUser(D({},Pu,{mfaEnrolled:!0}))),null==t||t(o.recoveryCode)}function*Ep(){yield na(ai.enrollMfa,hp),yield na(ai.verifyMfa,bp),yield na(ai.disableMfa,kp),yield na(ai.verifyMfaAfterForce,Ap),yield na(ai.preDisableMfaSms,Tp),yield na(ai.disableMfaSms,Pp),yield na(ai.preEnrollMfaSms,Ip),yield na(ai.enrollMfaSms,Lp)}const wp=["callback"];function*Op({payload:e}){yield io(ai.setForgotPasswordState({loading:!0}));try{yield ro(fu.auth.forgotPassword,e),yield io(ai.setForgotPasswordState({loading:!1,error:void 0,step:Xt.success}))}catch(e){yield io(ai.setForgotPasswordState({loading:!1,error:e.message||"Unknown error occurred"}))}}function*Cp(e){let{payload:{callback:t}}=e,n=mi(e.payload,wp);yield io(ai.setForgotPasswordState({loading:!0}));try{yield ro(fu.auth.resetPassword,n),yield io(ai.setForgotPasswordState({loading:!1,error:void 0,step:Xt.success})),null==t||t(!0)}catch(e){yield io(ai.setForgotPasswordState({loading:!1,error:e.message})),null==t||t(!1)}}function*Dp({payload:e}){yield io(ai.setForgotPasswordState({loading:!0}));try{const t=yield ro(fu.auth.loadPasswordConfig,e);yield io(ai.setForgotPasswordState({loading:!1,passwordConfig:t}))}catch(e){yield io(ai.setForgotPasswordState({loading:!1,error:e.message}))}}function*Rp(){yield oa(ai.forgotPassword,Op),yield oa(ai.resetPassword,Cp),yield oa(ai.loadPasswordConfig,Dp)}let _p;!function(e){e.USERS="USERS",e.STATS="STATS",e.UPDATE_USER="UPDATE_USER",e.DELETE_USER="DELETE_USER",e.RESEND_ACTIVATE_LINK="RESEND_ACTIVATE_LINK",e.RESEND_INVITATION_LINK="RESEND_INVITATION_LINK",e.ROLES_AND_PERMISSIONS="ROLES_AND_PERMISSIONS",e.CREATE_TOKEN_LINK="CREATE_TOKEN_LINK",e.GET_TOKEN_LINK="GET_TOKEN_LINK",e.UPDATE_TOKEN_LINK="UPDATE_TOKEN_LINK",e.DELETE_TOKEN_LINK="DELETE_TOKEN_LINK",e.CONFIG_TOKEN_LINK="CONFIG_TOKEN_LINK"}(_p||(_p={}));const Up=["callback","events"],Mp=["callback"],$p=["callback"];function*Np({payload:{userId:e,token:t}}){yield io(ai.setActivateState({loading:!0,step:Gt.activating}));try{const{isAuthenticated:n}=yield co((e=>e.auth));n&&(yield io(ai.silentLogout()));const i=yield ro(fu.auth.getActivateAccountStrategy,{userId:e,token:t});yield io(ai.setActivateStrategyState({strategy:i,loading:!1,error:void 0})),i.shouldSetPassword&&(yield io(ai.setActivateState({loading:!1,step:Gt.activatingForm})))}catch(e){yield io(ai.setActivateState({loading:!1,error:e.message}))}}function*Fp(e){let{payload:{callback:t,events:n}}=e,i=mi(e.payload,Up);yield io(ai.setActivateState({loading:!0}));try{const e=aa.onRedirectTo,{routes:a}=yield co((e=>e.auth)),r=yield ro(fu.auth.activateAccount,i);if(r.redirectLocation)return void(window.location.href=r.redirectLocation);if(rf(r)){yield io(ai.setActivateState({step:Gt.success}));const t=yield cf(r);yield io(ai.setState(t)),yield uo(1e3),e(a.loginUrl,{preserveQueryParams:!0})}else{var o;yield io(ai.setActivateState({step:Gt.success}));const{user:e,tenants:t}=yield ro(fu.auth.generateLoginResponseV2,r);null==n||null==(o=n.userVerified)||o.call(n,{email:e.email,origin:Bu.ACTIVATION_LINK,id:e.id,tenantId:e.tenantId,name:e.name,createdAt:new Date}),yield io(ai.setTenantsState({tenants:t,loading:!1})),yield io(ai.setState({user:e,isAuthenticated:!0})),yield uo(1e3),yield nf(),yield io(ai.resetActivateState())}null==t||t(!0)}catch(e){yield io(ai.setActivateState({loading:!1,error:e.message}))}}function*xp({payload:e}){const{callback:t}=e,n=mi(e,Mp);yield io(ai.setActivateStrategyState({loading:!0}));try{const e=yield ro(fu.auth.getActivateAccountStrategy,n);yield io(ai.setActivateStrategyState({strategy:e,loading:!1,error:void 0})),null==t||t(e)}catch(e){yield io(ai.setActivateStrategyState({loading:!1,error:e.message}))}}function*Vp({payload:e}){const{callback:t}=e,n=mi(e,$p);yield io(ai.setTeamLoader({key:_p.RESEND_ACTIVATE_LINK,value:n.email})),yield io(ai.setActivateState({loading:!0}));try{yield ro(fu.auth.resendActivationEmail,n),yield io(ai.setActivateState({loading:!1,error:void 0,resentEmail:!0})),null==t||t(!0)}catch(e){yield io(ai.setActivateState({loading:!1,error:e.message})),yield io(ai.setTeamError({key:_p.RESEND_ACTIVATE_LINK,value:e.message})),null==t||t(null,e.message)}yield io(ai.setTeamLoader({key:_p.RESEND_ACTIVATE_LINK,value:!1}))}function*jp(){yield oa(ai.activateAccount,Fp),yield oa(ai.preActivateAccount,Np),yield oa(ai.getActivateAccountStrategy,xp),yield oa(ai.resendActivationEmail,Vp)}function*Wp({payload:e}){if(e.token&&e.userId)try{yield io(ai.setAcceptInvitationState({error:void 0,step:Ht.pending})),yield ro(fu.auth.acceptInvitation,e),yield io(ai.setState({isAuthenticated:!1,user:null,acceptInvitationState:{error:void 0,step:Ht.success}}))}catch(e){yield io(ai.setAcceptInvitationState({step:Ht.failed,error:e.message}))}else yield io(ai.setAcceptInvitationState({error:void 0,step:Ht.invalid}))}function*Kp(){yield oa(ai.acceptInvitation,Wp)}var Gp,qp=new Uint8Array(16);function Bp(){if(!Gp&&!(Gp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gp(qp)}const zp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Hp=function(e){return"string"==typeof e&&zp.test(e)};for(var Jp=[],Yp=0;Yp<256;++Yp)Jp.push((Yp+256).toString(16).substr(1));const Qp=function(e,t,n){var i=(e=e||{}).random||(e.rng||Bp)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=i[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Jp[e[t+0]]+Jp[e[t+1]]+Jp[e[t+2]]+Jp[e[t+3]]+"-"+Jp[e[t+4]]+Jp[e[t+5]]+"-"+Jp[e[t+6]]+Jp[e[t+7]]+"-"+Jp[e[t+8]]+Jp[e[t+9]]+"-"+Jp[e[t+10]]+Jp[e[t+11]]+Jp[e[t+12]]+Jp[e[t+13]]+Jp[e[t+14]]+Jp[e[t+15]]).toLowerCase();if(!Hp(n))throw TypeError("Stringified UUID is invalid");return n}(i)},Xp=["callback"],Zp=["roles"],eS=["callback"],tS=["callback","profileImage"],nS=["callback"],iS=["callback","userId"],oS=["callback"],aS=["callback"],rS=["callback"],lS=["callback"],sS=["callback"],cS=["callback"],dS=["callback"],uS=["callback","profileImage"],yS=["callback"],fS=["callback"],gS=["callback"],pS=["callback"],SS=["callback"],vS=["callback"],mS=()=>co((e=>e[$t].teamState));function*hS({payload:e}){var t,n,i,o;const{silentLoading:a,callback:r}=e,l=yield mS(),s=null!=(t=e.pageSize)?t:l.pageSize,c=null!=(n=e.pageOffset)?n:l.pageOffset,d=null!=(i=e.filter)?i:l.filter,u=null!=(o=e.sort)?o:l.sort;yield io(ai.setTeamLoader({key:_p.USERS,value:!a})),yield io(ai.setTeamState({pageSize:s,pageOffset:c,filter:d,sort:u}));try{const[{items:e,totalPages:t,totalItems:n},{items:i},{items:o}]=yield oo([ro(fu.teams.loadUsers,{pageSize:s,pageOffset:c,filter:d,sort:u}),ro(fu.teams.loadAvailableRoles),ro(fu.teams.loadAvailablePermissions)]);yield io(ai.setTeamState({users:e,totalPages:t,totalItems:n,roles:i,permissions:o})),null==r||r(e)}catch(e){yield io(ai.setTeamError({key:_p.USERS,value:e.message})),yield io(ai.setTeamState({totalPages:0,users:[]})),null==r||r(null,e)}yield io(ai.setTeamLoader({key:_p.USERS,value:!1}))}function*bS({payload:e}){var t,n,i,o,a;const{silentLoading:r,callback:l}=e,s=yield mS(),c={_limit:(null!=(t=e._limit)?t:s.allUsersQueryParams._limit)||20,_offset:(null!=(n=e._offset)?n:s.allUsersQueryParams._offset)||0,_filter:(null!=(i=e._filter)?i:s.allUsersQueryParams._filter)||"",_sortBy:(null!=(o=e._sortBy)?o:s.allUsersQueryParams._sortBy)||"name",_order:(null!=(a=e._order)?a:s.allUsersQueryParams._order)||"DESC"};yield io(ai.setTeamLoader({key:_p.USERS,value:!r})),yield io(ai.setTeamState({allUsersQueryParams:c}));try{const[{items:e,_metadata:{totalPages:t,totalItems:n}},{items:i},{items:o}]=yield oo([ro(fu.subTenants.loadAllUsers,D({},c)),ro(fu.teams.loadAvailableRoles),ro(fu.teams.loadAvailablePermissions)]);yield io(ai.setTeamState({allUsers:e,totalPages:t,totalItems:n,roles:i,permissions:o})),null==l||l(e)}catch(e){yield io(ai.setTeamError({key:_p.USERS,value:e.message})),yield io(ai.setTeamState({totalPages:0,users:[]})),null==l||l(null,e)}yield io(ai.setTeamLoader({key:_p.USERS,value:!1}))}function*AS({payload:e}){yield io(ai.setTeamLoader({key:_p.ROLES_AND_PERMISSIONS,value:!0}));try{var t;const[{items:n},{items:i}]=yield oo([ro(fu.teams.loadAvailableRoles),ro(fu.teams.loadAvailablePermissions)]);yield io(ai.setTeamState({roles:n,permissions:i})),null==e||null==(t=e.callback)||t.call(e,{roles:n,permissions:i})}catch(t){var n;null==e||null==(n=e.callback)||n.call(e,null,t),yield io(ai.setTeamError({key:_p.ROLES_AND_PERMISSIONS,value:t.message}))}yield io(ai.setTeamLoader({key:_p.ROLES_AND_PERMISSIONS,value:!0}))}function*kS({payload:e}){const{callback:t}=e,n=mi(e,Xp),i=yield mS();yield io(ai.setTeamState({addUserDialogState:D({},i.addUserDialogState,{loading:!0})}));try{const e=yield ro(fu.teams.addUser,n),{roles:o}=e,a=D({},mi(e,Zp),{roleIds:o.map((e=>e.id))});null==t||t(a),yield io(ai.setTeamState({users:[a,...i.users],addUserDialogState:{open:!1,loading:!1}}))}catch(e){yield io(ai.setTeamState({addUserDialogState:D({},i.addUserDialogState,{loading:!1,error:e.message})})),null==t||t(null,e.message)}}function*TS({payload:e}){const{callback:t}=e,n=yield mS();yield io(ai.setTeamState({addUserDialogState:D({},n.addUserDialogState,{loading:!0})}));const i=[],o=[],a=e.emails.map((t=>({email:t,roleIds:e.roleIds})));yield io(ai.setTeamState({addUserDialogState:{open:!0,loading:!0}}));for(let e=0;e<a.length;e++){const t=a.at(e);try{yield ro(fu.teams.addUser,t),i.push(t.email)}catch(e){o.push(t.email)}}const r={pageOffset:0,pageSize:10,filter:[],silentLoading:e.emails.length>0};yield io(ai.loadUsers(r)),yield io(ai.setTeamState({addUserDialogState:{loading:!1}})),null==t||t({unallowedEmails:o,allowedEmails:i})}function*PS({payload:e}){const{callback:t}=e,n=mi(e,eS),i=yield mS();yield io(ai.setTeamState({addUserDialogState:D({},i.addUserDialogState,{loading:!0})}));try{yield ro(fu.subTenants.addUserToTenantAndSubTenants,n);const{items:e,_metadata:{totalPages:i,totalItems:o}}=yield ro(fu.subTenants.loadAllUsers,{_limit:20,_offset:0,_filter:"",_sortBy:"name",_order:"DESC"});yield io(ai.setTeamState({allUsers:e,totalPages:i,totalItems:o,addUserDialogState:{open:!1,loading:!1}})),null==t||t(null)}catch(e){yield io(ai.setTeamState({addUserDialogState:D({},i.addUserDialogState,{loading:!1,error:e.message})})),null==t||t(null,e.message)}}function*IS({payload:e}){const{callback:t}=e,n=mi(e,tS),{id:i}=n,o=yield mS(),a=o.users.find((e=>e.id===n.id));yield io(ai.setTeamLoader({key:_p.UPDATE_USER,value:i||""})),yield io(ai.setTeamState({addUserDialogState:D({},o.addUserDialogState,{loading:!0})})),yield io(ai.setTeamState({addUserDialogState:D({},o.addUserDialogState,{loading:!0}),users:o.users.map((e=>e.id===n.id?D({},e,n):e))}));try{var r;a.roleIds.length>0&&0===(null==(r=n.roleIds)?void 0:r.length)&&(n.roleIds=[""]);const{item:e}=yield ro(fu.teams.updateUser,n);null==t||t(e),yield io(ai.setTeamState({users:o.users.map((t=>t.id===e.id?D({},t,e,{createdAt:t.createdAt,customData:t.customData,lastLogin:t.lastLogin}):t))})),yield io(ai.setTeamLoader({key:_p.UPDATE_USER,value:!1}))}catch(e){yield io(ai.setTeamState({addUserDialogState:D({},o.addUserDialogState,{loading:!1,error:e.message}),users:o.users.map((e=>e.id===n.id?D({},e,a):e))})),yield io(ai.setTeamLoader({key:_p.UPDATE_USER,value:!1})),null==t||t(null,e.message)}}function*LS({payload:e}){const{callback:t}=e,n=mi(e,nS),i=yield mS();yield io(ai.setTeamState({deleteUserDialogState:D({},i.deleteUserDialogState,{loading:!0})}));try{yield ro(fu.teams.deleteUser,n),null==t||t(!0),yield io(ai.setTeamState({users:i.users.filter((e=>e.id!==n.userId)),deleteUserDialogState:{open:!1,loading:!1}}))}catch(e){yield io(ai.setTeamState({deleteUserDialogState:D({},i.deleteUserDialogState,{loading:!1,error:e.message})})),null==t||t(null,e.message)}}function*ES({payload:e}){const{callback:t,userId:n}=e,i=mi(e,iS),o=yield mS();yield io(ai.setTeamState({addUserDialogState:D({},o.addUserDialogState,{loading:!0})}));try{yield ro(fu.subTenants.setUserRolesForSubTenants,n,i);const e=o.allUsers.find((e=>e.id===n));let a=[];e&&(a=e.tenants.map((e=>{var t;return D({},e,{roles:(null==(t=i.subTenantsRoles.find((t=>t.tenantId===e.tenantId)))?void 0:t.roleIds.map((e=>o.roles.find((({id:t})=>e===t)))).filter((e=>e)))||e.roles})}))),yield io(ai.setTeamState({allUsers:[...o.allUsers.filter((e=>e.id!==n)),...e?[D({},e,{tenants:a})]:[]],addUserDialogState:{open:!1,loading:!1}})),null==t||t(!0)}catch(e){yield io(ai.setTeamState({addUserDialogState:D({},o.addUserDialogState,{loading:!1,error:e.message})})),null==t||t(null,e.message)}}function*wS({payload:e}){const{callback:t}=e,n=mi(e,oS),i=yield mS();yield io(ai.setTeamState({deleteUserDialogState:D({},i.deleteUserDialogState,{loading:!0})}));try{yield ro(fu.subTenants.removeUserFromTenantAndSubTenants,n),null==t||t(!0),yield io(ai.setTeamState({allUsers:i.allUsers.filter((e=>e.id!==n.userId&&e.tenants.length===n.subTenants.length)),deleteUserDialogState:{open:!1,loading:!1}}))}catch(e){yield io(ai.setTeamState({deleteUserDialogState:D({},i.deleteUserDialogState,{loading:!1,error:e.message})})),null==t||t(null,e.message)}}function*OS({payload:e}){const{callback:t}=e,n=mi(e,aS);yield io(ai.setTeamLoader({key:_p.RESEND_ACTIVATE_LINK,value:n.userId}));try{yield ro(fu.teams.resendActivationLink,n),null==t||t(!0)}catch(e){yield io(ai.setTeamError({key:_p.RESEND_ACTIVATE_LINK,value:e.message})),null==t||t(null,e.message)}yield io(ai.setTeamLoader({key:_p.RESEND_ACTIVATE_LINK,value:!1}))}function*CS({payload:e}){const{callback:t}=e,n=mi(e,rS);yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:n.email}));try{yield ro(fu.teams.resendInvitationLink,n),null==t||t(!0)}catch(e){yield io(ai.setTeamError({key:_p.RESEND_INVITATION_LINK,value:e.message})),null==t||t(null,e.message)}yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:!1}))}function*DS({payload:e}){const{callback:t}=e,n=mi(e,lS);yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:n.email}));try{yield ro(fu.auth.resendInvitationEmail,n),null==t||t(!0)}catch(e){yield io(ai.setTeamError({key:_p.RESEND_INVITATION_LINK,value:e.message})),null==t||t(null,e.message)}yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:!1}))}function*RS({payload:e}){const{callback:t}=e,n=mi(e,sS);yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:n.email}));try{yield ro(fu.teams.resendInvitationLinkToAllTenants,n),null==t||t(!0)}catch(e){yield io(ai.setTeamError({key:_p.RESEND_INVITATION_LINK,value:e.message})),null==t||t(null,e.message)}yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:!1}))}function*_S(){yield io(ai.setTeamError({key:_p.CONFIG_TOKEN_LINK,value:!1}));try{const e=yield ro(fu.teams.getInviteLinkConfiguration);yield io(ai.setTeamState({inviteTokenState:D({},e)}))}catch(e){yield io(ai.setTeamError({key:_p.CONFIG_TOKEN_LINK,value:e.message}))}}function*US(){yield io(ai.setTeamError({key:_p.GET_TOKEN_LINK,value:!1}));try{yield ro(_S);const e=yield ro(fu.teams.getInviteUserLink),{inviteTokenState:t}=yield mS();yield io(ai.setTeamState({inviteTokenState:D({},t,e)}))}catch(e){yield io(ai.setTeamError({key:_p.GET_TOKEN_LINK,value:e.message}))}}function*MS({payload:{callback:e}}){yield io(ai.setTeamError({key:_p.CREATE_TOKEN_LINK,value:!1}));const{inviteTokenState:t}=yield mS();try{const n=yield ro(fu.teams.createInviteUserLink,{expiresInMinutes:43200});yield io(ai.setTeamState({inviteTokenState:D({},t,n)})),null==e||e(n.token)}catch(t){null==e||e(null,t.message),yield io(ai.setTeamError({key:_p.CREATE_TOKEN_LINK,value:t.message}))}}function*$S({payload:{callback:e,expiresInMinutes:t,shouldSendEmail:n}}){const{inviteTokenState:i}=yield mS();yield io(ai.setTeamError({key:_p.UPDATE_TOKEN_LINK,value:!1}));try{const o=yield ro(fu.teams.updateInviteUserLink,{expiresInMinutes:t,shouldSendEmail:n});yield io(ai.setTeamState({inviteTokenState:D({},i,o)})),null==e||e(!0)}catch(t){null==e||e(null,t.message),yield io(ai.setTeamError({key:_p.UPDATE_TOKEN_LINK,value:t.message}))}}function*NS({payload:e}){const{callback:t}=null!=e?e:{};yield io(ai.setTeamError({key:_p.DELETE_TOKEN_LINK,value:!1}));try{yield ro(fu.teams.deleteInviteUserLink),yield io(ai.setTeamState({inviteTokenState:void 0})),null==t||t(!0)}catch(e){yield io(ai.setTeamError({key:_p.DELETE_TOKEN_LINK,value:e.message})),null==t||t(!1,e.message)}}function*FS({payload:e}){yield io(ai.setTeamState({addUserDialogState:D({open:!0,loading:!1,error:!1},e)}))}function*xS({payload:e}){const t=yield mS(),{addUserDialogState:{onClose:n}}=t;null==n||n(e),yield io(ai.setTeamState({addUserDialogState:{loading:!1,error:!1,open:!1}}))}function*VS({payload:e}){yield io(ai.setTeamState({deleteUserDialogState:D({open:!0,loading:!1,error:!1},e)}))}function*jS({payload:e}){const t=yield mS(),{deleteUserDialogState:{onClose:n}}=t;null==n||n(e),yield io(ai.setTeamState({deleteUserDialogState:{loading:!1,error:!1,open:!1}}))}function*WS(){yield ia(ai.loadUsers,hS),yield ia(ai.loadAllSubTenantsUsers,bS),yield ia(ai.loadRoles,AS),yield na(ai.addUser,kS),yield na(ai.addUsersBulk,TS),yield na(ai.addUserToSubTenants,PS),yield na(ai.updateUser,IS),yield na(ai.setUserRolesForSubTenants,ES),yield na(ai.deleteUser,LS),yield na(ai.deleteUserFromSubTenants,wS),yield na(ai.resendActivationLink,OS),yield na(ai.resendInvitationLink,CS),yield na(ai.resendInvitationEmail,DS),yield na(ai.resendInvitationLinkToAllSubTenants,RS),yield na(ai.getInvitationLink,US),yield na(ai.createInvitationLink,MS),yield na(ai.updateInvitationLink,$S),yield na(ai.deleteInvitationLink,NS),yield na(ai.openAddUserDialog,FS),yield na(ai.closeAddUserDialog,xS),yield na(ai.openDeleteUserDialog,VS),yield na(ai.closeDeleteUserDialog,jS)}function*KS({payload:e}){var t,n,i,o;const{silentLoading:a,callback:r}=e,l=yield mS(),s=null!=(t=e.pageSize)?t:l.pageSize,c=null!=(n=e.pageOffset)?n:l.pageOffset,d=null!=(i=e.filter)?i:l.filter,u=null!=(o=e.sort)?o:l.sort;yield io(ai.setTeamLoader({key:_p.USERS,value:!a})),yield io(ai.setTeamState({pageSize:s,pageOffset:c,filter:d,sort:u})),yield Lt(),yield io(ai.setTeamState({users:xu,totalPages:2,totalItems:10,roles:_u,permissions:Mu})),yield io(ai.setTeamLoader({key:_p.USERS,value:!1})),null==r||r(xu)}function*GS({payload:e}){var t,n,i,o,a;const{silentLoading:r,callback:l}=e,s=yield mS(),c=null!=(t=e._limit)?t:s.allUsersQueryParams._limit,d=null!=(n=e._offset)?n:s.allUsersQueryParams._offset,u=null!=(i=e._filter)?i:s.allUsersQueryParams._filter,y=null!=(o=e._sortBy)?o:s.allUsersQueryParams._sortBy,f=null!=(a=e._order)?a:s.allUsersQueryParams._order;yield io(ai.setTeamLoader({key:_p.USERS,value:!r})),yield io(ai.setTeamState({allUsersQueryParams:{_limit:c,_offset:d,_filter:u,_sortBy:y,_order:f}})),yield Lt(),yield io(ai.setTeamState({allUsers:Vu,totalPages:2,totalItems:10,roles:_u,permissions:Mu})),yield io(ai.setTeamLoader({key:_p.USERS,value:!1})),null==l||l(Vu)}function*qS({payload:e}){var t;yield io(ai.setTeamLoader({key:_p.ROLES_AND_PERMISSIONS,value:!0})),yield Lt(),yield io(ai.setTeamState({roles:_u,permissions:Mu})),yield io(ai.setTeamLoader({key:_p.ROLES_AND_PERMISSIONS,value:!0})),null==e||null==(t=e.callback)||t.call(e,{roles:_u,permissions:Mu})}function*BS({payload:e}){const{callback:t}=e,n=mi(e,cS),i=yield mS();yield io(ai.setTeamState({addUserDialogState:D({},i.addUserDialogState,{loading:!0})})),yield Lt();const o=D({},Nu,n,{id:`${Qp()}`});null==t||t(o),yield io(ai.setTeamState({users:[o,...i.users],addUserDialogState:{open:!1,loading:!1}}))}function*zS({payload:e}){const{callback:t}=e,n=mi(e,dS),i=yield mS();yield io(ai.setTeamState({addUserDialogState:D({},i.addUserDialogState,{loading:!0})})),yield Lt();const o=D({},Nu,n,{id:`${Qp()}`});yield io(ai.setTeamState({users:[o,...i.users],addUserDialogState:{open:!1,loading:!1}})),null==t||t(null)}function*HS({payload:e}){var t;const{callback:n}=e,i=mi(e,uS),{id:o}=i,a=yield mS(),r=a.users.find((e=>e.id===i.id));yield io(ai.setTeamLoader({key:_p.UPDATE_USER,value:o||""})),yield io(ai.setTeamState({addUserDialogState:D({},a.addUserDialogState,{loading:!0})})),yield io(ai.setTeamState({addUserDialogState:D({},a.addUserDialogState,{loading:!0}),users:a.users.map((e=>e.id===i.id?D({},e,i):e))})),r.roleIds.length>0&&0===(null==(t=i.roleIds)?void 0:t.length)&&(i.roleIds=[""]),yield Lt();const l=D({},r,i);null==n||n(l),yield io(ai.setTeamState({users:a.users.map((e=>e.id===l.id?D({},e,l,{createdAt:e.createdAt,customData:e.customData,lastLogin:e.lastLogin}):e))})),yield io(ai.setTeamLoader({key:_p.UPDATE_USER,value:!1}))}function*JS({payload:e}){const{callback:t}=e,n=mi(e,yS),i=yield mS();yield io(ai.setTeamState({deleteUserDialogState:D({},i.deleteUserDialogState,{loading:!0})})),yield Lt(),null==t||t(!0),yield io(ai.setTeamState({users:i.users.filter((e=>e.id!==n.userId)),deleteUserDialogState:{open:!1,loading:!1}}))}function*YS({payload:e}){const{callback:t}=e,n=mi(e,fS),i=yield mS();yield io(ai.setTeamState({deleteUserDialogState:D({},i.deleteUserDialogState,{loading:!0})})),yield Lt(),null==t||t(!0),yield io(ai.setTeamState({allUsers:i.allUsers.filter((e=>e.id!==n.userId)),deleteUserDialogState:{open:!1,loading:!1}}))}function*QS({payload:e}){const{callback:t}=e,n=mi(e,gS);yield io(ai.setTeamLoader({key:_p.RESEND_ACTIVATE_LINK,value:n.userId})),yield Lt(),null==t||t(!0),yield io(ai.setTeamLoader({key:_p.RESEND_ACTIVATE_LINK,value:!1}))}function*XS({payload:e}){const{callback:t}=e,n=mi(e,pS);yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:n.email})),yield Lt(),null==t||t(!0),yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:!1}))}function*ZS({payload:e}){const{callback:t}=e,n=mi(e,SS);yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:n.email})),yield Lt(),null==t||t(!0),yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:!1}))}function*ev({payload:e}){const{callback:t}=e,n=mi(e,vS);yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:n.email})),yield Lt(),null==t||t(!0),yield io(ai.setTeamLoader({key:_p.RESEND_INVITATION_LINK,value:!1}))}function*tv(){yield ia(ai.loadUsers,KS),yield ia(ai.loadAllSubTenantsUsers,GS),yield ia(ai.loadRoles,qS),yield na(ai.addUser,BS),yield na(ai.addUserToSubTenants,zS),yield na(ai.updateUser,HS),yield na(ai.deleteUser,JS),yield na(ai.deleteUserFromSubTenants,YS),yield na(ai.resendActivationLink,QS),yield na(ai.resendInvitationLink,XS),yield na(ai.resendInvitationEmail,ZS),yield na(ai.resendInvitationLinkToAllSubTenants,ev),yield na(ai.openAddUserDialog,FS),yield na(ai.closeAddUserDialog,xS),yield na(ai.openDeleteUserDialog,VS),yield na(ai.closeDeleteUserDialog,jS)}const nv=["authorizationUrl"],iv=["events","url"];function*ov(){try{yield io(ai.setSocialLoginsState({loading:!0}));const e=yield ro(fu.auth.getSocialLoginProviders);yield io(ai.setSocialLoginsState({socialLoginsConfig:e,loading:!1,firstLoad:!1}))}catch(e){yield io(ai.setSocialLoginsState({error:e.message,loading:!1,firstLoad:!1}))}}function*av(){try{const e=yield co((e=>e.root.context));yield io(ai.setSocialLoginsState({loading:!0}));const t=(yield ro(fu.auth.getSocialLoginProvidersV2)).map((t=>{let{authorizationUrl:n}=t,i=mi(t,nv);const o=sa(e,null!=n?n:"");return D({},i,{authorizationUrl:n?`${o}${n}`:null})}));yield io(ai.setSocialLoginsState({socialLoginsConfigV2:t,loading:!1,firstLoad:!1}))}catch(e){yield io(ai.setSocialLoginsState({error:e.message,loading:!1,firstLoad:!1}))}}function*rv(e){let{payload:{events:t,url:n}}=e,i=mi(e.payload,iv);try{yield io(ai.setSocialLoginsState({loading:!0}));const{email:e,isNewUser:r,userId:l,tenantId:s,name:c}=yield ro(fu.auth.loginViaSocialLogin,i);var o,a;r&&(null==t||null==(o=t.signUpComplete)||o.call(t,{email:e,url:n,authenticationType:zu.SOCIAL_LOGIN,createdAt:new Date,id:l,socialProvider:i.provider,tenantId:s}),null==t||null==(a=t.userVerified)||a.call(t,{email:e,origin:Bu.SOCIAL_LOGIN,createdAt:new Date,id:l,url:n,tenantId:s,name:c})),l&&localStorage.setItem("userId",l),yield io(ai.setLoginState({email:e,isNewUser:r})),yield df(),localStorage.removeItem("register-quick-login"),yield io(ai.setSocialLoginsState({loading:!1}))}catch(e){var r;yield io(ai.setSocialLoginsState({loading:!1,error:null!=(r=e.message)?r:"Failed to authenticate",firstLoad:!1}))}}function*lv({payload:e}){yield io(ai.setSocialLoginsState({error:e.error,loading:!1,firstLoad:!1}))}function*sv(){yield oa(ai.loadSocialLoginsConfiguration,ov),yield oa(ai.loadSocialLoginsConfigurationV2,av),yield oa(ai.loginViaSocialLogin,rv),yield ia(ai.setSocialLoginError,lv)}let cv;function*dv({payload:e}){yield io(ai.setApiTokensState({apiTokenType:e}));try{if(yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})),"user"===e){const e=yield ro(fu.auth.getUserApiTokensData);yield io(ai.setApiTokensState({apiTokensDataUser:null!=e?e:[]}))}else{const e=yield ro(fu.auth.getTenantApiTokensData),{items:t}=yield ro(fu.teams.loadAvailableRoles),{items:n}=yield ro(fu.teams.loadAvailablePermissions);yield io(ai.setApiTokensState({apiTokensDataTenant:null!=e?e:[],roles:null!=t?t:[],permissions:null!=n?n:[]}))}yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1}))}catch(e){yield io(ai.setApiTokensError({key:cv.LOAD_API_TOKENS,value:e.message})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1}))}}function*uv({payload:e}){const{description:t,callback:n}=e,{apiTokensDataUser:i}=yield co((e=>e.auth.apiTokensState));try{yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!0}));const e=yield ro(fu.auth.updateUserApiTokensData,{description:t});yield io(ai.setApiTokensState({showAddTokenDialog:!1})),yield uo(200),yield io(ai.setApiTokensState({apiTokensDataUser:[e,...i],successDialog:{open:!0,secret:e.secret,clientId:e.clientId}})),yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!1})),null==n||n(null)}catch(e){yield io(ai.setApiTokensError({key:cv.ADD_API_TOKEN,value:e.message})),yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!1})),null==n||n(null,e.message)}}function*yv({payload:e}){const{description:t,roleIds:n,callback:i}=e,{apiTokensDataTenant:o}=yield co((e=>e.auth.apiTokensState));try{yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!0}));const e=yield ro(fu.auth.updateTenantApiTokensData,{description:t,roleIds:n});yield io(ai.setApiTokensState({showAddTokenDialog:!1})),yield uo(200),yield io(ai.setApiTokensState({apiTokensDataTenant:[e,...o],successDialog:{open:!0,secret:e.secret,clientId:e.clientId}})),yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!1})),null==i||i(null)}catch(e){yield io(ai.setApiTokensError({key:cv.ADD_API_TOKEN,value:e.message})),yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!1})),null==i||i(null,e.message)}}function*fv({payload:e}){const{apiTokensDataUser:t}=yield co((e=>e.auth.apiTokensState));try{yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!0})),yield ro(fu.auth.deleteUserApiToken,{tokenId:e}),yield io(ai.setApiTokensState({apiTokensDataUser:t.filter((t=>t.clientId!==e)),deleteTokenDialog:{open:!1,clientId:e}})),yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!1}))}catch(e){yield io(ai.setApiTokensError({key:cv.DELETE_API_TOKEN,value:e.message})),yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!1}))}}function*gv({payload:e}){const{apiTokensDataTenant:t}=yield co((e=>e.auth.apiTokensState));try{yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!0})),yield ro(fu.auth.deleteTenantApiToken,{tokenId:e}),yield io(ai.setApiTokensState({apiTokensDataTenant:t.filter((t=>t.clientId!==e)),deleteTokenDialog:{open:!1,clientId:e}})),yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!1}))}catch(e){yield io(ai.setApiTokensError({key:cv.DELETE_API_TOKEN,value:e.message})),yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!1}))}}function*pv({payload:e}){null!=e&&e.silentLoading||(yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})));try{var t;const[n=[],i=[]]=yield oo([ro(fu.auth.getUserApiTokensData),ro(fu.auth.getTenantApiTokensData)]);yield io(ai.setApiTokensState({apiTokensDataUser:n,apiTokensDataTenant:i})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setApiTokensError({key:cv.LOAD_API_TOKENS,value:t.message})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(n=e.callback)||n.call(e,null,t)}}function*Sv({payload:e}){null!=e&&e.silentLoading||(yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})));try{var t;const n=yield ro(fu.auth.getUserApiTokensData);yield io(ai.setApiTokensState({apiTokensDataUser:null!=n?n:[]})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setApiTokensError({key:cv.LOAD_API_TOKENS,value:t.message})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(n=e.callback)||n.call(e,null,t)}}function*vv({payload:e}){null!=e&&e.silentLoading||(yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})));try{var t;const n=yield ro(fu.auth.getTenantApiTokensData);yield io(ai.setApiTokensState({apiTokensDataTenant:null!=n?n:[]})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setApiTokensError({key:cv.LOAD_API_TOKENS,value:t.message})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(n=e.callback)||n.call(e,null,t)}}function*mv(){yield oa(ai.loadApiTokens,pv),yield oa(ai.loadUserApiTokens,Sv),yield oa(ai.loadTenantApiTokens,vv),yield oa(ai.initApiTokensData,dv),yield na(ai.addUserApiToken,uv),yield na(ai.addTenantApiToken,yv),yield ia(ai.deleteTenantApiToken,gv),yield ia(ai.deleteUserApiToken,fv)}function*hv({payload:e}){if(yield io(ai.setApiTokensState({apiTokenType:e})),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})),"user"===e){yield uo(200);const e=[Au];yield io(ai.setApiTokensState({apiTokensDataUser:null!=e?e:[]}))}else{var t;yield uo(200),yield io(ai.setApiTokensState({apiTokensDataTenant:null!=(t=[ku])?t:[],roles:null!=_u?_u:[],permissions:null!=Mu?Mu:[]}))}yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1}))}function*bv({payload:e}){const{description:t,roleIds:n,callback:i}=e;yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!0}));const{apiTokensDataTenant:o}=yield co((e=>e.auth.apiTokensState)),a=D({},ku,{description:t,roleIds:n,clientId:`CLIENT_ID_${Qp()}`});yield io(ai.setApiTokensState({showAddTokenDialog:!1})),yield uo(200),yield io(ai.setApiTokensState({apiTokensDataTenant:[...o,a],successDialog:{open:!0,secret:a.secret,clientId:a.clientId}})),yield uo(200),yield io(ai.setApiTokensLoader({key:cv.ADD_API_TOKEN,value:!1})),null==i||i(null)}function*Av({payload:e}){yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!0})),yield uo(200);const t=[ku];yield io(ai.setApiTokensState({apiTokensDataTenant:t.filter((t=>t.clientId!==e)),deleteTokenDialog:{open:!1,clientId:e}})),yield io(ai.setApiTokensLoader({key:cv.DELETE_API_TOKEN,value:!1}))}function*kv({payload:e}){var t;null!=e&&e.silentLoading||(yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})));const n=[Au],i=[ku];yield io(ai.setApiTokensState({apiTokensDataUser:n,apiTokensDataTenant:i})),yield uo(200),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}function*Tv({payload:e}){var t;null!=e&&e.silentLoading||(yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})));const n=[Au];yield io(ai.setApiTokensState({apiTokensDataUser:n})),yield uo(200),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}function*Pv({payload:e}){var t;null!=e&&e.silentLoading||(yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!0})));const n=[ku];yield io(ai.setApiTokensState({apiTokensDataTenant:n})),yield uo(200),yield io(ai.setApiTokensLoader({key:cv.LOAD_API_TOKENS,value:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}function*Iv(){yield oa(ai.loadApiTokens,kv),yield oa(ai.loadUserApiTokens,Tv),yield oa(ai.loadTenantApiTokens,Pv),yield oa(ai.initApiTokensData,hv),yield na(ai.addTenantApiToken,bv),yield ia(ai.deleteTenantApiToken,Av)}function*Lv({payload:e}){try{var t;yield io(ai.setAccountSettingsState({loading:!0}));const{accountSettingsState:n}=yield co((e=>e.auth)),{address:i,timezone:o,dateFormat:a,timeFormat:r,currency:l,logo:s}=n,c=yield ro(fu.accountSettings.updateSettings,D({address:i,timezone:o,dateFormat:a,timeFormat:r,currency:l,logo:s},e));yield io(ai.setAccountSettingsState(D({},c,{loading:!1}))),null==(t=e.callback)||t.call(e,c)}catch(t){var n;yield io(ai.setAccountSettingsState({loading:!1,error:t.message})),null==(n=e.callback)||n.call(e,null,t)}}function*Ev({payload:e}){yield io(ai.setAccountSettingsState({loading:!(null!=e&&e.silentLoading),error:null}));try{const e=yield ro(fu.accountSettings.getSettings);yield io(ai.setAccountSettingsState(D({},e,{loading:!1})))}catch(e){yield io(ai.setAccountSettingsState({loading:!1,error:e.message}))}}function*wv(){yield oa(ai.saveAccountSettings,Lv),yield oa(ai.loadAccountSettings,Ev)}function*Ov({payload:e}){var t;yield io(ai.setAccountSettingsState({loading:!0})),yield Lt();const{accountSettingsState:n}=yield co((e=>e.auth)),{address:i,timezone:o,dateFormat:a,timeFormat:r,currency:l,logo:s}=n,c=D({address:i,timezone:o,dateFormat:a,timeFormat:r,currency:l,logo:s},e);yield io(ai.setAccountSettingsState(D({},c,{loading:!1}))),null==(t=e.callback)||t.call(e,c)}function*Cv({payload:e}){yield io(ai.setAccountSettingsState({loading:!(null!=e&&e.silentLoading),error:null})),yield Lt(),yield io(ai.setAccountSettingsState({address:"Tel-aviv",timezone:"Asia/Jerusalem",dateFormat:"DD/MM/YYYY",timeFormat:"HH:mm",currency:"USD",loading:!1}))}function*Dv(){yield oa(ai.saveAccountSettings,Ov),yield oa(ai.loadAccountSettings,Cv)}function*Rv({payload:{tenantId:e,callback:t}}){yield io(ai.setState({isLoading:!0}));try{yield ro(fu.tenants.switchTenant,{tenantId:e}),yield ro(df),(null==t?void 0:t(!0))||(yield io(ai.setState({isLoading:!1})))}catch(e){yield io(ai.setState({isLoading:!1})),null==t||t(!1,e)}}function*_v({payload:e}){yield io(ai.setTenantsState({loading:!0}));try{var t;const n=yield ro(fu.tenants.getTenants);yield io(ai.setTenantsState({tenants:n,loading:!1})),null==e||null==(t=e.callback)||t.call(e,[])}catch(t){var n;null==e||null==(n=e.callback)||n.call(e,[],t),yield io(ai.setTenantsState({loading:!1}))}}function*Uv({payload:e}){yield io(ai.setTenantsState({loading:!0}));try{var t;const n=yield ro(fu.tenants.getSubTenants);yield io(ai.setTenantsState({subTenants:n,loading:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setTenantsState({loading:!1})),null==e||null==(n=e.callback)||n.call(e,null,t)}}function*Mv({payload:e}){yield io(ai.setTenantsState({loading:!0}));try{var t;const n=yield ro(fu.tenants.getSubTenantsAsTree);yield io(ai.setTenantsState({tenantTree:n,loading:!1})),null==e||null==(t=e.callback)||t.call(e,!0)}catch(t){var n;yield io(ai.setTenantsState({loading:!1})),null==e||null==(n=e.callback)||n.call(e,null,t)}}function*$v(){yield na(ai.loadTenants,_v),yield na(ai.loadSubTenants,Uv),yield na(ai.switchTenant,Rv),yield na(ai.loadSubTenantsTree,Mv)}function*Nv(){yield io(ai.setTenantsState({loading:!0})),yield Lt(),yield io(ai.setTenantsState({tenants:ju,loading:!1}))}function*Fv(){yield na(ai.loadTenants,Nv)}!function(e){e.LOAD_API_TOKENS="LOAD_API_TOKENS",e.ADD_API_TOKEN="ADD_API_TOKEN",e.DELETE_API_TOKEN="DELETE_API_TOKEN"}(cv||(cv={}));const xv=["callback"],Vv=["callback"],jv=["callback"],Wv=["callback"],Kv=["callback"];function*Gv({payload:e}){var t;yield io(ai.setRolesState({loading:!(null!=(t=null==e?void 0:e.silentLoading)&&t),error:null}));try{const e=yield oo([ro(fu.roles.getRoles),ro(fu.roles.getPermissions),ro(fu.roles.getPermissionCategories)]),[t,n,i]=e;yield io(ai.setRolesState({roles:t,permissions:n,permissionCategories:i,loading:!1}))}catch(e){yield io(ai.setRolesState({error:e.message,loading:!1}))}}function*qv(e){let{payload:{callback:t}}=e,n=mi(e.payload,xv);yield io(ai.setRolesState({saving:!0}));try{const e=yield ro(fu.roles.addRole,n),i=yield ro(fu.roles.getRoles);yield io(ai.loadRolesAndPermissions({silentLoading:!0})),yield io(ai.setRolesState({roles:i,saving:!1})),null==t||t(e)}catch(e){yield io(ai.setRolesState({error:e.message,saving:!1})),null==t||t(null,e)}}function*Bv(e){let{payload:{callback:t}}=e,n=mi(e.payload,Vv);yield io(ai.setRolesState({saving:!0}));try{yield ro(fu.roles.deleteRole,n),yield io(ai.loadRolesAndPermissions({silentLoading:!0})),yield io(ai.setRolesState({saving:!1})),null==t||t(!0)}catch(e){yield io(ai.setRolesState({error:e.message,saving:!1})),null==t||t(!1,e)}}function*zv(e){let{payload:{callback:t}}=e,n=mi(e.payload,jv);yield io(ai.setRolesState({saving:!0}));try{const e=yield ro(fu.roles.updateRole,n);yield io(ai.loadRolesAndPermissions({silentLoading:!0})),yield io(ai.setRolesState({saving:!1})),null==t||t(e)}catch(e){yield io(ai.setRolesState({error:e.message,saving:!1})),null==t||t(null,e)}}function*Hv(e){let{payload:{callback:t}}=e,n=mi(e.payload,Wv);yield io(ai.setRolesState({saving:!0}));try{const e=yield ro(fu.roles.attachPermissionsToRole,n);yield io(ai.loadRolesAndPermissions({silentLoading:!0})),yield io(ai.setRolesState({saving:!1})),null==t||t(e)}catch(e){yield io(ai.setRolesState({error:e.message,saving:!1})),null==t||t(null,e)}}function*Jv(e){let{payload:{callback:t}}=e,n=mi(e.payload,Kv);yield io(ai.setRolesState({saving:!0}));try{const e=yield ro(fu.roles.attachPermissionToRoles,n);yield io(ai.loadRolesAndPermissions({silentLoading:!0})),yield io(ai.setRolesState({saving:!1})),null==t||t(e)}catch(e){yield io(ai.setRolesState({error:e.message,saving:!1})),null==t||t(null,e)}}function*Yv(){yield oa(ai.loadRolesAndPermissions,Gv),yield na(ai.addRole,qv),yield na(ai.deleteRole,Bv),yield na(ai.updateRole,zv),yield na(ai.attachPermissionsToRole,Hv),yield na(ai.attachPermissionToRoles,Jv)}const Qv=["callback"],Xv=["callback"],Zv=["callback"];function*em(e){let{payload:{callback:t}}=e,n=mi(e.payload,Qv);yield io(ai.setResetPhoneNumberState({loading:!0}));try{const e=yield ro(fu.auth.resetPhoneNumber,n);yield io(ai.setResetPhoneNumberState({loading:!1,error:void 0,resetPhoneNumberToken:e.resetPhoneNumberToken,step:nn.VerifyResetPhoneNumber})),yield io(ai.setLoginState({email:n.email}))}catch(e){yield io(ai.setResetPhoneNumberState({loading:!1,error:e.message})),null==t||t(null,e)}}function*tm(e){let{payload:{callback:t}}=e,n=mi(e.payload,Xv);yield io(ai.setResetPhoneNumberState({loading:!0}));try{const e=yield ro(fu.auth.verifyResetPhoneNumber,n);yield io(ai.setResetPhoneNumberState({loading:!1,error:void 0,changePhoneNumberToken:e.changePhoneNumberToken,step:nn.ChangePhoneNumber})),null==t||t(!0)}catch(e){yield io(ai.setResetPhoneNumberState({loading:!1,error:e.message})),null==t||t(null,e)}}function*nm(e){let{payload:{callback:t}}=e,n=mi(e.payload,Zv);yield io(ai.setResetPhoneNumberState({loading:!0}));try{const{onRedirectTo:e,routes:i}=yield co((({auth:{onRedirectTo:e,routes:t}})=>({onRedirectTo:e,routes:t})));yield ro(fu.auth.changePhoneNumber,{phoneNumber:n.phoneNumber,changePhoneNumberToken:n.changePhoneNumberToken}),yield io(ai.setLoginState({step:Dt.loginWithSmsOtc})),yield io(ai.passwordlessPreLogin({type:Ar.SmsCode,email:n.email,recaptchaToken:n.recaptchaToken})),e(i.loginUrl),yield io(ai.setResetPhoneNumberState({loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setResetPhoneNumberState({loading:!1,error:e.message})),null==t||t(null,e)}}function*im(){yield oa(ai.resetPhoneNumber,em),yield oa(ai.verifyResetPhoneNumber,tm),yield oa(ai.changePhoneNumber,nm)}function*om(){yield io(ai.setSessionsState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getCurrentUserSessions);yield io(ai.setSessionsState({sessions:e,loading:!1}))}catch(e){yield io(ai.setSessionsState({error:e,loading:!1}))}}function*am(){yield io(ai.setSessionsState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getCurrentUserSession);yield io(ai.setSessionsState({currentSession:e,loading:!1}))}catch(e){yield io(ai.setSessionsState({error:e,loading:!1}))}}function*rm({payload:{id:e}}){yield io(ai.setSessionsState({loading:!0,error:null}));try{yield ro(fu.auth.deleteSessionForUser,e),yield io(ai.loadUserSessions())}catch(e){yield io(ai.setSessionsState({error:e,loading:!1}))}}function*lm({payload:{callback:e,userId:t}}){yield io(ai.setSessionsState({loading:!0,error:null}));try{yield ro(fu.auth.revokeSessionsForUser,t),null==e||e(!0)}catch(t){yield io(ai.setSessionsState({error:t,loading:!1})),null==e||e(!1)}}function*sm(){yield io(ai.setSessionsState({loading:!0,error:null}));try{yield ro(fu.auth.deleteAllSessionsForUser),yield io(ai.loadUserSessions())}catch(e){yield io(ai.setSessionsState({error:e,loading:!1}))}}function*cm(){yield ia(ai.loadUserSessions,om),yield ia(ai.deleteUserSession,rm),yield ia(ai.deleteAllUserSessions,sm),yield ia(ai.loadCurrentUserSession,am),yield na(ai.revokeUserSessions,lm)}function*dm(){yield io(ai.setSessionsState({loading:!0,error:null})),yield io(ai.setSessionsState({sessions:Wu,loading:!1}))}function*um({payload:{id:e}}){yield io(ai.setSessionsState({loading:!0,error:null}));const t=(yield co((e=>{var t;return null!=(t=e.auth.sessionsState.sessions)?t:[]}))).filter((t=>t.id!==e));yield io(ai.setSessionsState({sessions:t,loading:!1}))}function*ym(){yield io(ai.setSessionsState({loading:!0,error:null}));const e=Wu.filter((e=>e.current));yield io(ai.setSessionsState({sessions:e,loading:!1}))}function*fm(){yield ia(ai.loadUserSessions,dm),yield ia(ai.deleteUserSession,um),yield ia(ai.deleteAllUserSessions,ym)}const gm=["callback"],pm=["callback"];function*Sm(){yield io(ai.setSessionsPolicyState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getSessionConfigurations);yield io(ai.setSessionsPolicyState({configurations:e,loading:!1}))}catch(e){yield io(ai.setSessionsState({error:e,loading:!1}))}}function*vm({payload:e}){yield io(ai.setSessionsPolicyState({loading:!0,error:null}));try{const{callback:t}=e,n=mi(e,gm);yield ro(fu.auth.createOrUpdateSessionConfigrations,n),yield io(ai.loadSessionsPolicy()),null==t||t(!0)}catch(e){yield io(ai.setSessionsPolicyState({error:e,loading:!1}))}}function*mm(){yield oa(ai.loadSessionsPolicy,Sm),yield ia(ai.createOrUpdateSessionsPolicy,vm)}function*hm(){yield io(ai.setSessionsPolicyState({loading:!0,error:null}));const e=yield co((e=>{var t,n;return null!=(t=null==e||null==(n=e.auth)?void 0:n.sessionsPolicyState)?t:Ku}));yield io(ai.setSessionsPolicyState(D({},e,{loading:!1})))}function*bm({payload:e}){yield io(ai.setSessionsPolicyState({loading:!0,error:null}));const{callback:t}=e,n=mi(e,pm);null==t||t(!0),yield io(ai.setSessionsPolicyState({configurations:n,loading:!1}))}function*Am(){yield oa(ai.loadSessionsPolicy,hm),yield ia(ai.createOrUpdateSessionsPolicy,bm)}const km=["callback"],Tm=["callback"],Pm=["callback"],Im=["callback"],Lm=["callback"],Em=["callback"],wm=["callback"],Om=["callback"],Cm=()=>co((e=>e[$t].restrictionsState.ipRestrictions)),Dm=()=>co((e=>e[$t].restrictionsState.emailDomainRestrictions));function*Rm(){yield io(ai.setEmailDomainRestrictionsState({loading:!0,error:null}));try{const e=yield ro(fu.auth.getDomainRestrictionsConfig),t=(yield ro(fu.auth.getDomainRestrictions)).items.filter((t=>t.type===e.listType));yield io(ai.setEmailDomainRestrictionsState({data:{restrictions:t,config:e},loading:!1}))}catch(e){yield io(ai.setEmailDomainRestrictionsState({error:e.message,loading:!1}))}}function*_m(e){let{payload:{callback:t}}=e,n=mi(e.payload,km);yield io(ai.setEmailDomainRestrictionsState({saving:!0,error:null}));const i=yield Dm();try{var o;yield ro(fu.auth.createDomainRestriction,n);const e=(yield ro(fu.auth.getDomainRestrictions)).items.filter((e=>{var t;return e.type===(null==(t=i.data)?void 0:t.config.listType)}));yield io(ai.setEmailDomainRestrictionsState({data:{config:(null==(o=i.data)?void 0:o.config)||{active:!1,blockPublicDomains:!1,listType:n.type},restrictions:e},saving:!1})),null==t||t(!0)}catch(e){yield io(ai.setEmailDomainRestrictionsState({saving:!1,error:e.message})),null==t||t(null,e)}}function*Um(e){let{payload:{callback:t}}=e,n=mi(e.payload,Tm);yield io(ai.setEmailDomainRestrictionsState({saving:!0,error:null}));try{const e=yield ro(fu.auth.updateDomainRestrictionConfig,n),i=(yield ro(fu.auth.getDomainRestrictions)).items.filter((t=>t.type===e.listType));yield io(ai.setEmailDomainRestrictionsState({data:{config:e,restrictions:i},saving:!1})),null==t||t(!0)}catch(e){yield io(ai.setEmailDomainRestrictionsState({saving:!1,error:e.message})),null==t||t(null,e)}}function*Mm({payload:{id:e}}){yield io(ai.setEmailDomainRestrictionsState({saving:!0,error:null}));const t=yield Dm();try{var n;yield ro(fu.auth.deleteDomainRestriction,e);const i=(yield ro(fu.auth.getDomainRestrictions)).items.filter((e=>{var n;return e.type===(null==(n=t.data)?void 0:n.config.listType)}));yield io(ai.setEmailDomainRestrictionsState({data:{config:(null==(n=t.data)?void 0:n.config)||{active:!1,blockPublicDomains:!1,listType:Hn.ALLOW},restrictions:i},saving:!1}))}catch(e){yield io(ai.setEmailDomainRestrictionsState({saving:!1,error:e.message}))}}const $m=e=>{var t,n,i;return{_filter:null!=(t=null==e?void 0:e._filter)?t:Hn.ALLOW,_limit:null!=(n=null==e?void 0:e._limit)?n:10,_offset:null!=(i=null==e?void 0:e._offset)?i:0}};function*Nm(){yield io(ai.setIpRestrictionsState({loading:!0,error:null}));try{const e=yield Cm(),t=yield ro(fu.auth.getIPRestrictionsConfig),n=$m({_filter:t.strategy,_limit:e.pagination._limit,_offset:e.pagination._offset}),{items:i,_metadata:{totalPages:o}}=yield ro(fu.auth.getIPRestrictions,n);yield io(ai.setIpRestrictionsState({data:{restrictions:i,config:t},totalPages:o,pagination:n,loading:!1}))}catch(e){yield io(ai.setIpRestrictionsState({error:e.message,loading:!1}))}}function*Fm(){try{const{valid:e}=yield ro(fu.auth.testCurrentIpInAllowList);yield io(ai.setIpRestrictionsState({userIpValid:e}))}catch(e){yield io(ai.setIpRestrictionsState({error:e.message}))}}function*xm({payload:{callback:e}}){yield io(ai.setIpRestrictionsState({saving:!0,error:null}));try{const t=yield co((e=>e[$t].userIp));yield oo([ro(fu.auth.createIPRestriction,{ip:t,isActive:!0,description:"My IP",strategy:Hn.ALLOW}),ro(fu.auth.updateIPRestrictionConfig,{isActive:!0})]);const n=yield Cm(),i=$m(n.pagination),{items:o,_metadata:{totalPages:a}}=yield ro(fu.auth.getIPRestrictions,i);yield io(ai.setIpRestrictionsState({data:{config:{isActive:!0,strategy:Hn.ALLOW},restrictions:o},userIpValid:!0,pagination:i,totalPages:a,saving:!1})),null==e||e(!0)}catch(t){yield io(ai.setIpRestrictionsState({saving:!1,error:t})),null==e||e(!1,t)}}function*Vm(e){let{payload:{callback:t}}=e,n=mi(e.payload,Pm);yield io(ai.setIpRestrictionsState({saving:!0,error:null}));const i=yield Cm();try{var o,a;yield ro(fu.auth.createIPRestriction,n);const e=yield Cm(),r=$m(e.pagination),{items:l,_metadata:{totalPages:s}}=yield ro(fu.auth.getIPRestrictions,r);yield Fm(),yield io(ai.setIpRestrictionsState({data:{config:null!=(o=null==(a=i.data)?void 0:a.config)?o:{isActive:!1,strategy:Hn.ALLOW},restrictions:l},pagination:r,totalPages:s,saving:!1})),null==t||t(!0)}catch(e){yield io(ai.setIpRestrictionsState({saving:!1,error:e.message})),null==t||t(null,e)}}function*jm(e){let{payload:{callback:t}}=e,n=mi(e.payload,Im);yield io(ai.setIpRestrictionsState({saving:!0,error:null}));try{yield ro(fu.auth.updateIPRestrictionConfig,n);const e=yield Cm(),i=yield ro(fu.auth.getIPRestrictionsConfig),o=$m(D({},e.pagination,{_filter:i.strategy})),{items:a,_metadata:{totalPages:r}}=yield ro(fu.auth.getIPRestrictions,o);yield Fm(),yield io(ai.setIpRestrictionsState({data:{config:i,restrictions:a},pagination:o,totalPages:r,saving:!1})),null==t||t(!0)}catch(e){yield io(ai.setIpRestrictionsState({saving:!1,error:e.message})),null==t||t(null,e)}}function*Wm({payload:{id:e,callback:t}}){yield io(ai.setIpRestrictionsState({saving:!0,error:null}));const n=yield Cm();try{var i;yield ro(fu.auth.deleteIPRestriction,e);const o=yield Cm(),a=$m(o.pagination),{items:r,_metadata:{totalPages:l}}=yield ro(fu.auth.getIPRestrictions,a);yield Fm(),yield io(ai.setIpRestrictionsState({data:{config:(null==(i=n.data)?void 0:i.config)||{isActive:!1,strategy:Hn.ALLOW},restrictions:r},pagination:a,totalPages:l,saving:!1})),null==t||t(!0)}catch(e){yield io(ai.setIpRestrictionsState({saving:!1,error:e.message})),null==t||t(null,e)}}function*Km(){yield oa(ai.loadIpRestrictions,Nm),yield oa(ai.loadEmailDomainRestrictions,Rm),yield na(ai.saveIpRestriction,Vm),yield na(ai.saveIpRestrictionsConfig,jm),yield na(ai.deleteIpRestriction,Wm),yield na(ai.checkIfUserIpValid,Fm),yield na(ai.addCurrentUserIpAndActivate,xm),yield na(ai.saveEmailDomainRestriction,_m),yield na(ai.saveEmailDomainRestrictionsConfig,Um),yield na(ai.deleteEmailDomainRestriction,Mm)}function*Gm(){yield io(ai.setIpRestrictionsState({loading:!0,error:null})),yield io(ai.setIpRestrictionsState({data:{restrictions:qu.filter((e=>e.strategy===Gu.strategy)),config:Gu},totalPages:1,pagination:{_filter:Hn.ALLOW,_limit:50,_offset:0},loading:!1}))}function*qm(){yield io(ai.setIpRestrictionsState({loading:!0,error:null}));try{const e=yield Cm(),t=qu[0].ip,n=!!e.data.restrictions.find((e=>e.isActive&&e.ip===t));yield io(ai.setIpRestrictionsState({userIpValid:n,loading:!1}))}catch(e){yield io(ai.setIpRestrictionsState({error:e.message,loading:!1}))}}function*Bm(e){var t,n,i;let{payload:{callback:o}}=e,a=mi(e.payload,Lm);yield io(ai.setIpRestrictionsState({saving:!0,error:null}));const r=yield Cm(),l=r.data.restrictions.filter((e=>e.ip!==a.ip));yield io(ai.setIpRestrictionsState({data:{config:null!=(t=null==(n=r.data)?void 0:n.config)?t:{isActive:!1,strategy:Hn.ALLOW},restrictions:[...l,D({},a,{createdAt:new Date,updatedAt:new Date,id:Qp(),isActive:null==(i=a.isActive)||i,strategy:r.data.config.strategy})]},totalPages:1,pagination:{_filter:Hn.ALLOW,_limit:50,_offset:0},saving:!1})),null==o||o(!0)}function*zm(e){var t,n,i;let{payload:{callback:o}}=e,a=mi(e.payload,Em);const r=yield Cm();yield io(ai.setIpRestrictionsState({saving:!0,error:null})),yield io(ai.setIpRestrictionsState({data:{config:D({},null==(t=r.data)?void 0:t.config,a),restrictions:null!=(n=null==(i=r.data)?void 0:i.restrictions)?n:[]},pagination:{_filter:Hn.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1})),yield io(ai.setIpRestrictionsState({saving:!1,error:null})),null==o||o(!0)}function*Hm({payload:{id:e,callback:t}}){var n;yield io(ai.setIpRestrictionsState({saving:!0,error:null}));const i=yield Cm();yield io(ai.setIpRestrictionsState({data:{config:(null==(n=i.data)?void 0:n.config)||{isActive:!1,strategy:Hn.ALLOW},restrictions:i.data.restrictions.filter((t=>t.id!==e))},pagination:{_filter:Hn.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1,error:null})),null==t||t(!0)}function*Jm(){yield io(ai.setEmailDomainRestrictionsState({loading:!0,error:null})),yield io(ai.setEmailDomainRestrictionsState({loading:!1,data:{restrictions:[{domain:"mock.com",id:"1",type:Hn.ALLOW}],config:{active:!0,listType:Hn.ALLOW,blockPublicDomains:!1}}}))}function*Ym(e){var t,n;let{payload:{callback:i}}=e,o=mi(e.payload,wm);const a=yield Dm();yield io(ai.setEmailDomainRestrictionsState({saving:!0,error:null})),yield Lt(),null==i||i(!0),yield io(ai.setEmailDomainRestrictionsState({data:{config:(null==(t=a.data)?void 0:t.config)||{active:!1,blockPublicDomains:!1,listType:o.type},restrictions:[...(null==(n=a.data)?void 0:n.restrictions)||[],D({},o,{id:Date.now().toString()})]},saving:!1}))}function*Qm(e){var t;let{payload:{callback:n}}=e,i=mi(e.payload,Om);const o=yield Dm();yield io(ai.setEmailDomainRestrictionsState({saving:!0,error:null})),yield Lt(),null==n||n(!0),yield io(ai.setEmailDomainRestrictionsState({data:{config:{active:i.active,blockPublicDomains:i.blockPublicDomains||!1,listType:i.type||Hn.ALLOW},restrictions:[...(null==(t=o.data)?void 0:t.restrictions)||[]]},saving:!1}))}function*Xm({payload:{id:e}}){var t,n;const i=yield Dm();yield io(ai.setEmailDomainRestrictionsState({saving:!0,error:null})),yield Lt(),yield io(ai.setEmailDomainRestrictionsState({data:{config:(null==(t=i.data)?void 0:t.config)||{active:!1,blockPublicDomains:!1,listType:Hn.ALLOW},restrictions:((null==(n=i.data)?void 0:n.restrictions)||[]).filter((t=>t.id===e))},saving:!1}))}function*Zm(){yield oa(ai.loadIpRestrictions,Gm),yield oa(ai.loadEmailDomainRestrictions,Jm),yield na(ai.saveIpRestriction,Bm),yield na(ai.saveIpRestrictionsConfig,zm),yield na(ai.deleteIpRestriction,Hm),yield na(ai.checkIfUserIpValid,qm),yield na(ai.saveEmailDomainRestriction,Ym),yield na(ai.saveEmailDomainRestrictionsConfig,Qm),yield na(ai.deleteEmailDomainRestriction,Xm)}const eh=["callback"],th=["id"];function*nh(e){const{count:t}=yield ro(fu.directory.countConfigurationUsers,e.id);return D({},e,{count:t})}function*ih(){yield io(ai.setProvisioningState({loading:!0,error:null}));try{const e=yield ro(fu.directory.getConfigs),t=yield oo(e.map((e=>nh(e))));yield io(ai.setProvisioningState({connections:t,loading:!1}))}catch(e){yield io(ai.setProvisioningState({error:e.message,loading:!1}))}}function*oh(e){let{payload:{callback:t}}=e,n=mi(e.payload,eh);yield io(ai.setProvisioningState({loading:!0,error:null}));try{const e=yield ro(fu.directory.createConfiguration,n),i=yield ro(fu.directory.getConfigs),o=yield oo(i.map((e=>nh(e))));yield io(ai.setProvisioningState({connections:o,loading:!1})),null==t||t(e)}catch(e){yield io(ai.setProvisioningState({error:e.message,loading:!1}))}}function*ah(e){let{payload:{id:t}}=e,n=mi(e.payload,th);yield io(ai.setProvisioningState({loading:!0,error:null}));try{yield ro(fu.directory.updateConfiguration,t,n);const e=yield ro(fu.directory.getConfigs),i=yield oo(e.map((e=>nh(e))));yield io(ai.setProvisioningState({connections:i,loading:!1}))}catch(e){yield io(ai.setProvisioningState({error:e.message,loading:!1}))}}function*rh({payload:{id:e,callback:t}}){yield io(ai.setProvisioningState({loading:!0,error:null}));try{yield ro(fu.directory.deleteConfiguration,e);const n=yield ro(fu.directory.getConfigs),i=yield oo(n.map((e=>nh(e))));yield io(ai.setProvisioningState({connections:i,loading:!1})),null==t||t(!0)}catch(e){yield io(ai.setProvisioningState({error:e.message,loading:!1})),null==t||t(!1,e)}}function*lh(){yield oa(ai.loadProvisionConnections,ih),yield na(ai.createProvisionConnection,oh),yield na(ai.deleteProvisionConnection,rh),yield na(ai.updateProvisionConnection,ah)}const sh={sagas:function*(){yield oo([ro(Hf),ro(jp),ro(Kp),ro(Rp),ro(im),ro(dg),ro(Mg),ro(jg),ro(mp),ro(WS),ro(sv),ro(Zu),ro(mv),ro(Iy),ro(wv),ro($v),ro(Yv),ro(cm),ro(mm),ro(Km),ro(lh)])},mockSagas:function*(){yield oo([ro(Qf),ro(vg),ro(qg),ro(Ep),ro(tv),ro(Iv),ro($y),ro(fm),ro(Dv),ro(Fv),ro(Am),ro(Zm)])},storeName:$t,initialState:ni,reducer:ii,actions:ai},ch=e=>({prepare:e=>({payload:e}),reducer:(t,{payload:n})=>D({},t,{[e]:D({},t[e],n)})}),dh={loading:!0,pageOffset:0,pageSize:20,logs:[],sort:[],filter:[],totalPages:0,isDownloadingCsv:!1},uh={setAuditLogsState:ch("auditLogsState"),resetAuditLogsState:e=>D({},e,{auditLogsState:dh})},yh={exportAuditsCsv:yt(`${Ft}/exportAuditsCsv`),loadAuditLogs:yt(`${Ft}/loadAuditLogs`,(e=>({payload:e})))},fh={loading:!0},gh={setAuditsMetadataState:ch("auditsMetadataState"),resetAuditsMetadataState:e=>D({},e,{auditsMetadataState:fh})},ph={loadAuditsMetadata:yt(`${Ft}/loadAuditsMetadata`)},Sh={auditLogsState:dh,auditsMetadataState:fh},{reducer:vh,actions:mh}=gt({name:Ft,initialState:Sh,reducers:D({resetState:e=>D({},e,Sh),setState:(e,{payload:t})=>D({},e,t)},uh,gh)}),hh=D({},mh,yh,ph),bh=e=>"createdAt"!==e.id,Ah={total:20,data:Array.from(Array(5).keys()).map((e=>D({ip:"198.143.51.1",user:"Demo User Name",email:"demo-user@frontegg.com"},(()=>{switch(Math.floor(6*Math.random())){case 0:return{action:"Updated profile",description:"User updated profile details",severity:"Info"};case 1:return{action:"User logged in",severity:"Info",description:"User logged in to the product"};case 2:return{action:"User failed to login",severity:"High",description:"User failed to login with password"};case 3:return{action:"Added user",severity:"Info",description:"Added user david+535@frontegg.com to tenant"};case 4:return{action:"Assigned roles",severity:"Info",description:"Assigned 0 roles for user"};case 5:return{action:"Removed user david+108@frontegg.com from account",severity:"Info",description:"Removed access from the account for user david+108@frontegg.com"}}})(),{json:{key1:"value1",key2:"value2",key3:"value3",key4:"value4"},tenantId:"my-tenant-id",vendorId:"my-vendor-id",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36",createdAt:`2022-04-07 10:${50-e}:40.201`})))},kh={properties:[{showInTable:!0,name:"createdAt",displayName:"Time",type:"Timestamp",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!1},{showInTable:!0,name:"email",displayName:"User",type:"Email",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"action",displayName:"Action",type:"AlphaNumeric",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!0,name:"description",type:"AlphaNumeric",sortable:!1,filterable:!1,displayName:"Description",isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"ip",displayName:"IP Address",type:"IpAddress",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"severity",displayName:"Severity",type:"Severity",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"userAgent",displayName:"User Agent",type:"AlphaNumeric",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!1,name:"json",type:"Json",sortable:!0,filterable:!0,displayName:"Json Data",showInMoreInfo:"Always",isPredefined:!1}]},Th=()=>co((e=>e[Ft].auditLogsState)),Ph=()=>co((e=>e[Ft].auditsMetadataState));function*Ih(){const e=yield Th(),{columns:t}=yield Ph();try{const n=e.filter,i=e.sort.reduce(((e,t)=>D({},e,{sortBy:t.id,sortDirection:t.desc?"desc":"asc"})),{}),o=n.reduce(((e,t)=>D({},e,{[t.id]:t.value})),{});yield io(hh.setAuditLogsState({isDownloadingCsv:!0}));const a="audits.csv";yield fu.audits.exportAudits(D({endpoint:"csv/v2",headerProps:t,offset:0,outputFileName:a},i,o))}catch(e){console.error("failed to export audits - ",e)}yield io(hh.setAuditLogsState({isDownloadingCsv:!1}))}function*Lh({payload:e}){yield io(hh.setAuditLogsState({loading:!(null!=e&&e.silentLoading),error:null}));const t=yield Th(),{columns:n}=yield Ph();try{var i,o,a,r,l;const s=null!=(i=e.pageSize)?i:t.pageSize,c=null!=(o=e.pageOffset)?o:t.pageOffset,d=null!=(a=e.filter)?a:t.filter,u=null!=(r=e.sort)?r:t.sort;yield io(hh.setAuditLogsState({pageSize:s,pageOffset:c,filter:d,sort:u}));const y=u.reduce(((e,t)=>D({},e,{sortBy:t.id,sortDirection:t.desc?"desc":"asc"})),{}),f=d.reduce(((e,t)=>D({},e,{[t.id]:t.value})),{});n||(yield io(hh.loadAuditsMetadata()));const{data:g,total:p}=yield ro(fu.audits.getAudits,D({offset:c,count:s},y,f));yield io(hh.setAuditLogsState({loading:!1,logs:null!=g?g:[],totalPages:+Math.ceil(p/s)})),null==e||null==(l=e.callback)||l.call(e,!0)}catch(t){var s;yield io(hh.setAuditLogsState({loading:!1,error:t.message})),null==e||null==(s=e.callback)||s.call(e,null,t)}}function*Eh(){yield na(hh.exportAuditsCsv,Ih),yield na(hh.loadAuditLogs,Lh)}function*wh({payload:e}){yield io(hh.setAuditLogsState({loading:!(null!=e&&e.silentLoading),error:null}));const t=yield Th(),{columns:n}=yield Ph();try{var i,o,a,r,l;const s=null!=(i=e.pageSize)?i:t.pageSize,c=null!=(o=e.pageOffset)?o:t.pageOffset,d=null!=(a=e.filter)?a:t.filter,u=null!=(r=e.sort)?r:t.sort;yield io(hh.setAuditLogsState({pageSize:s,pageOffset:c,filter:d,sort:u})),n||(yield io(hh.loadAuditsMetadata()));const{data:y,total:f}=((e,t)=>{const{data:n}=Ah;let i=n.filter((e=>t=>e.filter(bh).every((e=>t[e.id].includes(e.value))))(e));if(t.length){const{id:e,desc:n=!1}=t[0];i=i.sort(((e,t)=>(n,i)=>n[e]>i[e]?t?-1:1:i[e]>n[e]?t?1:-1:0)(e,n))}return{data:i,total:i.length}})(d,u);yield io(hh.setAuditLogsState({loading:!1,logs:null!=y?y:[],totalPages:+Math.ceil(f/s)})),null==e||null==(l=e.callback)||l.call(e,!0)}catch(t){var s;yield io(hh.setAuditLogsState({loading:!1,error:t.message})),null==e||null==(s=e.callback)||s.call(e,null,t)}}function*Oh(){yield na(hh.loadAuditLogs,wh)}function*Ch(){yield io(hh.setAuditsMetadataState({loading:!0,error:null}));try{const{properties:e}=yield ro(fu.metadata.getAuditsMetadata);yield io(hh.setAuditsMetadataState({columns:e,loading:!1}))}catch(e){yield io(hh.setAuditsMetadataState({error:e,loading:!1}))}}function*Dh(){yield na(hh.loadAuditsMetadata,Ch)}function*Rh(){yield io(hh.setAuditsMetadataState({loading:!0,error:null}));try{const{properties:e}=kh;yield io(hh.setAuditsMetadataState({columns:e,loading:!1}))}catch(e){yield io(hh.setAuditsMetadataState({error:e,loading:!1}))}}function*_h(){yield na(hh.loadAuditsMetadata,Rh)}const Uh={sagas:function*(){yield oo([ro(Eh),ro(Dh)])},mockSagas:function*(){yield oo([ro(Oh),ro(_h)])},storeName:Ft,initialState:Sh,reducer:vh,actions:hh},Mh={total:0,offset:0,filter:"",sortBy:"createdAt",context:null,filters:[],rowsData:[],lastUpdated:new Date,isLoading:!0,isFetchMore:!1,totalToday:0,currentPage:0,headerProps:[],sortDirection:"desc",severeThisWeek:0,predefinedFilters:[],isDownloadingCsv:!1,virtualScroll:!1},{name:$h,actions:Nh,reducer:Fh}=gt({name:"audits",initialState:Mh,reducers:{setContext:(e,{payload:t})=>{e.context=t},startLoading:e=>{e.isLoading=!0},setVirtualScroll:(e,{payload:t})=>{e.virtualScroll=t},startRefresh:e=>{e.isLoading=!0},startFetching:e=>{e.isFetchMore=!0},finishLoading:e=>{e.isLoading=!1},startDownloadingCsv:e=>{e.isDownloadingCsv=!0},stopDownloadingCsv:e=>{e.isDownloadingCsv=!1},loadStatsSuccess:(e,{payload:t})=>{e.error=void 0,e.totalToday=t.totalToday,e.severeThisWeek=t.severeThisWeek},loadItemFailedAction:(e,{payload:t})=>{e.error=D({},e.error,{[t.name]:t.error})},loadMetadataSuccess:(e,{payload:t})=>{e.error={},e.headerProps=t.properties,e.themeAudits=t.theme?t.theme.styles:{}},loadAuditsSuccess:(e,{payload:t})=>{e.error={},e.rowsData=t.rowsData,e.lastUpdated=new Date,e.total=t.total},fetchMoreSuccess:(e,{payload:t})=>{e.error={},e.offset=t.offset,e.currentPage=t.currentPage,e.isFetchMore=!1},setFilterData:(e,{payload:t})=>{e.filters=t,e.currentPage=0,e.offset=0,e.isLoading=!0},textSearch:(e,{payload:t})=>{e.filter=t,e.currentPage=0,e.offset=0,e.isLoading=!0},onPageChange:(e,{payload:t})=>{e.currentPage=t-1,e.offset=20*e.currentPage,e.isLoading=!0},setDataSorting:(e,{payload:t})=>{e.sortBy=t.sortBy,e.currentPage=0,e.sortDirection="asc"===t.sortDirection?"desc":"asc",e.offset=0,e.isLoading=!0},setPredefinedFilters:(e,{payload:t})=>{e.predefinedFilters=t,e.filters=Object.keys(t).map((e=>({key:e,value:t[e]})))}}}),xh=D({},Nh,{initData:yt(`${$h}/initData`),loadAudits:yt(`${$h}/loadAudits`),removeFilter:yt(`${$h}/removeFilter`),filterData:yt(`${$h}/filterData`),exportCSV:yt(`${$h}/exportCSV`),deleteAudits:yt(`${$h}/deleteAudits`)}),Vh=()=>co((e=>e[$h]));function*jh(){const{sortBy:e,sortDirection:t}=yield Vh();try{const n=yield ro(fu.audits.getAuditsStats,{sortBy:e,sortDirection:t,count:20});yield io(xh.loadStatsSuccess(n))}catch(e){const t={name:"stats",error:e};console.error("failed to load stats - ",e),yield io(xh.loadItemFailedAction(t))}}function*Wh(){try{const e=yield ro(fu.metadata.getAuditsMetadata);yield io(xh.loadMetadataSuccess(e))}catch(e){const t={name:"metadata",error:e};console.error("failed to load metadata - ",e),yield io(xh.loadItemFailedAction(t))}}const Kh=e=>e.reduce(((e,t)=>(e[t.key]=t.value,e)),{});function*Gh({payload:e}){const{filters:t,sortBy:n,sortDirection:i,filter:o,offset:a,virtualScroll:r}=yield Vh(),{appendMode:l=r,onlyOneLoad:s=!0,offset:c}=e||{},{rowsData:d}=l?yield Vh():{rowsData:[]};try{const e=Kh(t),{data:l,total:u}=yield ro(fu.audits.getAudits,D({},r&&{paginationMode:"virtual"},{sortDirection:i,sortBy:n,filter:o},e,{offset:r?d.length+c||d.length+a:c||a,count:20}));yield io(xh.loadAuditsSuccess({rowsData:[...d,...l],total:u})),s&&(yield io(xh.finishLoading()))}catch(e){const t={name:"audits",error:e};console.error("failed to load audits - ",e),yield io(xh.loadItemFailedAction(t))}}function*qh(){yield io(xh.startLoading()),yield oo([jh(),Wh(),Gh({payload:{onlyOneLoad:!1},type:""})]),yield io(xh.finishLoading())}function*Bh({payload:e}){const{filters:t}=yield Vh(),n=t.findIndex((t=>t.key===e.key));if(n<0)return;const i=[...t.slice(0,n),...t.slice(n+1)];yield io(xh.setFilterData(i))}function*zh({payload:e}){const{filters:t}=yield Vh();let n=t.findIndex((t=>t.key===e.key));n<0&&(n=t.length);const i=[...t.slice(0,n),e,...t.slice(n+1)];yield io(xh.setFilterData(i))}function*Hh(){const{filters:e,sortBy:t,sortDirection:n,filter:i,headerProps:o}=yield Vh(),a=Kh(e);yield io(xh.startDownloadingCsv());try{yield fu.audits.exportAudits(D({endpoint:"csv/v2",headerProps:o,sortDirection:n,sortBy:t,filter:i},a,{offset:0,outputFileName:"audits.csv"}))}catch(e){console.error("failed to export audits - ",e)}finally{yield io(xh.stopDownloadingCsv())}}function*Jh(){yield ia(xh.initData,qh),yield ia(xh.removeFilter,Bh),yield ia(xh.filterData,zh),yield ia([xh.loadAudits,xh.textSearch,xh.onPageChange],Gh),yield ia([xh.setFilterData,xh.setDataSorting,xh.startRefresh],(()=>Gh({payload:{appendMode:!1},type:""}))),yield ia(xh.exportCSV,Hh)}const Yh={isLoading:!1,isSaving:!1,list:[],processIds:[],slackChannels:{isLoading:!1}},Qh={initData:()=>D({},Yh),setConnectivityState:(e,{payload:t})=>D({},e,t),cleanWebhookTestData:e=>D({},e,{testResult:void 0}),cleanWebhookLogsData:e=>D({},e,{webhookLogs:void 0}),cleanWebhookTestMessage:e=>{var t;return D({},e,{testResult:{status:null==(t=e.testResult)?void 0:t.status,message:void 0}})},cleanError:e=>D({},e,{error:void 0}),cleanSlackData:e=>D({},e,{slackChannels:{isLoading:!1}}),postWebhookRetryAction:{prepare:e=>({payload:e}),reducer:(e,{payload:t})=>D({},e,{retryResult:D({},e.retryResult,{[t]:{isProcess:!0,success:!1}})})},postWebhookRetryResult:{prepare:e=>({payload:e}),reducer:(e,{payload:t})=>D({},e,{retryResult:D({},e.retryResult,t)})}},Xh={loadSlackActions:yt(`${Nt}/loadSlackActions`),loadDataAction:yt(`${Nt}/loadDataAction`,(e=>({payload:e}))),postDataAction:yt(`${Nt}/postDataAction`,(e=>({payload:e}))),postCodeAction:yt(`${Nt}/postCodeAction`,(e=>({payload:e}))),loadScope:yt(`${Nt}/loadScope`),deleteWebhookConfigAction:yt(`${Nt}/deleteWebhookConfigAction`,(e=>({payload:e}))),postWebhookTestAction:yt(`${Nt}/postWebhookTestAction`,(e=>({payload:e}))),loadWebhookLogsAction:yt(`${Nt}/loadWebhookLogsAction`,((e,t=0,n=10)=>({payload:{id:e,offset:t,limit:n}})))},Zh={isLoading:!1,isSaving:!1,list:[],processIds:[],slackChannels:{isLoading:!1}},{reducer:eb,actions:tb}=gt({name:Nt,initialState:Zh,reducers:D({},Qh)}),nb=D({},tb,Xh),ib={slack:fu.connectivity.getSlackConfiguration,email:fu.connectivity.getEmailConfiguration,sms:fu.connectivity.getSMSConfiguration,webhook:fu.connectivity.getWebhooksConfigurations,categories:fu.connectivity.getCategories,channelMap:fu.connectivity.getChannelMaps},ob={slack:fu.connectivity.postSlackConfiguration,email:fu.connectivity.postEmailConfiguration,sms:fu.connectivity.postSMSConfiguration,webhook:fu.connectivity.postWebhooksConfiguration},ab=["email","slack","sms","webhook"],rb={sms:{title:"connectivity.sms",events:e=>(null==e?void 0:e.length)||0,isActive:e=>{var t;return null!=(t=null==e?void 0:e.some((({enabled:e})=>e)))&&t},image:"sms"},email:{title:"common.email",events:e=>(null==e?void 0:e.length)||0,isActive:e=>{var t;return null!=(t=null==e?void 0:e.some((({enabled:e})=>e)))&&t},image:"email"},slack:{title:"connectivity.slack",events:e=>{var t;return(null==e||null==(t=e.slackSubscriptions)?void 0:t.length)||0},isActive:e=>{var t;return null!=(t=!(null==e||!e.slackSubscriptions.some((({isActive:e})=>e))))&&t},image:"slack"},webhook:{title:"connectivity.webhook",events:e=>(null==e?void 0:e.length)||0,isActive:e=>{var t;return null!=(t=null==e?void 0:e.some((({isActive:e})=>e)))&&t},image:"webhook"}},lb=["id"],sb=["id","enabled"],cb=["categories","channelMap"];function*db(e){return yield ro(yb,{payload:{api:e},type:""})}function*ub({payload:e=ab}){yield io(nb.setConnectivityState({isLoading:!0}));try{const t=yield oo([...e.map(db),yield yb({payload:{api:"categories"},type:""}),yield function*(){return(yield oo(e.map((function*(e){return yield yb({payload:{api:"channelMap",params:e},type:""})})))).reduce(((t,n,i)=>D({},t,{[`${e[i]}`]:n})),{})}()]),n=yield yb({payload:{api:"webhook"},type:""}),i=t.reduce(((n,i,o)=>e[o]?t[t.length-1][e[o]].length?D({},n,{[`${e[o]}`]:i,list:[...n.list,{id:o,key:e[o],events:rb[e[o]].events(i),active:rb[e[o]].isActive(i),platform:rb[e[o]].title,image:rb[e[o]].image}]}):n:D({},n,{[`${cb[o-e.length]}`]:i})),{list:[],webhook:n});yield io(nb.setConnectivityState(D({},i,{error:void 0,isSaving:!1,isLoading:!1})))}catch(e){yield io(nb.setConnectivityState({isLoading:!1}))}}function*yb({payload:{api:e,params:t}}){try{return yield ro(ib[e],t)}catch(e){return}}function*fb(){try{yield io(nb.setConnectivityState({slackChannels:{isLoading:!0}}));const e=yield ro(fu.connectivity.getSlackChannels);yield io(nb.setConnectivityState({error:void 0,slackChannels:{isLoading:!1,data:e}}))}catch(e){yield io(nb.setConnectivityState({error:void 0,slackChannels:{isLoading:!1}}))}}function*gb(e,t){const{connectivity:{list:n}}=yield co(),i=n.find((({key:t})=>t===e));if(!i)return;const o=rb[e].isActive(t);o!==i.active&&(yield io(nb.setConnectivityState({list:n.map((t=>t.key===e?D({},t,{active:o}):t))})))}function*pb({payload:{platform:e,data:t,callback:n}}){const{processIds:i}=yield co((e=>e.connectivity));try{if(yield io(nb.setConnectivityState({isSaving:!0,processIds:"webhook"===e?[t._id,...i]:i})),"slack"===e?yield function*({payload:e}){const{connectivity:{slack:t}}=yield co();if(!t)return;const{slackSubscriptions:n}=t,{slackSubscriptions:i}=e;yield oo([...i.reduce(((e,t)=>{var i,o;return!t.id&&t.slackEvents&&null!=(i=t.slackEvents[0].channelIds)&&i.length||(null==n?void 0:n.find((e=>{let{id:n}=e,i=mi(e,lb);return n===t.id&&JSON.stringify(D({id:n},i))!==JSON.stringify(t)})))&&t.slackEvents&&null!=(o=t.slackEvents[0].channelIds)&&o.length?[...e,t]:e}),[]).map((function*(e){return yield ro(ob.slack,e)})),...i.reduce(((e,t)=>t.id&&!t.slackEvents[0].channelIds.length?[...e,t]:e),[]).map((function*(e){return yield ro(fu.connectivity.deleteSlackConfiguration,e)}))])}({payload:t,type:""}):["sms","email"].includes(e)?yield function*({payload:e,type:t}){const{connectivity:n}=yield co(),{processIds:i}=yield co((e=>e.connectivity)),o=n[t];if(!o)return;let a=[];try{a=yield oo([...e.reduce(((e,t)=>!o.find((({eventKey:e})=>e===t.eventKey))&&t.subscriptions[0].recipients.filter((e=>e)).length?[...e,t]:e),[]).map((function*(e){return yield ro("email"===t?fu.connectivity.postEmailConfiguration:fu.connectivity.postSMSConfiguration,e)})),...e.reduce(((e,t)=>{const n=o.find((({eventKey:e})=>e===t.eventKey));return n&&JSON.stringify(n)!==JSON.stringify(t)?[...e,t]:e}),[]).map((function*(e){const{subscriptions:n,eventKey:i}=e,o=n[0],{id:a="",enabled:r}=o,l=mi(o,sb);return yield oo([yield ro("email"===t?fu.connectivity.patchEmailConfiguration:fu.connectivity.patchSMSConfiguration,{eventKey:i,enabled:r}),yield ro("email"===t?fu.connectivity.putEmailSubscriptions:fu.connectivity.putSMSSubscriptions,a,i,D({},l,{enabled:r}))])})),...e.reduce(((e,t)=>{const n=o.find((({eventKey:e})=>e===t.eventKey));return n&&n.subscriptions[0].recipients.length&&!t.subscriptions[0].recipients.filter((e=>!!e)).length?[...e,t]:e}),[]).map((function*({eventKey:e,subscriptions:n}){return ro("email"===t?fu.connectivity.deleteEmailSubscriptions:fu.connectivity.deleteSMSSubscriptions,e,n[0].id||"")}))])}catch{}if(a.length){const e=yield yb({payload:{api:t},type:""});yield io(nb.setConnectivityState({error:void 0,isSaving:!1,[`${t}`]:e,processIds:e.id?i.filter((t=>t!==e.id)):i})),yield gb(t,e)}else yield io(nb.setConnectivityState({error:void 0,isSaving:!1,[`${t}`]:o,processIds:i}))}({payload:t,type:e}):yield ro(ob[e],t),!["sms","email"].includes(e)){const o=yield yb({payload:{api:e},type:""});"webhook"===e&&(o.id=t._id),yield io(nb.setConnectivityState({error:void 0,isSaving:!1,[`${e}`]:o,processIds:o.id?i.filter((e=>e!==o.id)):i})),yield gb(e,o),null==n||n(!0)}}catch(e){var o;yield io(nb.setConnectivityState({error:null!=(o=e.message)?o:e.toString(),isSaving:!1,isLoading:!1}))}}function*Sb({payload:e}){try{yield fu.connectivity.postSlackCode(e)}catch{}yield io(nb.setConnectivityState({error:void 0,isSaving:!1}))}function*vb(){const{slackChannels:e}=yield co((e=>e.connectivity));try{yield io(nb.setConnectivityState({slackChannels:D({},e,{isLoadingScope:!0})}));const{clientId:t}=yield ro(fu.connectivity.getSlackScope);yield io(nb.setConnectivityState({slackChannels:{error:void 0,clientId:t,isLoadingScope:!1,isLoading:!1}}))}catch{yield io(nb.setConnectivityState({slackChannels:{error:void 0,isLoadingScope:!1,isLoading:!1}}))}}function*mb({payload:e}){const{callback:t,webhookId:n}=e,{processIds:i}=yield co((e=>e.connectivity));try{yield io(nb.setConnectivityState({isSaving:!0})),yield ro(fu.connectivity.deleteWebhooksConfiguration,n)}catch(e){null==t||t(null,e.message)}const o=yield yb({payload:{api:"webhook"},type:""});o&&(yield io(nb.setConnectivityState({error:void 0,isSaving:!1,webhook:o,processIds:o.id?i.filter((e=>e!==o.id)):i}))),null==t||t(!0)}function*hb({payload:e}){try{yield io(nb.setConnectivityState({isTesting:!0}));const{statusCode:t,body:n}=yield ro(fu.connectivity.postWebhookTest,e);if([201,200].includes(t)){const e=JSON.stringify(n,null,2);yield io(nb.setConnectivityState({isTesting:!1,testResult:{status:"success",message:e}}))}else yield io(nb.setConnectivityState({isTesting:!1,testResult:{status:"failed"}}))}catch(e){yield io(nb.setConnectivityState({isTesting:!1,testResult:{status:"failed",message:e.toString()}}))}}function*bb({payload:e}){try{const{statusCode:t}=yield ro(fu.connectivity.postWebhookRetry,e);yield io(nb.postWebhookRetryResult({[e]:{isProcess:!1,success:202===t}}))}catch(t){yield io(nb.postWebhookRetryResult({[e]:{isProcess:!1,success:!1}}))}}function*Ab({payload:{id:e,limit:t,offset:n}}){const{webhookLogs:i}=yield co((e=>e.connectivity));try{yield io(nb.setConnectivityState({webhookLogs:D({},i,{isLoading:!0})}));const o=yield ro(fu.connectivity.getWebhookLog,e,n,t);yield io(nb.setConnectivityState({error:void 0,webhookLogs:D({isLoading:!1},o)}))}catch(e){yield io(nb.setConnectivityState({error:void 0,webhookLogs:{isLoading:!1}}))}}const kb={sagas:function*(){yield na(nb.loadDataAction,ub),yield ia(nb.loadSlackActions,fb),yield na(nb.postDataAction,pb),yield na(nb.postCodeAction,Sb),yield na(nb.loadScope,vb),yield na(nb.deleteWebhookConfigAction,mb),yield na(nb.postWebhookTestAction,hb),yield na(nb.postWebhookRetryAction,bb),yield ia(nb.loadWebhookLogsAction,Ab)},storeName:Nt,initialState:Zh,reducer:eb,actions:nb};function Tb(){return{setLoading:{prepare:e=>({payload:e}),reducer:(e,t)=>D({},e,{loading:t.payload},t.payload?{error:null}:{})},setError:{prepare:e=>({payload:e}),reducer:(e,t)=>D({},e,{error:t.payload,loading:!1,fetching:!1})},setState:{prepare:e=>({payload:e}),reducer:(e,t)=>D({},e,t.payload)}}}function Pb(e,t){return{prepare:e=>({payload:e}),reducer:(n,i)=>D({},n,{[e]:t(n[e],i)})}}function Ib(e){return Pb(e,((e,t)=>D({},e,{loading:t.payload})))}function Lb(e){return Pb(e,((e,t)=>D({},e,{error:t.payload,loading:!1})))}const Eb={loading:!1,error:null,fetching:!0,plans:[]},{actions:wb,reducer:Ob,name:Cb}=gt({name:`${xt}/plans`,initialState:Eb,reducers:D({},Tb())}),Db=D({loadPlans:yt(`${Cb}/loadPlans`)},wb),Rb={loading:!1,error:null,fetching:!0,config:null},_b=D({},Tb()),{actions:Ub,reducer:Mb,name:$b}=gt({name:`${xt}/config`,initialState:Rb,reducers:_b}),Nb=D({loadPaymentConfiguration:yt(`${$b}/loadPaymentConfiguration`)},Ub),Fb={loading:!1,error:null,fetching:!0,cancellation:{loading:!1,error:null},renewal:{loading:!1,error:null}},xb=D({},Tb(),{setCancellationLoading:Ib("cancellation"),setCancellationError:Lb("cancellation"),setRenewalLoading:Ib("renewal"),setRenewalError:Lb("renewal")}),{reducer:Vb,actions:jb,name:Wb}=gt({name:`${xt}/billing/subscription`,initialState:Fb,reducers:xb}),Kb=D({load:yt(`${Wb}/loadSubscription`),cancelSubscription:yt(`${Wb}/cancelSubscription`),renewSubscription:yt(`${Wb}/renewSubscription`)},jb),Gb={loading:!1,error:null,fetching:!0},qb=D({},Tb()),{reducer:Bb,actions:zb,name:Hb}=gt({name:`${xt}/billing/information`,initialState:Gb,reducers:qb}),Jb=D({loadBillingInformation:yt(`${Hb}/loadBillingInformation`),cancelSubscription:Kb.cancelSubscription,renewSubscription:Kb.renewSubscription},zb),Yb={loading:!1,error:null,fetching:!0},Qb=D({},Tb(),{setState:{prepare:e=>({payload:e}),reducer:(e,t)=>D({},e,t.payload)}}),{reducer:Xb,actions:Zb,name:eA}=gt({name:`${xt}/billing/payment`,initialState:Yb,reducers:Qb}),tA=D({loadPaymentMethod:yt(`${eA}/loadPaymentMethod`),submitPaymentMethod:yt(`${eA}/submitPaymentMethod`),submitPaymentMethodError:yt(`${eA}/submitPaymentMethodError`),submitPaymentMethodSuccess:yt(`${eA}/submitPaymentMethodSuccess`),updatePaymentMethodBillingDetails:yt(`${eA}/updateBillingDetails`,(e=>({payload:e})))},Zb),nA={loading:!1,error:null,fetching:!0,invoices:[],invoiceDownload:{loading:!1,error:null}},iA=D({},Tb(),{setInvoiceDownloadState:{prepare:e=>({payload:e}),reducer:(e,t)=>D({},e,{invoiceDownload:D({},e.invoiceDownload,t.payload)})}}),{reducer:oA,actions:aA,name:rA}=gt({name:`${xt}/billing/invoices`,initialState:nA,reducers:iA}),lA=D({loadInvoices:yt(`${rA}/loadInvoices`),downloadInvoice:yt(`${rA}/downloadInvoice`,(e=>({payload:e})))},aA),sA={information:Gb,invoices:nA,paymentMethod:Yb,subscription:Fb},cA={invoices:lA,information:Jb,paymentMethod:tA,subscription:Kb},dA=Ke({invoices:oA,information:Bb,paymentMethod:Xb,subscription:Vb}),uA={fetching:!0,loading:!1,error:null,confirmed:!1},yA=D({},Tb()),{actions:fA,reducer:gA,name:pA}=gt({name:`${xt}/checkout`,initialState:uA,reducers:yA}),SA=D({loadCheckout:yt(`${pA}/loadCheckout`),resetCheckout:yt(`${pA}/resetCheckout`),submitCheckout:yt(`${pA}/submitCheckout`),confirmCheckout:yt(`${pA}/confirmCheckout`,(e=>({payload:e}))),errorCheckout:yt(`${pA}/errorCheckout`,(e=>({payload:e})))},fA),vA={loading:!1,error:null,cardSetupIntentSecret:null},mA=D({},Tb()),{reducer:hA,actions:bA,name:AA}=gt({name:`${xt}/stripe`,initialState:vA,reducers:mA}),kA=D({loadCustomer:yt(`${AA}/loadCustomer`),createCardSetupIntentSecret:yt(`${AA}/createCardSetupIntentSecret`)},bA),TA={loading:!1,fetching:!0,vendorPublicConfig:null},{actions:PA,reducer:IA,name:LA}=gt({name:`${xt}/vendorPublicConfig`,initialState:TA,reducers:D({},Tb())}),EA=D({loadVendorPublicConfiguration:yt(`${LA}/loadVendorPublicConfiguration`)},PA),wA={config:Rb,plans:Eb,checkout:uA,billing:sA,stripe:vA,vendorPublicConfig:TA},OA={config:Nb,billing:cA,plans:Db,checkout:SA,stripe:kA,vendorPublicConfig:EA},CA=Ke({config:Mb,billing:dA,plans:Ob,checkout:gA,stripe:hA,vendorPublicConfig:IA});let DA,RA,_A;function UA({policy:e}){return{policy:_A.AT_PERIOD_END}}function MA(e){switch(e){case Nd.ACTIVE:return RA.ACTIVE;case Nd.INCOMPLETE:return RA.INCOMPLETE;case Nd.CANCELED:return RA.CANCELED;case Nd.EXPIRED:return RA.EXPIRED;case Nd.TRIALING:return RA.TRIALING;default:return RA.EXPIRED}}!function(e){e.STRIPE="Stripe"}(DA||(DA={})),function(e){e.ACTIVE="ACTIVE",e.CANCELED="CANCELED",e.INCOMPLETE="INCOMPLETE",e.EXPIRED="EXPIRED",e.TRIALING="TRIALING"}(RA||(RA={})),function(e){e.AT_PERIOD_END="atPeriodEnd"}(_A||(_A={}));const $A={id:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",externalId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",startDate:"2021-09-20T08:08:51.000Z",status:Nd.ACTIVE,externallyManaged:!1,cancellation:null,currentPeriodStart:"2021-09-20T08:08:51.000Z",currentPeriodEnd:"2021-10-20T08:08:51.000Z",plan:{slug:"test"}},NA=[{id:"prod_J60fUEvI7qV1eL",externalId:"prod_J60fUEvI7qV1eL",name:"Premium",description:"",price:{id:"price_1IToe8Ewsu4qiqnndAV76J69",externalId:"price_1IToe8Ewsu4qiqnndAV76J69",currency:"usd",amount:1e4},slug:"premium"},{id:"prod_J60duauCpXfcur",externalId:"prod_J60duauCpXfcur",name:"Free",description:"Totally free plan. Nothing to pay.",price:{id:"price_1ITocfEwsu4qiqnnnBHDx9fQ",externalId:"price_1ITocfEwsu4qiqnnnBHDx9fQ",currency:"usd",amount:0},slug:"free"}],FA=[{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-09-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""},{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-08-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""}],xA=[{id:"id",externalId:"externalId",type:Fd.CARD,isDefault:!0,last4:"4242",expMonth:11,expYear:25,brand:"visa",billingDetails:{name:"Dummy",email:"dummy@email.com"}}],VA={allowPlanDowngrade:!0,allowPlanCancellation:!0};function*jA(){yield na(Kb.load,WA),yield na(Kb.cancelSubscription,GA),yield na(Kb.renewSubscription,qA)}function*WA(){const e=yield co((e=>{var t,n;return null==(t=e.auth)||null==(n=t.user)?void 0:n.tenantId}));yield YA(e)}function*KA(){yield io(Kb.setLoading(!0));try{const[e]=yield ro(fu.subscriptions.getManagedSubscriptions);yield io(Kb.setState({subscription:e,fetching:!1,loading:!1,error:null}))}catch(e){yield io(Kb.setError(e))}}function*GA(){const{subscription:e}=yield co((e=>e.subscriptions.billing.subscription));if(!e)return void(yield io(Kb.setCancellationError("Subscription not found.")));if(null!=e&&e.externallyManaged)return void(yield io(Kb.setCancellationError("Billing is externally managed.")));const{id:t,cancellation:n,status:i}=e||{};if(!n&&i===Nd.ACTIVE)try{yield io(Kb.setCancellationLoading(!0)),yield ro(fu.subscriptions.cancelManagedSubscription,t),yield KA(),yield io(Kb.setCancellationLoading(!1))}catch(e){yield io(Kb.setCancellationError(e.message))}}function*qA(){const{subscription:e}=yield co((e=>e.subscriptions.billing.subscription));if(!e)return void(yield io(Kb.setCancellationError("Subscription not found.")));if(null!=e&&e.externallyManaged)return void(yield io(Kb.setCancellationError("Billing is externally managed")));const{id:t,cancellation:n}=e||{};if((null==n?void 0:n.policy)===xd.AT_PERIOD_END)try{yield io(Kb.setRenewalLoading(!0)),yield ro(fu.subscriptions.renewManagedSubscription,t),yield KA(),yield io(Kb.setRenewalLoading(!1))}catch(e){yield io(Kb.setCancellationError(e.message))}}function*BA(){yield io(Kb.setLoading(!0)),yield uo(500),yield io(Kb.setState({subscription:$A,fetching:!1,loading:!1,error:null}))}function*zA(){yield na(Kb.load,BA)}function*HA(){yield na(Jb.loadBillingInformation,JA)}function*JA(){yield function*(e){const t=yield co((e=>{var t;return null==(t=e.subscriptions.config.config)?void 0:t.paymentProvider})),n=yield co((e=>{var t,n;return null==(t=e.auth)||null==(n=t.user)?void 0:n.tenantId}));t&&n?yield YA(n,!1):yield io(Jb.setError(t?"Not authorized":"Internal feature failure"))}()}function*YA(e,t){yield io(Jb.setLoading(!0));try{var n,i;const o=yield ro(fu.subscriptions.getSubscriptionSummaries,e),{currentPlanId:a,externallyManaged:r}=o;let l,s=null;r?l=yield ro(fu.subscriptions.getSubscriptionPlan,a):([,l]=yield oo([ro(KA),ro(fu.subscriptions.getSubscriptionPlan,a)]),s=yield co((e=>e.subscriptions.billing.subscription.subscription||null))),yield io(Jb.setState(D({loading:!1,fetching:!1,summary:o},s?{subscription:{id:s.id,externalId:s.externalId,startDate:s.startDate,currentPeriodStart:s.currentPeriodStart,currentPeriodEnd:s.currentPeriodEnd,status:t?RA.ACTIVE:MA(s.status),cancellation:s.cancellation&&UA(s.cancellation),trialEnd:s.trialEnd?s.trialEnd:null}}:{},l?{plan:{id:l.id,name:l.name,description:l.description,price:(null==(n=l.price)?void 0:n.amount)||0,currency:(null==(i=l.price)?void 0:i.currency)||"usd",recurringInterval:"month",slug:l.slug}}:{})))}catch(e){yield io(Jb.setError(e.message))}}function*QA(){yield function*(){var e,t;yield io(Jb.setLoading(!0)),yield uo(500),yield io(Jb.setState({loading:!1,fetching:!1,summary:{subscriptionId:$A.id,paymentMethodId:"mockPaymentMethodId",tenantConfigurationId:"mockTenantConfigurationId",providerType:Vd.Stripe,externallyManaged:!1,currentPlanId:NA[0].id,defaultPlanId:NA[0].id},plan:D({},NA[0],{price:null==(e=NA[0].price)?void 0:e.amount,currency:null==(t=NA[0].price)?void 0:t.currency,recurringInterval:"month"})}))}()}function*XA(){yield na(Jb.loadBillingInformation,QA)}function*ZA(){yield na(tA.loadPaymentMethod,ek),yield na(tA.submitPaymentMethod,nk),yield na(tA.submitPaymentMethodError,ik),yield na(tA.submitPaymentMethodSuccess,ok),yield na(tA.updatePaymentMethodBillingDetails,tk)}function*ek(){yield io(tA.setLoading(!0));try{const e=(yield ro(fu.subscriptions.getPaymentMethods))[0];yield io(tA.setState({paymentMethod:e,loading:!1,fetching:!1}))}catch(e){yield io(tA.setError(e.message))}}function*tk({payload:e}){yield io(tA.setLoading(!0));const{id:t,email:n,address:i,callback:o}=e;try{yield ro(fu.subscriptions.updatePaymentMethodBillingDetails,t,D({email:n},i)),yield ro(ek),null==o||o(!0)}catch(e){yield io(tA.setError(e.message)),null==o||o(!1)}yield io(tA.setLoading(!1))}function*nk(){yield io(tA.setLoading(!0))}function*ik({payload:e}){yield io(tA.setError(e))}function*ok(){yield io(tA.loadPaymentMethod())}function*ak(){yield io(tA.setLoading(!0)),yield uo(500);const e=xA[0];yield io(tA.setState({paymentMethod:e,loading:!1,fetching:!1}))}function*rk(){yield na(tA.loadPaymentMethod,ak)}function*lk(){yield na(lA.loadInvoices,sk),yield na(lA.downloadInvoice,ck)}function*sk(){yield io(lA.setLoading(!0));try{const e=(yield ro(fu.subscriptions.getSubscriptionInvoices)).map((e=>({id:e.id,externalId:e.externalId,subscriptionId:e.subscriptionId,paymentDate:new Date(Date.parse(e.paymentDate)),totalAmount:+((e.totalAmount||0)/100).toFixed(2),currency:e.currency||"usd",paid:e.paid||!1,receiptNumber:e.receiptNumber})));yield io(lA.setState({loading:!1,fetching:!1,invoices:e}))}catch(e){yield io(lA.setError(e.message))}}function*ck({payload:e}){yield io(lA.setInvoiceDownloadState({loading:!0,error:null}));try{yield ro(fu.subscriptions.getSubscriptionInvoicePdf,e.invoiceId,e.filename),yield io(lA.setInvoiceDownloadState({loading:!1,error:null}))}catch(e){yield io(lA.setInvoiceDownloadState({loading:!1,error:e.message||null}))}}function*dk(){yield io(lA.setLoading(!0)),yield uo(500),yield io(lA.setState({loading:!1,fetching:!1,invoices:FA.map((e=>D({},e,{selectedPlan:"Premium",paymentDate:new Date(Date.parse(e.paymentDate)),totalAmount:+((e.totalAmount||0)/100).toFixed(2)})))})),yield io(lA.setLoading(!1))}function*uk(){yield na(lA.loadInvoices,dk)}function*yk(){yield oo([ro(HA),ro(ZA),ro(lk),ro(jA)])}function*fk(){yield oo([ro(XA),ro(rk),ro(uk),ro(zA)])}function*gk(){yield na(SA.loadCheckout,pk),yield na(SA.resetCheckout,Sk),yield na(SA.submitCheckout,vk),yield na(SA.confirmCheckout,mk),yield na(SA.errorCheckout,bk)}function*pk(){yield io(SA.setState({fetching:!1,loading:!1,error:null,confirmed:!1}))}function*Sk(){yield io(SA.setState({loading:!1,error:null,confirmed:!1}))}function*vk(){yield io(SA.setState({loading:!0,error:null}))}function*mk({payload:{paymentMethodId:e,planId:t}}){const n=yield co((e=>e.subscriptions.billing.subscription.subscription)),i=yield co((e=>e.subscriptions.billing.information.summary)),o=(null==n?void 0:n.status)===Nd.TRIALING,a=!(null==i||!i.paymentMethodId);if(n){if(yield io(SA.setState({loading:!0,error:null})),o&&a)return yield hk(),void(yield io(Kb.setState({subscription:D({},n,{status:Nd.ACTIVE})})));try{yield ro(fu.subscriptions.updateManagedSubscription,n.id,{paymentMethodId:e,planId:t}),yield oo([JA(),ek(),sk()]),yield hk()}catch(e){yield io(SA.setState({loading:!1,error:e.message}))}}else yield io(SA.setState({loading:!1,error:"Subscription not found"}))}function*hk(){yield io(SA.setState({loading:!1,error:null,confirmed:!0}))}function*bk({payload:e}){yield io(SA.setState({loading:!1,error:e}))}function*Ak(){yield na(SA.resetCheckout,Sk)}function*kk(){yield na(Db.loadPlans,Tk)}function*Tk(){yield io(Db.setLoading(!0));try{const e=(yield ro(fu.subscriptions.getSubscriptionPlans)).map((e=>{var t,n;return{id:e.id,name:e.name,description:e.description,price:(null==(t=e.price)?void 0:t.amount)||0,currency:(null==(n=e.price)?void 0:n.currency)||"usd",recurringInterval:"month",slug:e.slug}}));yield io(Db.setState({fetching:!1,loading:!1,plans:e}))}catch(e){yield io(Db.setError(e.message))}}function*Pk(){yield io(Db.setLoading(!0)),yield uo(500),yield io(Db.setState({fetching:!1,loading:!1,plans:NA.map((e=>{var t,n;return D({},e,{price:(null==(t=e.price)?void 0:t.amount)||0,currency:(null==(n=e.price)?void 0:n.currency)||"usd",recurringInterval:"month"})}))}))}function*Ik(){yield na(Db.loadPlans,Pk)}function*Lk(){yield na(Nb.loadPaymentConfiguration,Ek)}function*Ek(){yield io(Nb.setLoading(!0));try{(yield ro(fu.subscriptions.getPaymentProviders)||[]).find((e=>"1"===e.status&&e.providerType===Vd.Stripe))?yield function*(){yield io(Nb.setLoading(!0));try{const e=yield ro(fu.subscriptions.getStripePaymentProviderConfiguration);yield io(Nb.setState({loading:!1,fetching:!1,config:{paymentProvider:DA.STRIPE,apiKey:e.publishableKey}}))}catch(e){yield io(Nb.setError(e.message))}}():yield io(Nb.setError("Payment provider not configured"))}catch(e){yield io(Nb.setError(e.message))}}function*wk(){yield io(Nb.setLoading(!0)),yield uo(500),yield io(Nb.setState({loading:!1,fetching:!1,config:{paymentProvider:DA.STRIPE,apiKey:""}}))}function*Ok(){yield na(Nb.loadPaymentConfiguration,wk)}function*Ck(){yield na(kA.createCardSetupIntentSecret,Dk)}function*Dk({payload:e}){yield io(kA.setState({loading:!0,error:null,cardSetupIntentSecret:null}));try{const t={};e&&(t.paymentMethodId=e);const{setupIntentSecret:n}=yield ro(fu.subscriptions.createStripePaymentMethodSetupIntentSecret,t);yield io(kA.setState({cardSetupIntentSecret:n,loading:!1}))}catch(e){yield io(kA.setError(e.message))}}function*Rk(){yield na(EA.loadVendorPublicConfiguration,_k)}function*_k(){yield io(EA.setLoading(!0));try{const e=yield ro(fu.subscriptions.getVendorPublicConfigurations);yield io(EA.setState({fetching:!1,loading:!1,vendorPublicConfig:e}))}catch(e){yield io(EA.setError(e.message))}}function*Uk(){yield io(EA.setLoading(!0)),yield uo(500),yield io(EA.setState({fetching:!1,loading:!1,vendorPublicConfig:VA}))}function*Mk(){yield na(EA.loadVendorPublicConfiguration,Uk)}const $k={sagas:function*(){yield oo([ro(yk),ro(gk),ro(kk),ro(Lk),ro(Ck),ro(Rk)])},mockSagas:function*(){yield oo([ro(fk),ro(Ak),ro(Ik),ro(Ok),ro(Mk)])},reducer:CA,actions:OA,initialState:wA,storeName:xt},Nk={sagas:function*(){yield na(ay.loadVendorPublicInfo,ry)},storeName:Vt,initialState:ny,reducer:iy,actions:ay},{reducer:Fk}=gt({name:"root",initialState:{context:void 0,urlStrategy:"path",previewMode:!1},reducers:{setContext:{prepare:e=>({payload:e}),reducer:(e,{payload:t})=>(aa.setContext(t),D({},e,{context:t}))}}}),xk=(e,t,n=!1,i,o,a=!1,r="path")=>{let l=t;if("undefined"==typeof window&&null==t)throw Error("createFronteggStore(initState, storeHolder) failed, storeHolder must not be null in Server-Side rendering");if(l||(l=window),!l.store){var s,c,d,u,y,f,g,p,S,v;n||a||aa.setContext(e.context);const t=zo(),m=[...dt({thunk:!1,immutableCheck:!1,serializableCheck:!1}),t];l.store=ut({middleware:m,preloadedState:{root:D({},e,{previewMode:n,urlStrategy:r}),[sh.storeName]:D({},sh.initialState,i,null!=(s=null==o?void 0:o.auth)?s:{},{routes:D({},sh.initialState.routes,null!=(c=null==i?void 0:i.routes)?c:{},null!=(d=null==o||null==(u=o.auth)?void 0:u.routes)?d:{})}),[Uh.storeName]:D({},Uh.initialState,null!=(y=null==o?void 0:o.auditLogs)?y:{},{auditLogsState:D({},Uh.initialState.auditLogsState,null!=(f=null==o||null==(g=o.auditLogs)?void 0:g.auditLogsState)?f:{}),auditsMetadataState:D({},Uh.initialState.auditsMetadataState,null!=(p=null==o||null==(S=o.auditLogs)?void 0:S.auditsMetadataState)?p:{})}),[$h]:D({},Mh,null!=(v=null==o?void 0:o.audits)?v:{}),[kb.storeName]:kb.initialState,[$k.storeName]:$k.initialState,[Nk.storeName]:Nk.initialState},reducer:Ke({root:Fk,[sh.storeName]:sh.reducer,[Uh.storeName]:Uh.reducer,[$h]:Fh,[kb.storeName]:kb.reducer,[$k.storeName]:$k.reducer,[Nk.storeName]:Nk.reducer})});const h=function*(){yield oo([ro(sh.sagas),ro(Uh.sagas),ro(Jh),ro(kb.sagas),ro($k.sagas),ro(Nk.sagas)])},b=function*(){yield oo([ro(sh.mockSagas),ro(Uh.mockSagas),ro($k.mockSagas)])};n?(l.store.destroy=t.run(b).cancel,l.store.dispatch(ai.requestAuthorize(!0))):l.store.destroy=t.run(h).cancel}return l.store};var Vk=n(857),jk=n.n(Vk);function Wk(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function Kk(e){if(e.type)return e;if("#"===e.charAt(0))return Kk(function(e){e=e.substr(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error("MUI: Unsupported `%s` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color(). "+e);const i=e.substring(t+1,e.length-1);let o,a;if("color"===n){if(a=i.split(" "),o=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o))throw new Error("MUI: unsupported `%s` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020."+o)}else a=i.split(",");return{type:n,values:a.map((e=>parseFloat(e))),colorSpace:o}}function Gk(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function qk(e){if(0===e.indexOf("#"))return e;const{values:t}=Kk(e);return`#${t.map(((e,t)=>function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(3===t?Math.round(255*e):e))).join("")}`}function Bk(e,t){if(e=Kk(e),t=Wk(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Gk(e)}function zk(e,t){if(e=Kk(e),t=Wk(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Gk(e)}const Hk=e=>{if(e)return{main:e,light:qk(zk(e,.4)),dark:qk(Bk(e,.15)),hover:qk(Bk(e,.15)),active:qk(Bk(e,.2))}},Jk=e=>{if(e)return{main:e,light:zk(e,.7),dark:Bk(e,.2)}},Yk={},Qk={},Xk={},Zk={usage:{visibility:"hidden",permissions:["fe.usage.read"],featureFlag:"fe-usage-page"},webhooks:{visibility:"hidden",permissions:["fe.connectivity.read.webhooks"]},roles:{visibility:"hidden",featureFlag:"fe-roles-page",permissions:["fe.secure.read.roles"]},users:{visibility:"always",permissions:["fe.secure.read.users"],inviteDialog:{phoneNumberField:"optional"}},personalApiTokens:{visibility:"hidden",permissions:["fe.secure.read.userApiTokens"]},apiTokens:{visibility:"hidden",permissions:["fe.secure.read.tenantApiTokens"]},profile:{visibility:"always"},privacy:{visibility:"always",permissions:["fe.secure.read.securityPolicy"]},account:{visibility:"always",permissions:["fe.secure.read.accountSettings"]},security:{visibility:"always",permissions:["fe.secure.read.securityPolicy"]},sso:{visibility:"hidden",permissions:["fe.secure.read.samlConfiguration"]},multipleSSO:{visibility:"hidden",permissions:["fe.secure.read.samlConfiguration"]},audits:{visibility:"always",permissions:["fe.secure.read.audits"]},subscriptions:{visibility:"hidden",permissions:["fe.subscriptions.*"]}};class eT{constructor(){this._theme=Yk,this._themeV2=Qk,this._navigation=Zk,this._localizations=Xk}static getInstance(e="default"){return this._instances[e]}static set(e,t="default"){const n=new eT;return n.set(e),eT._instances[t]=n,n}get theme(){var e;return null!=(e=this._theme)?e:{}}get themeV2(){var e;return null!=(e=this._themeV2)?e:{}}get navigation(){var e;return null!=(e=this._navigation)?e:{}}get localizations(){var e;return null!=(e=this._localizations)?e:{}}set(e){try{var t,n,i,o,a,r,l;this._navigation=jk().all([null!=(t=Zk)?t:{},null!=(n=null==e?void 0:e.navigation)?n:{}]),this._theme=jk().all([null!=(i=Yk)?i:{},(s=null==e?void 0:e.theme,c=Yk,null!=s&&s.palette&&"string"==typeof(null==s||null==(d=s.palette)?void 0:d.primary)?D({},c,{palette:{primary:D({},Hk(null==s||null==(u=s.palette)?void 0:u.primary),{contrastText:null!=(y=null==s||null==(f=s.palette)?void 0:f.primaryText)?y:"#000000"}),secondary:D({},Hk(null==s||null==(g=s.palette)?void 0:g.secondary),{contrastText:null!=(p=null==s||null==(S=s.palette)?void 0:S.secondaryText)?p:"#000000"}),danger:D({},Hk(null==s||null==(v=s.palette)?void 0:v.error),{contrastText:"#FFF"}),success:D({},Jk(null==s||null==(m=s.palette)?void 0:m.success),{contrastText:"#FFF"}),error:D({},Jk(null==s||null==(h=s.palette)?void 0:h.error),{contrastText:"#FFF"}),warning:D({},Jk(null==s||null==(b=s.palette)?void 0:b.warning),{contrastText:"#FFF"}),info:D({},Jk(null==s||null==(A=s.palette)?void 0:A.info),{contrastText:"#FFF"})}}):{})]),this._themeV2=jk().all([null!=(o=Qk)?o:{},null!=(a=null==e?void 0:e.themeV2)?a:{}]),this._localizations=jk().all([null!=(r=Xk)?r:{},null!=(l=null==e?void 0:e.localizations)?l:{}])}catch(e){this._navigation=Zk,this._theme=Yk,this._themeV2=Qk,this._localizations=Xk}var s,c,d,u,y,f,g,p,S,v,m,h,b,A}}eT._instances={};var tT={admin_portal_ip_restrictions:"on",admin_portal_domain_restrictions:"on","use-new-mfa-pages":"on"},nT=function(e){return e.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join("")},iT=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(t);return Object.keys(n).forEach((function(e){return i.setAttribute(e,n[e])})),e.appendChild(i),i},oT=function(){function e(){h(this,e)}return T(e,null,[{key:"setInstance",value:function(t,n){e._apps[t]=n}},{key:"getInstance",value:function(t){var n=e._apps[t];if(!n)throw Error("[".concat(t,"] FronteggApp not found"));return n}}]),e}();let aT,rT,lT,sT,cT,dT,uT,yT,fT,gT,pT;oT._apps={},function(e){e.Name="name",e.PhoneNumber="phoneNumber",e.Address="address",e.JobTitle="jobTitle"}(aT||(aT={})),function(e){e.LoginSessions="loginSessions",e.Mfa="mfa"}(rT||(rT={})),function(e){e.Name="name",e.PhoneNumber="phoneNumber"}(lT||(lT={})),function(e){e.CompanyName="companyName",e.Address="address",e.Website="website",e.Timezone="timezone",e.Currency="currency"}(sT||(sT={})),function(e){e.Invoices="invoices"}(cT||(cT={})),function(e){e.SessionManagement="sessionManagement",e.GeneralSettings="generalSettings",e.IpRestrictions="ipRestrictions",e.DomainRestrictions="domainRestrictions"}(dT||(dT={})),function(e){e.IdleSessionTimeout="idleSessionTimeout",e.ForceReLogin="forceReLogin",e.MaximumConcurrentSessions="maximumConcurrentSessions"}(uT||(uT={})),function(e){e.Mfa="mfa",e.UserLockout="userLockout",e.PasswordHistory="passwordHistory"}(yT||(yT={})),function(e){e.IpAddressRestrictions="ipAddressRestrictions"}(fT||(fT={})),function(e){e.RestrictSignupByEmailDomain="restrictSignupByEmailDomain"}(gT||(gT={})),function(e){e.SSO="SSO",e.Provisioning="Provisioning"}(pT||(pT={}));const ST={hidden:"hidden",viewOnly:"viewOnly",edit:"edit"},vT={hidden:"hidden",edit:"edit"},mT="6.52.0";var hT=function(){function e(t,n){var i,o,a,r,l=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,e),this.name=void 0,this.iframeRendering=void 0,this.options=void 0,this.loading=!0,this.cdnUrl="https://assets.frontegg.com/admin-box/".concat(mT),this.customElementName="",this.adminPortalEl=void 0,this.adminPortalRenderer=void 0,this.loginBoxEl=void 0,this.checkoutDialogEl=void 0,this.checkoutDialogRenderer=void 0,this.adminPortalContainer=void 0,this.loginBoxContainer=void 0,this.checkoutDialogContainer=void 0,this.loginBoxRenderer=void 0,this.store=void 0,this.flags={},this.loadingListeners=[],this.updateLocalizations=void 0,this.loadAdminBoxMetadata=_(M().mark((function e(){var t,n,i,o,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=da,l.options.metadata){e.next=12;break}return e.prev=2,e.next=5,t("/metadata",{entityName:"adminBox"});case 5:a=e.sent,l.options.metadata=null!=(n=null==a||null==(i=a.rows)||null==(o=i[0])?void 0:o.configuration)?n:{},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("failed to get admin portal metadata",e.t0);case 12:eT.set(l.options.metadata,l.name);case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),this.requestAuthorize=_(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.options.hostedLoginBox||l.options.builderMode||"nextjs"===l.options.framework||l.store.dispatch({type:"auth/requestAuthorize",payload:!0});case 1:case"end":return e.stop()}}),e)}))),this.loadFeatureFlags=_(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.options.previewMode&&!l.options.builderMode){e.next=4;break}l.flags=tT,e.next=13;break;case 4:return e.prev=4,e.next=7,tu();case 7:l.flags=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error("failed to get admin portal feature flags",e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])}))),this.updateLocalizationsSetter=function(e){l.updateLocalizations=e};var c=nT(n),d="frontegg-app-".concat(c);this.iframeRendering=s,this.name=c,this.options=D({},t,{contextOptions:D({requestCredentials:"include"},t.contextOptions)}),this.options.cdnUrl&&(this.cdnUrl=this.options.cdnUrl),this.customElementName=d;var u=this.options.authOptions?D({},this.options.authOptions,{hostedLoginBox:this.options.hostedLoginBox}):{hostedLoginBox:this.options.hostedLoginBox};u.disableSilentRefresh=null==(i=this.options.authOptions)?void 0:i.disableSilentRefresh,this.store=null!=(o=this.options.store)?o:xk({context:this.options.contextOptions},this,this.options.previewMode,u,{auth:null!=(a=this.options.authOptions)?a:{},audits:null!=(r=this.options.auditsOptions)?r:{}},!1,this.options.urlStrategy),oT.setInstance(c,this)}var t,n,i,o;return T(e,[{key:"initContainers",value:(o=_(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adminPortalEl=t.adminPortalEl,this.loginBoxEl=t.loginBoxEl,this.checkoutDialogEl=t.checkoutDialogEl,this.adminPortalContainer=t.adminPortalContainer,this.loginBoxContainer=t.loginBoxContainer,this.checkoutDialogContainer=t.checkoutDialogContainer;try{"nextjs"!==this.options.framework&&document.body.classList.add("frontegg-loading")}catch(e){}return e.next=9,Promise.all([this.loadAdminBoxMetadata(),this.requestAuthorize(),this.loadFeatureFlags()]);case 9:this.options.previewMode||this.options.customLoginBox||this.loadLoginBox(),this.loadScript("FronteggAdminPortal");case 11:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateMetadata",value:function(e){var t;eT.set(e,this.name),null!=e&&e.localizations&&(null==(t=this.updateLocalizations)||t.call(this,e.localizations))}},{key:"addOnLoadedListener",value:function(e){this.loading?this.loadingListeners.push(e):e()}},{key:"ready",value:function(e){this.loading?e():this.addOnLoadedListener(e)}},{key:"loginWithRedirect",value:function(){this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/requestHostedLoginAuthorize"})}},{key:"logout",value:function(){this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/logout"})}},{key:"loadScript",value:function(e){var t=this;return new Promise((function(n,i){if(window[e])n(window[e]);else{var o=document.createElement("script");o.src="".concat(t.cdnUrl,"/").concat({FronteggLoginBox:"login-box/index.js",FronteggAdminPortal:"admin-portal/index.js"}[e]),o.setAttribute("id","".concat(e,"Script")),o.setAttribute("cdn-url",t.cdnUrl),o.onload=function(){window["".concat(e,"Init")]?n(window["".concat(e,"Init")]({FronteggRestApi:v,FronteggTypes:m})):n(window[e])},o.onerror=function(e){console.log("Profile page error",e),i(e)},document.body.append(o)}}))}},{key:"loadLoginBox",value:(i=_(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript("FronteggLoginBox");case 2:e.sent.render(this.loginBoxEl,{injector:this,options:this.options}),this.loading=!1,this.loadingListeners.forEach((function(e){try{e()}catch(e){}})),this.loadingListeners=[];case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"showAdminPortal",value:(n=_(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript("FronteggAdminPortal");case 2:t=e.sent,this.adminPortalRenderer=t.render(this.adminPortalEl,{injector:this,options:this.options});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"hideAdminPortal",value:function(){try{var e;null==(e=this.adminPortalRenderer)||e.unmount()}catch(e){console.error("Failed to unmount admin portal",e)}}},{key:"showCheckoutDialog",value:(t=_(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript("FronteggAdminPortal");case 2:n=e.sent,this.checkoutDialogRenderer=n.renderCheckoutDialog(this.checkoutDialogEl,D({injector:this},t,{options:this.options}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"hideCheckoutDialog",value:function(){try{var e;null==(e=this.checkoutDialogRenderer)||e.unmount()}catch(e){console.error("Failed to unmount checkout dialog",e)}}},{key:"close",value:function(){this.hideAdminPortal(),this.hideCheckoutDialog()}}]),e}();function bT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return L(this,n)}}const AT=document.createElement("style");AT.setAttribute("type","text/css"),AT.innerHTML="",document.getElementsByTagName("head")[0].appendChild(AT);const kT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=new hT(e,t);if("undefined"!=typeof document){var i;if(!e.contextOptions.baseUrl){var o=new Error('Edit <FronteggProvider/> options { ContextOptions: { baseUrl: "" } } in order to connect your application');throw document.body.innerHTML="",alert(o.message),o}if(!customElements.get("frontegg-app")){var a=function(e){I(n,e);var t=bT(n);function n(){var e;h(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).app=null,e}return T(n,[{key:"connectedCallback",value:function(){this.updateContent()}},{key:"attributeChangedCallback",value:function(e,t,n){if("app-name"===e){if(null===t)return;if(t===n)return;this.innerHTML="",null===n?this.remove():this.updateContent()}console.debug("attributeChangedCallback",e,t,n)}},{key:"updateContent",value:function(){var e,t=null!=(e=this.getAttribute("app-name"))?e:"default",n=oT.getInstance(t);if(null===n)throw Error("FronteggApp not found for appName: '".concat(t,"'"));this.setAttribute("id","frontegg-app-".concat(n.name));var i=iT(this,"div",{id:"frontegg-admin-portal-container-".concat(n.name)}),o=iT(this,"div",{id:"frontegg-login-box-container-".concat(n.name)}),a=iT(this,"div",{id:"frontegg-checkout-dialog-container-".concat(n.name)}),r=i.attachShadow({mode:"open"}),l=o.attachShadow({mode:"open"}),s=a.attachShadow({mode:"open"}),c=iT(r,"div",{id:"frontegg-admin-portal-".concat(n.name),class:"frontegg-root-content"}),d=iT(l,"div",{id:"frontegg-login-box-".concat(n.name),class:"frontegg-root-content"}),u=iT(s,"div",{id:"frontegg-checkout-dialog-".concat(n.name),class:"frontegg-root-content"});n.initContainers({adminPortalEl:c,loginBoxEl:d,adminPortalContainer:i,loginBoxContainer:o,checkoutDialogContainer:a,checkoutDialogEl:u})}}],[{key:"observedAttributes",get:function(){return["app-name"]}}]),n}(C(HTMLElement));customElements.define("frontegg-app",a)}null==(i=document.querySelector('frontegg-app[app-name="'.concat(n.name,'"]')))||i.remove();var r=document.createElement("frontegg-app");r.setAttribute("app-name",n.name),document.body.appendChild(r)}return n}({contextOptions:{baseUrl:"https://app-frtqiefxjqn9.frontegg.com",clientId:"04017595-4e5d-4e7e-aff6-93c58d489d2f"},hostedLoginBox:!0});document.getElementById("loginWithRedirect").addEventListener("click",(()=>{kT.loginWithRedirect()})),document.getElementById("logout").addEventListener("click",(()=>{kT.logout()})),kT.store.subscribe((()=>{const e=kT.store.getState();e.auth.user?document.getElementById("user-container").innerText=e.auth.user.email:document.getElementById("user-container").innerText="Not Authenticated",document.getElementById("app-root").style.display=e.auth.isLoading?"hidden":"block";let t="";e.auth.isAuthenticated?(t+='[fe-state="isAuthenticated"] { }',t+='[fe-state="!isAuthenticated"] { display: none; }'):(t+='[fe-state="isAuthenticated"] { display: none; }',t+='[fe-state="!isAuthenticated"] { }'),kT.options.hostedLoginBox?t+='[fe-mode="hosted"] { }':t+='[fe-mode="hosted"] { display: none; }',AT.innerHTML=t}))})()})();